(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],[,,,function(e,o,t){"use strict";t.d(o,"c",(function(){return r})),t.d(o,"a",(function(){return n})),t.d(o,"b",(function(){return a})),t.d(o,"d",(function(){return c}));var r={development:"891031345873-ir73kc1ru0ncv564iesac94kjaap5nf4.apps.googleusercontent.com",production:"891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com"},n={development:"http://localhost:3000",production:"https://sim-api.danascheider.com"},a={development:"http://localhost:3001",production:"https://sim.danascheider.com"},c="_sim_google_session"},,,function(e,o,t){"use strict";o.a={home:"/",login:"/login",dashboard:{main:"/dashboard",shoppingLists:"/dashboard/shoppingLists"}}},,,function(e,o,t){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLink:"dashboardHeader_headerLink__dHHDn",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}},,,,,function(e,o,t){e.exports={root:"shoppingListItem_root__3NPoi",headerContainer:"shoppingListItem_headerContainer__hu6Ur",button:"shoppingListItem_button__2k4QA",quantity:"shoppingListItem_quantity__1ebyP",description:"shoppingListItem_description__mnU6z",collapsible:"shoppingListItem_collapsible__xa2wr",notes:"shoppingListItem_notes__8g2fK"}},,,function(e,o,t){e.exports={root:"shoppingList_root__2O9FT",button:"shoppingList_button__-Q-F1",collapsible:"shoppingList_collapsible__2Zuq5"}},function(e,o,t){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx"}},function(e,o,t){e.exports={root:"home_root__FVET7",container:"home_container__21QWL",header:"home_header__2rWYK",login:"home_login__PpxdQ"}},function(e,o,t){e.exports={root:"login_root__3wNY7",errorMessage:"login_errorMessage__3t0p4",container:"login_container__3BdxE",button:"login_button__CN8ce"}},,,function(e,o,t){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},function(e,o,t){e.exports={shoppingList:"shoppingList_shoppingList__PXNXi",loading:"shoppingList_loading__2GdWO",error:"shoppingList_error__2Y665"}},,,,,,,,function(e,o,t){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},,,,,function(e,o,t){"use strict";(function(e){var r=t(5),n=t(1),a=t(60),c=t(4),s=t(13),i=t(6),l=t(3),d=t(47),h=t(38),u=t(9),b=t.n(u),j=t(0),m="undefined"===typeof e.process;o.a=function(){var e=Object(n.useState)(!1),o=Object(r.a)(e,2),t=o[0],u=o[1],p=Object(a.a)([l.d]),g=Object(r.a)(p,3),_=g[0],x=g[2],O=Object(n.useState)(null),v=Object(r.a)(O,2),C=v[0],f=v[1],y=Object(n.useState)(!_[l.d]),L=Object(r.a)(y,2),F=L[0],N=L[1],S=Object(n.useRef)(!0);return Object(n.useEffect)((function(){var e="".concat(l.a.production,"/users/current");!0===S.current&&(m||_[l.d])?fetch(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_[l.d])}}).then((function(e){return e.json()})).then((function(e){e?e.error?(console.warn("Error fetching user data - logging out user: ",e.error),x(l.d),N(!0)):(f(e),N(!1)):N(!0)})).catch((function(){_[l.d]&&x(l.d),N(!0)})):N(!0)}),[]),F?Object(j.jsx)(c.a,{to:i.a.login}):Object(j.jsx)("div",{className:b.a.root,children:Object(j.jsxs)("div",{className:b.a.bar,children:[Object(j.jsx)("span",{className:b.a.headerContainer,children:Object(j.jsx)("h1",{className:b.a.header,children:Object(j.jsxs)(s.b,{className:b.a.headerLink,to:i.a.dashboard.main,children:["Skyrim Inventory",Object(j.jsx)("br",{className:b.a.bp})," Management"]})})}),C?Object(j.jsxs)("button",{className:b.a.profile,onClick:function(){return u(!t)},children:[Object(j.jsxs)("div",{className:b.a.profileText,children:[Object(j.jsx)("p",{className:b.a.textTop,children:C.name}),Object(j.jsx)("p",{className:b.a.textBottom,children:C.email})]}),Object(j.jsx)("img",{className:b.a.avatar,src:C.image_url||h.a,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(j.jsx)(d.a,{className:t?b.a.logoutDropdown:b.a.hidden,logOutUser:function(e){if(e.preventDefault(),!window.gapi)return S.current=!1,x(l.d),Object(j.jsx)(c.a,{to:i.a.home});var o=window.gapi.auth2.getAuthInstance();null!=o&&o.then((function(){return o.disconnect(),S.current=!1,_[l.d]&&x(l.d),Object(j.jsx)(c.a,{to:i.a.home})}),(function(e){console.log("Logout error: ",e)}))}})]})})}}).call(this,t(28))},function(e,o,t){"use strict";o.a=t.p+"static/media/anonymousAvatar.36d1acc1.jpg"},,function(e,o,t){e.exports={root:"navigationCard_root__1-FD3"}},function(e,o,t){e.exports={root:"dashboard_root__2oWrU"}},,,,,,function(e,o,t){"use strict";t(1);var r=t.p+"static/media/googleIcon.9432a66b.svg",n=t(23),a=t.n(n),c=t(0);o.a=function(e){var o=e.className,t=e.logOutUser;return Object(c.jsx)("div",{className:o,children:Object(c.jsx)("button",{className:a.a.button,onClick:t,children:Object(c.jsx)("div",{className:a.a.body,children:Object(c.jsxs)("div",{className:a.a.googleLogout,children:[Object(c.jsx)("img",{src:r,alt:"Google logo"}),"Log Out With Google"]})})})})}},,,,,,function(e,o,t){},,,,,,function(e,o,t){"use strict";t.r(o);var r=t(1),n=t.n(r),a=t(34),c=t.n(a),s=(t(53),t(13)),i=t(21),l=t(4),d=t(6),h={schemeColor:"#FFBF00",hoverColor:"#E5AB00",borderColor:"#CC9800",textColorPrimary:"#000000",schemeColorLighter:"#FFCB32",hoverColorLighter:"#FFC519",textColorSecondary:"#000000",textColorTertiary:"#000000",schemeColorLightest:"#FFF2CC"},u={schemeColor:"#E83F6F",hoverColor:"#D03863",borderColor:"#B93258",textColorPrimary:"#FFFFFF",schemeColorLighter:"#EC658B",hoverColorLighter:"#EA527D",textColorSecondary:"#FFFFFF",textColorTertiary:"#000000",schemeColorLightest:"#FAD8E2"},b={schemeColor:"#2274A5",hoverColor:"#1E6894",borderColor:"#1B5C84",textColorPrimary:"#FFFFFF",schemeColorLighter:"#4E8FB7",hoverColorLighter:"#3881AE",textColorSecondary:"#FFFFFF",textColorTertiary:"#000000",schemeColorLightest:"#D2E3ED"},j={schemeColor:"#00A323",hoverColor:"#00921F",borderColor:"#00821C",textColorPrimary:"#FFFFFF",schemeColorLighter:"#32B54E",hoverColorLighter:"#19AC38",textColorSecondary:"#FFFFFF",textColorTertiary:"#000000",schemeColorLightest:"#CCECD3"},m={schemeColor:"#20E2E9",hoverColor:"#1CCBD1",borderColor:"#19B4BA",textColorPrimary:"#000000",schemeColorLighter:"#62EAEF",hoverColorLighter:"#4CE7ED",textColorSecondary:"#000000",textColorTertiary:"#000000",schemeColorLightest:"#D2F9FA"},p=[h,u,b,j,m],g=t(37),_=t(18),x=t.n(_),O=t(0),v=function(e){var o=e.title,t=e.children;return Object(O.jsxs)("div",{className:x.a.root,children:[Object(O.jsxs)("div",{className:x.a.container,children:[o?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:x.a.title,children:o}),Object(O.jsx)("hr",{className:x.a.hr})]}):null,t]}),Object(O.jsx)(g.a,{})]})},C=t(40),f=t.n(C),y=function(e){var o=e.colorScheme,t=e.href,r=e.children,n={"--background-color":o.schemeColor,"--hover-color":o.hoverColor,"--text-color":o.textColorPrimary};return Object(O.jsx)(s.b,{className:f.a.root,to:t,style:n,children:r})},L=t(32),F=t.n(L),N=function(e){var o=e.cardArray;return Object(O.jsx)("div",{className:F.a.root,children:o.map((function(e){var o=e.colorScheme,t=e.href,r=e.children,n=e.key;return Object(O.jsx)("div",{className:F.a.card,children:Object(O.jsx)(y,{colorScheme:o,href:t,children:r})},n)}))})},S=t(41),k=t.n(S),w=[{colorScheme:h,href:d.a.dashboard.shoppingLists,children:"Your Shopping Lists",key:"shopping-lists"},{colorScheme:u,href:"#",children:"Nav Link 2",key:"nav-link-2"},{colorScheme:b,href:"#",children:"Nav Link 3",key:"nav-link-3"},{colorScheme:j,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:m,href:"#",children:"Nav Link 5",key:"nav-link-5"}],E=function(){return Object(O.jsx)(v,{children:Object(O.jsx)("div",{className:k.a.root,children:Object(O.jsx)(N,{cardArray:w})})})},I=t(5),D=t(60),B=t(3),A=t(22),T=t(14),H=t.n(T),P=function(e){var o=e.description,t=e.quantity,n=e.notes,a=e.colorScheme,c=a.schemeColor,s=a.hoverColor,i=a.titleTextColor,l=a.borderColor,d=a.bodyBackgroundColor,h=a.bodyTextColor,u=Object(r.useState)(0),b=Object(I.a)(u,2),j=b[0],m=b[1],p={"--scheme-color":c,"--title-text-color":i,"--border-color":l,"--body-background-color":d,"--body-text-color":h,"--hover-color":s};return Object(O.jsxs)("div",{className:H.a.root,style:p,children:[Object(O.jsxs)("div",{className:H.a.headerContainer,children:[Object(O.jsx)("button",{className:H.a.button,onClick:function(){m(Date.now)},children:Object(O.jsx)("h4",{className:H.a.description,children:o})}),Object(O.jsx)("span",{className:H.a.quantity,children:t})]}),Object(O.jsx)(A.a,{toggleEvent:j,collapsed:!0,children:function(e){var o=e.setCollapsibleElement;return Object(O.jsx)("div",{className:H.a.collapsible,ref:o,children:Object(O.jsx)("div",{className:H.a.container,children:Object(O.jsx)("p",{className:H.a.notes,children:n||"No details available"})})})}})]})},M=t(17),U=t.n(M),q=function(e){var o=e.title,t=e.colorScheme,n=e.listItems,a=void 0===n?[]:n,c=t.schemeColor,s=t.hoverColor,i=t.borderColor,l=t.textColorPrimary,d=t.schemeColorLighter,h=t.hoverColorLighter,u=t.schemeColorLightest,b={schemeColor:d,hoverColor:h,borderColor:i,titleTextColor:t.textColorSecondary,bodyBackgroundColor:u,bodyTextColor:t.textColorTertiary},j=Object(r.useState)(0),m=Object(I.a)(j,2),p=m[0],g=m[1],_={"--scheme-color":c,"--border-color":i,"--text-color":l,"--hover-color":s};return Object(O.jsxs)("div",{className:U.a.root,style:_,children:[Object(O.jsx)("div",{className:U.a.titleContainer,children:Object(O.jsx)("button",{className:U.a.button,onClick:function(){g(Date.now)},children:Object(O.jsx)("h3",{className:U.a.title,children:o})})}),Object(O.jsx)(A.a,{toggleEvent:p,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(O.jsx)("div",{className:U.a.collapsible,ref:t,children:a.map((function(e){var t=e.id,r=e.description,n=e.quantity,a=e.notes,c="".concat(o.toLowerCase().replace(" ","-"),"-").concat(t);return Object(O.jsx)(P,{description:r,quantity:n,notes:a,colorScheme:b},c)}))})}})]})},G=t(44),W=t.n(G),Y=function(e){var o=e.className,t=e.type,r=void 0===t?"spin":t,n=e.color,a=e.height,c=e.width;return Object(O.jsx)(W.a,{className:o,type:r,color:n,height:a,width:c})},z=t(24),K=t.n(z),Q="loading",R="error",J=function(){var e=Object(r.useState)(null),o=Object(I.a)(e,2),t=o[0],n=o[1],a=Object(r.useState)(Q),c=Object(I.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)(null),d=Object(I.a)(l,2),u=d[0],b=d[1],j=Object(D.a)([B.d]),m=Object(I.a)(j,3)[0];return Object(r.useEffect)((function(){var e="".concat(B.a.production,"/shopping_lists");m[B.d]&&fetch(e,{headers:{Authorization:"Bearer ".concat(m[B.d])}}).then((function(e){return 200===e.status||401===e.status?e.json():null})).then((function(e){e?e.error?(i(R),b(e.error)):(i("loaded"),n(e)):(i(R),b("Unknown error: something went wrong when retrieving shopping list data"),console.warn("Something went wrong"))}))}),[]),Object(O.jsx)(v,{title:"Your Shopping Lists",children:t?t.map((function(e,o){var t=e.title,r=e.shopping_list_items,n=o>p.length?o%p.length:o,a=t.toLowerCase().replace(" ","-");return Object(O.jsx)("div",{className:K.a.shoppingList,children:Object(O.jsx)(q,{title:t,listItems:r,colorScheme:p[n]})},a)})):s===Q?Object(O.jsx)(Y,{className:K.a.loading,type:"bubbles",color:h.schemeColor,height:"15%",width:"15%"}):s===R?Object(O.jsx)("div",{className:K.a.error,children:u}):Object(O.jsx)("p",{children:"You have no shopping lists."})})},V=t(19),X=t.n(V),Z=function(){var e=Object(D.a)([B.d]);return Object(I.a)(e,3)[0][B.d]?Object(O.jsx)(l.a,{to:d.a.dashboard.main}):Object(O.jsx)("div",{className:X.a.root,children:Object(O.jsxs)("div",{className:X.a.container,children:[Object(O.jsx)("h1",{className:X.a.header,children:"Skyrim Inventory Management"}),Object(O.jsx)(s.b,{className:X.a.login,to:d.a.login,children:"Log in with Google"})]})})},$=t(45),ee=t.n($),oe=t(20),te=t.n(oe),re=function(){var e=Object(D.a)([B.d]),o=Object(I.a)(e,3),t=o[0],n=o[1],a=o[2],c=Object(r.useState)(null),s=Object(I.a)(c,2),i=s[0],h=s[1];return t[B.d]?Object(O.jsx)(l.a,{to:d.a.dashboard.main}):Object(O.jsxs)("div",{className:te.a.root,children:[i?Object(O.jsx)("p",{className:te.a.errorMessage,children:i}):null,Object(O.jsx)("div",{className:te.a.container,children:Object(O.jsx)(ee.a,{className:te.a.button,clientId:B.c.production,buttonText:"Log In With Google",onSuccess:function(e){var o=e.tokenId,r="".concat(B.a.production,"/auth/verify_token");t[B.d]!==o&&fetch(r,{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){204===e.status?n(B.d,o):t[B.d]&&a(B.d)})).catch((function(e){return t[B.d]&&a(B.d),console.log("Error from /auth/verify_token: ",e),Object(O.jsx)(l.a,{to:d.a.home})}))},onFailure:function(e){console.log("Login failure: ",e),t[B.d]&&a(B.d),h("Something went wrong! Please try logging in again.")},redirectUri:"".concat(B.b.production).concat(d.a.dashboard.main)})})]})},ne="Skyrim Inventory Management |",ae=[{pageId:"home",title:"".concat(ne," Home"),description:"Manage your inventory across multiple properties in Skyrim",Component:Z,path:d.a.home},{pageId:"login",title:"".concat(ne," Login"),description:"Log into Skyrim Inventory Management using your Google account",Component:re,path:d.a.login},{pageId:"dashboard",title:"".concat(ne," Dashboard"),description:"Skyrim Inventory Management User Dashboard",Component:E,path:d.a.dashboard.main},{pageId:"shoppingLists",title:"".concat(ne," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",Component:J,path:d.a.dashboard.shoppingLists}],ce=function(){return Object(O.jsx)(l.d,{children:ae.map((function(e){var o=e.pageId,t=e.title,r=e.description,n=e.Component,a=e.path;return Object(O.jsxs)(l.b,{exact:!0,path:a,children:[Object(O.jsxs)(i.a,{children:[Object(O.jsx)("html",{lang:"en"}),Object(O.jsx)("title",{children:t}),Object(O.jsx)("meta",{name:"description",content:r})]}),Object(O.jsx)(n,{})]},o)}))})},se=function(){return Object(O.jsx)(s.a,{basename:"",children:Object(O.jsx)(i.b,{children:Object(O.jsx)(ce,{})})})};c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(se,{})}),document.getElementById("root"))}],[[59,1,2]]]);
//# sourceMappingURL=main.e0cfef86.chunk.js.map