(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],[,,,,,,,function(e,t,r){e.exports={root:"shoppingListItem_root__3NPoi",collapsed:"shoppingListItem_collapsed__3iHS2",toggle:"shoppingListItem_toggle__26aMd",fa:"shoppingListItem_fa__2P4jA",destroyIcon:"shoppingListItem_destroyIcon__2IBmH",header:"shoppingListItem_header__1qqqT",headerEditable:"shoppingListItem_headerEditable__2K0Ir",description:"shoppingListItem_description__mnU6z",editIcons:"shoppingListItem_editIcons__2RoL7",quantity:"shoppingListItem_quantity__1ebyP",quantityContent:"shoppingListItem_quantityContent__24Ts-",icon:"shoppingListItem_icon__1pEqd",collapsible:"shoppingListItem_collapsible__xa2wr",notes:"shoppingListItem_notes__8g2fK",button:"shoppingListItem_button__2k4QA"}},,,function(e,t,r){e.exports={root:"shoppingListItemCreateForm_root__3B7YP",collapsed:"shoppingListItemCreateForm_collapsed__3j8GF",triggerContainer:"shoppingListItemCreateForm_triggerContainer__3IkQf",triggerButton:"shoppingListItemCreateForm_triggerButton__2HK_d",form:"shoppingListItemCreateForm_form__OXRXv",fieldset:"shoppingListItemCreateForm_fieldset__1ovw9",input:"shoppingListItemCreateForm_input__2Jire",label:"shoppingListItemCreateForm_label__qlamy",submit:"shoppingListItemCreateForm_submit__22fVU"}},,,,,function(e,t,r){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLinkLarge:"dashboardHeader_headerLinkLarge__ED8Xx",headerLinkSmall:"dashboardHeader_headerLinkSmall__3TlC1",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}},,,function(e,t,r){e.exports={root:"shoppingList_root__2O9FT",trigger:"shoppingList_trigger__WV4fR",form:"shoppingList_form__1GdfA",icon:"shoppingList_icon__3FP5H",editIcons:"shoppingList_editIcons__gL8DA",title:"shoppingList_title__3Gulc",fa:"shoppingList_fa__hRtKq",collapsible:"shoppingList_collapsible__2Zuq5",emptyList:"shoppingList_emptyList__289Te"}},,function(e,t,r){e.exports={root:"gameCreateForm_root__1CiVs",slideToggleTrigger:"gameCreateForm_slideToggleTrigger__47o12",form:"gameCreateForm_form__2naYf",fieldset:"gameCreateForm_fieldset__iwI0Y",fieldsetDisabled:"gameCreateForm_fieldsetDisabled__255jN",input:"gameCreateForm_input__3HuYv",button:"gameCreateForm_button__1ePIs",buttonDisabled:"gameCreateForm_buttonDisabled__1bleU"}},function(e,t,r){e.exports={root:"game_root__Wpup7",header:"game_header__2XbBS",name:"game_name__GOPSp",editIcons:"game_editIcons__1kxuu",icon:"game_icon__WCvOa",description:"game_description__KgWbf"}},,,,function(e,t,r){e.exports={root:"gamesDropdown_root__1EUlO",header:"gamesDropdown_header__1Qiyc",input:"gamesDropdown_input__z9Zui",trigger:"gamesDropdown_trigger__3A35t",hidden:"gamesDropdown_hidden__7-IH5",dropdown:"gamesDropdown_dropdown__1kXtE"}},,function(e,t,r){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx",headerContainer:"dashboardLayout_headerContainer__15_gZ",titleContainer:"dashboardLayout_titleContainer__3J8Iz"}},function(e,t,r){e.exports={root:"shoppingListCreateForm_root__iSFdV",button:"shoppingListCreateForm_button__2so-6",fieldset:"shoppingListCreateForm_fieldset__1BLSp",fieldsetDisabled:"shoppingListCreateForm_fieldsetDisabled__2V4n7",input:"shoppingListCreateForm_input__3hAzq",buttonDisabled:"shoppingListCreateForm_buttonDisabled__1USkv"}},,function(e,t,r){e.exports={root:"modalForm_root__1vkew",fieldset:"modalForm_fieldset__3Y2iw",input:"modalForm_input__2W8sl",submit:"modalForm_submit__2K3FT",label:"modalForm_label__1q219"}},function(e,t,r){e.exports={noLists:"shoppingListsPageContent_noLists__1yLrC",link:"shoppingListsPageContent_link__1seef",shoppingList:"shoppingListsPageContent_shoppingList__3X_TT",loading:"shoppingListsPageContent_loading__1Rj5P",error:"shoppingListsPageContent_error__3KtOr"}},,,,function(e,t,r){e.exports={root:"homePage_root__15tty",container:"homePage_container__3kQJo",header:"homePage_header__3EV45",login:"homePage_login__3ala0"}},function(e,t,r){e.exports={root:"loginPage_root__2Vf7z",errorMessage:"loginPage_errorMessage__8uTVC",container:"loginPage_container__2xdLK",button:"loginPage_button__1pDsX"}},,function(e,t,r){e.exports={root:"flashMessage_root__2sPxp",content:"flashMessage_content__3iY0s",header:"flashMessage_header__Vx_Jr",messageList:"flashMessage_messageList__3V9SA",msg:"flashMessage_msg__3Wquk"}},function(e,t,r){e.exports={root:"modal_root__QSEqe",content:"modal_content__1tQ-X",title:"modal_title__1efUU",subtitle:"modal_subtitle__4395I"}},function(e,t,r){e.exports={root:"gamesPage_root__oSBqG",noGames:"gamesPage_noGames__1CUVF",games:"gamesPage_games__2Q2dQ",loading:"gamesPage_loading__1Q0HG"}},function(e,t,r){e.exports={root:"shoppingListEditForm_root__rs5qL",input:"shoppingListEditForm_input__2FbCX",submit:"shoppingListEditForm_submit__1FqNJ",fa:"shoppingListEditForm_fa__Bb-dM"}},function(e,t,r){e.exports={root:"notFoundPage_root__131Oh",container:"notFoundPage_container__38cw2",header:"notFoundPage_header__BhS9L",link:"notFoundPage_link__2cDdM"}},,,function(e,t,r){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},,,,,,function(e,t,r){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},function(e,t,r){e.exports={root:"dashboardPage_root__oVxx1",loading:"dashboardPage_loading__2vZsl"}},function(e,t,r){e.exports={overlay:"shoppingListsPage_overlay__3Mlf4",createForm:"shoppingListsPage_createForm__35weW",flash:"shoppingListsPage_flash__vlZ2Z"}},,,,,,,function(e,t,r){e.exports={root:"gamesDropdownOption_root__1Itlx"}},,function(e,t,r){e.exports={root:"navigationCard_root__1-FD3"}},,,,,,,,,,function(e,t,r){},,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(55),s=r.n(a),i=(r(72),r(11)),c=r(33),l=r(5),u=r(4),d=r(3),h=r(83),f="https://sim-api.danascheider.com",m="_sim_google_session";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"401 Unauthorized";this.message=e,this.code=401,this.name="AuthorizationError",this.stack=(new Error).stack}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"404 Not Found";this.message=e,this.code=404,this.name="NotFoundError",this.stack=(new Error).stack}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"405 Method Not Allowed";this.message=e,this.code=405,this.name="MethodNotAllowedError",this.stack=(new Error).stack}b.prototype=new Error,p.prototype=new Error,g.prototype=new Error;var j,O={"Content-Type":"application/json"},_=function(e){return{Authorization:"Bearer ".concat(e)}},v=function(e){return Object(u.a)(Object(u.a)({},_(e)),O)},x=function(e,t,r){var n="".concat(f,"/games/").concat(t,"/shopping_lists"),o=JSON.stringify({shopping_list:r});return fetch(n,{method:"POST",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e}))},y=function(e,t,r){var n="".concat(f,"/shopping_lists/").concat(t),o=JSON.stringify({id:t,shopping_list:r});return fetch(n,{method:"PATCH",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be updated manually.");return e}))},w=function(e,t){var r="".concat(f,"/shopping_lists/").concat(t);return fetch(r,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be deleted manually.");return e}))},C=function(e,t,r){var n="".concat(f,"/shopping_lists/").concat(t,"/shopping_list_items");return fetch(n,{method:"POST",headers:v(e),body:JSON.stringify({shopping_list_item:r})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to create an item on a list that doesn't exist. Try refreshing to resolve this issue.");return e}))},S=function(e){console.error("Error signing out: ",e.message)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(window.gapi&&window.gapi.auth2){var r=window.gapi.auth2.getAuthInstance();null!==r?r.then((function(){return r.disconnect()})).then(e,t):e()}e()},N=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK||!1,k=!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK,E={home:"/",login:"/login",dashboard:{main:"/dashboard",games:"/dashboard/games",shoppingLists:"/dashboard/shopping_lists"}},I=[E.home,E.login,E.dashboard.main,E.dashboard.games,E.dashboard.shoppingLists],D=[E.dashboard.shoppingLists],T=E,F=r(0),P="done",R=Object(n.createContext)(),U=function(e){var t=e.children,r=e.overrideValue,o=void 0===r?{}:r,a=Object(l.h)().pathname,s=Object(h.a)([m]),i=Object(d.a)(s,3),c=i[0],p=i[1],g=i[2],j=Object(n.useState)({}),O=Object(d.a)(j,2),v=O[0],x=O[1],y=Object(n.useState)(!1),w=Object(d.a)(y,2),C=w[0],S=w[1],k=Object(n.useState)({}),E=Object(d.a)(k,2),D=E[0],U=E[1],A=Object(n.useState)(!1),M=Object(d.a)(A,2),V=M[0],W=M[1],G=Object(n.useState)(o.profileData),q=Object(d.a)(G,2),H=q[0],Y=q[1],B=Object(n.useState)(o.shouldRedirectTo),z=Object(d.a)(B,2),K=z[0],Q=z[1],J=Object(n.useState)(o.profileLoadState||"loading"),X=Object(d.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useRef)(!0),te=Object(n.useCallback)((function(){return g(m)}),[g]),re=Object(n.useCallback)((function(e){ee.current&&Q(e),ee.current=!1}),[]),ne=Object(n.useCallback)((function(){return a!==T.login&&a!==T.home&&-1!==I.indexOf(a)}),[a]),oe=Object(n.useCallback)((function(){return!o.profileData&&c[m]&&ne()}),[o.profileData,c,ne]),ae=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.login,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;L((function(){te(),t&&t(),ne()&&re(e)}))}),[te,ne,re]),se=Object(u.a)({token:c[m],profileData:H,removeSessionCookie:te,setSessionCookie:function(e){return p(m,e)},profileLoadState:Z,setShouldRedirectTo:re,logOutAndRedirect:ae,flashVisible:C,flashProps:v,setFlashVisible:S,setFlashProps:x,setModalVisible:W,setModalAttributes:U,modalVisible:V,modalAttributes:D},o);return Object(n.useEffect)((function(){ne()&&!c[m]&&ee.current&&ae()}),[ne,c,ae]),Object(n.useEffect)((function(){oe()?function(e){var t="".concat(f,"/users/current");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(c[m]).then((function(e){return e.json()})).then((function(e){if(e.errors)throw new Error("Internal Server Error: ",e.errors[0]);!0===ee.current&&(Y(e),o.profileLoadState||$(P))})).catch((function(e){ae()})):N&&!o.profileLoadState&&$(P)}),[ne,ae,o.profileLoadState,oe,c]),Object(n.useEffect)((function(){return function(){return ee.current=!1}}),[]),Object(F.jsx)(R.Provider,{value:se,children:K?Object(F.jsx)(l.a,{to:K}):t})},A=r(13),M=Object(n.createContext)(),V=function(e){var t=e.colorScheme,r=e.children;return Object(F.jsx)(M.Provider,{value:t,children:r})},W=function(){return new URLSearchParams(Object(l.h)().search)},G="loading",q="done",H="error",Y=G,B=q,z=H,K=Object(n.createContext)(),Q=function(e){var t=e.children,r=e.overrideValue,o=void 0===r?{}:r,a=W(),s=Z(),i=s.token,c=s.logOutAndRedirect,l=s.setFlashProps,h=s.setFlashVisible,m=ee().games,j=Object(n.useMemo)((function(){return m&&m.length?parseInt(a.get("game_id")||m[0].id):null}),[m,a]),O=Object(n.useState)(o.shoppingLists||[]),S=Object(d.a)(O,2),L=S[0],N=S[1],k=Object(n.useState)(G),E=Object(d.a)(k,2),I=E[0],D=E[1],P=Object(n.useRef)(!1);o.shoppingLists&&(delete o.shoppingLists,P.current=!0);var R=Object(n.useRef)(!0),U=function(e,t){var r=e.list_items.find((function(e){return e.description.toLowerCase()===t.description.toLowerCase()})),n=Object(A.a)(e.list_items);if(r){var o=e.list_items.indexOf(r);n.splice(o,1,t)}else n.unshift(t);return e.list_items=n,Object(u.a)({},e)},M=function(e,t){var r=Object(u.a)({},e),n=Object(A.a)(e.list_items),o=e.list_items.find((function(e){return e.id===t})),a=e.list_items.indexOf(o);return n.splice(a,1),r.list_items=n,r},V=Object(n.useCallback)((function(){i&&!P.current?function(e,t){var r="".concat(f,"/games/").concat(t,"/shopping_lists");return fetch(r,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e}))}(i,j).then((function(e){return e.json()})).then((function(e){if(R.current&&e&&!e.errors)N(e),!o.shoppingListLoadingState&&D(q);else if(R.current){var t=e&&e.errors?"Internal ServerError: ".concat(e.errors[0]):"No shopping list data returned from the SIM API";throw new Error(t)}})).catch((function(e){401===e.code?c(T.login,(function(){return R.current=!1})):404===e.code&&R.current?(l({type:"error",message:"We couldn't find the game you're looking for."}),h(!0),!o.shoppingListLoadingState&&D(H)):R.current&&(l({type:"error",message:"There was an unexpected error loading your lists. It may have been on our end. We're sorry!"}),!o.shoppingListLoadingState&&D(H))})):R.current&&!o.shoppingListLoadingState&&D(q)}),[i,o.shoppingListLoadingState,l,h,j,c]),Y=Object(u.a)({shoppingLists:L,shoppingListLoadingState:I,performShoppingListUpdate:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.onSuccess,a=r.onNotFound,s=r.onUnprocessableEntity,u=r.onUnauthorized,d=r.onInternalServerError;y(i,e,{title:t}).then((function(e){switch(e.status){case 200:case 422:case 500:return e.json();default:throw Error("Something unexpected went wrong while updating your list.")}})).then((function(t){if(R.current)if(t&&!t.errors){var r=L.map((function(r){return r.id===e?t:r}));N(r),!o.shoppingListLoadingState&&D(q),n&&n()}else{if(!t||!t.errors)throw new Error("Unknown error occurred when updating shopping list: no data returned from SIM API");if(t.errors.filter((function(e){return e.match(/^Title/)})).length!==t.errors.length)throw new Error("Internal Server Error: "+t.errors[0]);l({type:"error",message:t.errors,header:"".concat(t.errors.length," error(s) prevented your changes from being saved:")}),!o.shoppingListLoadingState&&D(q),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,u&&u()})):404===e.code?(l({type:"error",message:"Oops! The shopping list you wanted to update could not be found. Try refreshing the page to fix this issue."}),!o.shoppingListLoadingState&&D(q),a&&a()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),!o.shoppingListLoadingState&&D(q),d&&d())}))},performShoppingListCreate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onSuccess,n=t.onUnauthorized,o=t.onNotFound,a=t.onUnprocessableEntity,s=t.onInternalServerError;x(i,j,{title:e}).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e)&&2===e.length)N(e),r&&r();else if(e&&"object"===typeof e&&!e.errors){var t=Object(A.a)(L);t.splice(1,0,e),N(t),r&&r()}else{if(!e||"object"!==typeof e||!e.errors)throw new Error("There was an unexpected error creating your new list. Unfortunately, we don't know more than that yet. We're sorry!");if(e.errors.filter((function(e){return e.match(/^Title/)})).length!==e.errors.length)throw new Error("Internal Server Error: "+e.errors[0]);l({type:"error",message:e.errors,header:"".concat(e.errors.length," error(s) prevented your shopping list from being created:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,n&&n()})):404===e.code?(l({type:"error",message:"The game you wanted to create a shopping list for could not be found. Try refreshing the page to fix this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),s&&s())}))},performShoppingListDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onSuccess,n=t.onUnauthorized,o=t.onNotFound,a=t.onInternalServerError;w(i,e).then((function(e){return 204===e.status?null:e.json()})).then((function(t){if(R.current&&!t)N([]),l({type:"success",message:"Since it was your last list, your aggregate list has been deleted as well.",header:"Your shopping list has been deleted."}),r&&r();else if(R.current&&t&&!t.errors){var n=L.filter((function(t){return t.id!==e})).map((function(e){return!0===e.aggregate?t:e}));N(n),l({type:"success",message:"Your shopping list has been deleted."}),r&&r()}else if(t&&t.errors)throw new Error("Internal Server Error: ",t.errors[0])})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,n&&n()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))},performShoppingListItemCreate:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(R.current){var n=r.onSuccess,o=r.onNotFound,a=r.onUnprocessableEntity,s=r.onUnauthorized,u=r.onInternalServerError,h=["Description","Quantity","Notes"];C(i,e,t).then((function(e){return e.json()})).then((function(t){if(R.current)if(t&&t.length){var r=Object(d.a)(t,2),o=r[0],s=r[1],i=Object(A.a)(L),c=L[0],u=L.find((function(t){return t.id===e})),f=L.indexOf(u),m=U(c,o),b=U(u,s);i[0]=m,i[f]=b,N(i),n&&n()}else if(t&&"object"===typeof t&&t.errors){if(t.errors.filter((function(e){return-1!==h.indexOf(e.split(" ")[0])})).length!==t.errors.length)throw new Error("Internal Server Error: "+t.errors[0]);l({type:"error",message:t.errors,header:"".concat(t.errors.length," error(s) prevented your shopping list item from being created:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to add an item to. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))}},performShoppingListItemUpdate:function(e,t,r){var n=["Quantity","Notes"],o=r.onSuccess,a=r.onNotFound,s=r.onUnprocessableEntity,u=r.onUnauthorized,h=r.onInternalServerError;(function(e,t,r){var n="".concat(f,"/shopping_list_items/").concat(t);return fetch(n,{method:"PATCH",headers:v(e),body:JSON.stringify({shopping_list_item:r})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to update a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return e}))})(i,e,t).then((function(e){return e.json()})).then((function(t){if(R.current)if(Array.isArray(t)){var r=Object(d.a)(t,2),a=r[0],i=r[1],c=Object(A.a)(L),u=L.find((function(e){return e.id===i.list_id})),h=L.indexOf(u),f=U(L[0],a),m=U(u,i);c[0]=f,c[h]=m,N(c),l({type:"success",message:"Success! Your shopping list item was updated."}),o&&o()}else{if(!t||"object"!==typeof t||!t.errors)throw new Error("Something unexpected went wrong: could not update shopping list item id=".concat(e));if(t.errors.filter((function(e){return-1!==n.indexOf(e.split(" ")[0])})).length!==t.errors.length)throw new Error("Internal Server Error: "+t.errors[0]);l({type:"error",message:t.errors,header:"".concat(t.errors.length," error(s) prevented your shopping list item from being updated:")}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,u&&u()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to update. Sorry! Try refreshing the page to solve this problem."}),a&&a()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),h&&h())}))},performShoppingListItemDestroy:function(e,t){var r=t.onSuccess,n=t.onNotFound,o=t.onUnauthorized,a=t.onInternalServerError;(function(e,t){var r="".concat(f,"/shopping_list_items/").concat(t);return fetch(r,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to delete a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return e}))})(i,e).then((function(e){return 204===e.status?null:e.json()})).then((function(t){var n,o=function(e){return L.find((function(t){return!!t.list_items.find((function(t){return t.id===e}))}))}(e),a=L.indexOf(o),s=Object(A.a)(L);if(t&&"object"===typeof t&&!t.errors)n=U(L[0],t);else{if(t&&"object"===typeof t&&t.errors)throw new Error("Internal Server Error: "+t.errors[0]);var i=o.list_items.find((function(t){return t.id===e})),c=L[0].list_items.find((function(e){return e.description.toLowerCase()===i.description.toLowerCase()}));n=M(L[0],c.id)}var l=M(o,e);s[0]=n,s.splice(a,1,l),N(s),r&&r()})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,o&&o()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),n&&n()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}},o);return Object(n.useEffect)((function(){j&&R.current&&V()}),[V,j]),Object(n.useEffect)((function(){return function(){return R.current=!1}}),[]),Object(F.jsx)(K.Provider,{value:Y,children:t})},J=function(e,t){var r=Object(n.useContext)(e);if(!r)throw new Error(t);return r},X=function(){return J(M,"useColorScheme must be used within a ColorProvider")},Z=function(){return J(R,"useAppContext must be used within a AppProvider")},$=function(){return J(K,"useShoppingListsContext must be used within a ShoppingListProvider")},ee=function(){return J(ie,"useGamesContext must be used within a GamesProvider")},te="loading",re="done",ne="error",oe=te,ae=re,se=ne,ie=Object(n.createContext)(),ce=function(e){var t=e.children,r=e.overrideValue,o=void 0===r?{}:r,a=Z(),s=a.token,i=a.logOutAndRedirect,c=a.setFlashProps,l=Object(n.useState)(o.games||[]),h=Object(d.a)(l,2),m=h[0],g=h[1],j=Object(n.useState)(o.gameLoadingState||te),O=Object(d.a)(j,2),x=O[0],y=O[1],w=Object(n.useRef)(!0),C=Object(n.useRef)(!1);o.games&&(delete o.games,C.current=!0);var S=Object(n.useCallback)((function(e){return e.filter((function(e){return e.match(/^(Name|Description)/)})).length===e.length}),[]),L=Object(n.useCallback)((function(){s&&!C.current&&function(e){var t="".concat(f,"/games");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(s).then((function(e){return e.json()})).then((function(e){if(!e||e.errors){var t=e&&e.errors?"Internal Server Error: ".concat(e.errors[0]):"No game data returned from SIM";throw new Error(t)}w.current&&(g(e),!o.gameLoadingState&&y(re))})).catch((function(e){401===e.code?i(T.login,(function(){return w.current=!1})):w.current&&(c({type:"error",message:"There was an error loading your games. It may have been on our end. We're sorry!"}),y(ne))}))}),[s,o.gameLoadingState,c,i]),N=Object(n.useCallback)((function(e,t){var r=t.onSuccess,n=t.onUnprocessableEntity,o=t.onUnauthorized,a=t.onInternalServerError;(function(e,t){var r="".concat(f,"/games"),n=JSON.stringify({game:t});return fetch(r,{method:"POST",headers:v(e),body:n}).then((function(e){if(401===e.status)throw new b;return e}))})(s,e).then((function(e){return e.json()})).then((function(e){if(e&&!e.errors){if(w.current){var t=Object(A.a)(m);t.unshift(e),g(t)}c({type:"success",message:"Success! Your game has been created."}),r&&r()}else{if(!e||!e.errors)throw new Error("No data were returned from the SIM API");if(!S(e.errors))throw new Error("Internal Server Error: ".concat(e.errors[0]));c({type:"error",header:"".concat(e.errors.length," error(s) prevented your game from being created:"),message:e.errors}),n&&n()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,o&&o()})):(c({type:"error",message:"Something unexpected happened while creating your game. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}),[s,m,c,i,S]),k=Object(n.useCallback)((function(e,t,r){var n=r.onSuccess,o=r.onUnprocessableEntity,a=r.onNotFound,l=r.onInternalServerError,u=r.onUnauthorized;(function(e,t,r){var n="".concat(f,"/games/").concat(t),o=JSON.stringify({game:r});return fetch(n,{method:"PATCH",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e}))})(s,e,t).then((function(e){return e.json()})).then((function(t){if(t&&!t.errors){if(w.current){var r=m.map((function(r){return parseInt(r.id)===parseInt(e)?t:r}));g(r),c({type:"success",message:"Success! Your game has been updated."})}n&&n()}else{if(!t||!t.errors)throw new Error("There was an unexpected error updating your game. Unfortunately, we don't know more than that yet. We're sorry!");if(!S(t.errors))throw new Error("Internal Server Error: ".concat(t.errors[0]));c({type:"error",message:t.errors,header:"".concat(t.errors.length," error(s) prevented your game from being updated:")}),o&&o()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,u&&u()})):404===e.code?(c({type:"error",message:"Oops! We couldn't find the game you wanted to update. Sorry! Try refreshing the page to solve this problem."}),a&&a()):(c({type:"error",message:"Something unexpected happened while trying to update your game. Unfortunately, we don't know more than that yet. We're working on it!"}),l&&l())}))}),[s,m,c,i,S]),E=Object(n.useCallback)((function(e,t){var r=t.onSuccess,n=t.onUnauthorized,o=t.onInternalServerError;(function(e,t){var r="".concat(f,"/games/").concat(t);return fetch(r,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))})(s,e).then((function(t){if(204!==t.status&&404!==t.status||!w.current){if(w.current)throw new Error("Something went wrong destroying game ".concat(e))}else{var n=m.find((function(t){return parseInt(t.id)===parseInt(e)})),o=m.indexOf(n),a=Object(A.a)(m);a.splice(o,1),g(a),c({type:"success",message:"Your game has been deleted."}),r&&r()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,n&&n()})):(c({type:"error",message:"Something unexpected happened while trying to delete your game. Unfortunately, we don't know more than that yet. We're working on it!"}),o&&o())}))}),[s,m,i,c]),I=Object(u.a)({games:m,gameLoadingState:x,performGameCreate:N,performGameUpdate:k,performGameDestroy:E},o);return Object(n.useEffect)((function(){w.current&&L()}),[L]),Object(n.useEffect)((function(){return function(){return w.current=!1}}),[]),Object(F.jsx)(ie.Provider,{value:I,children:t})},le=r(35),ue=r.n(le),de=function(){var e=Z(),t=e.token,r=e.setShouldRedirectTo,o=e.removeSessionCookie,a=Object(n.useRef)(!0),s=Object(n.useCallback)((function(){t&&!k&&function(e){var t="".concat(f,"/auth/verify_token");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(t).then((function(e){return 500===e.status?e.json():null})).then((function(e){if(e)throw new Error("Internal Server Error: ",e.errors[0]);r(T.dashboard.main),a.current=!1})).catch((function(e){L((function(){return o()}))}))}),[t,o,r]);return Object(n.useEffect)((function(){return s(),function(){return a.current=!1}}),[t,s]),Object(F.jsx)("div",{className:ue.a.root,children:Object(F.jsxs)("div",{className:ue.a.container,children:[Object(F.jsx)("h1",{className:ue.a.header,children:"Skyrim Inventory Management"}),Object(F.jsx)(i.b,{className:ue.a.login,to:T.login,children:"Log in with Google"})]})})},he=r(59),fe=r.n(he),me=r(36),be=r.n(me),pe=function(){var e=Z(),t=e.token,r=e.setSessionCookie,o=e.removeSessionCookie,a=e.setShouldRedirectTo,s=Object(n.useState)(null),i=Object(d.a)(s,2),c=i[0],l=i[1],u=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){return u.current=!1}})),Object(F.jsxs)("div",{className:be.a.root,children:[c?Object(F.jsx)("p",{className:be.a.errorMessage,children:c}):null,Object(F.jsx)("div",{className:be.a.container,children:Object(F.jsx)(fe.a,{className:be.a.button,clientId:"891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",buttonText:"Log In With Google",onSuccess:function(e){var t=e.tokenId;t&&(r(t),a(T.dashboard.main),u.current=!1)},onFailure:function(e){t&&o(),l("Something went wrong! Please try logging in again.")},redirectUri:"".concat("https://sim.danascheider.com").concat(T.dashboard.main)})})]})},ge={schemeColorDarkest:"#ffbf00",schemeColorDark:"#ffcb32",schemeColorLight:"#ffd866",schemeColorLightest:"#fff2cc",hoverColorDark:"#e5ab00",hoverColorLight:"#ffc519",hoverColorLightest:"#ffebb2",textColorPrimary:"#4c3900",textColorSecondary:"#4c3900",textColorTertiary:"#7f5700",borderColor:"#cc9800"},je={schemeColorDarkest:"#e83f6f",schemeColorDark:"#ec658b",schemeColorLight:"#f18ba8",schemeColorLightest:"#fad8e2",hoverColorDark:"#d03863",hoverColorLight:"#ea527d",hoverColorLightest:"#f5b2c5",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#451221",borderColor:"#b93258"},Oe={schemeColorDarkest:"#2274a5",schemeColorDark:"#4e8fb7",schemeColorLight:"#7aabc9",schemeColorLightest:"#d2e3ed",hoverColorDark:"#1e6894",hoverColorLight:"#3881ae",hoverColorLightest:"#bcd5e4",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#0d2e42",borderColor:"#1b5c84"},_e={schemeColorDarkest:"#00a323",schemeColorDark:"#32b54e",schemeColorLight:"#66c77b",schemeColorLightest:"#ccecd3",hoverColorDark:"#00921f",hoverColorLight:"#19ac38",hoverColorLightest:"#b2e3bd",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#00410e",borderColor:"#00821c"},ve={schemeColorDarkest:"#20e2e9",schemeColorDark:"#62eaef",schemeColorLight:"#8ff0f4",schemeColorLightest:"#d2f9fa",hoverColorDark:"#11cbd1",hoverColorLight:"#4ce7ed",hoverColorLightest:"#bcf6f8",textColorPrimary:"#094345",textColorSecondary:"#094345",textColorTertiary:"#094345",borderColor:"#19b4ba"},xe=[ge,je,Oe,_e,ve],ye=r.p+"static/media/googleIcon.9432a66b.svg",we=r(45),Ce=r.n(we),Se=function(e){var t=e.className,r=e.logOutFunction,o=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){return o.current=!1}})),Object(F.jsx)("div",{className:t,children:Object(F.jsx)("button",{className:Ce.a.button,onClick:function(e){e.preventDefault(),r((function(){o.current=!1}))},children:Object(F.jsx)("div",{className:Ce.a.body,children:Object(F.jsxs)("div",{className:Ce.a.googleLogout,children:[Object(F.jsx)("img",{src:ye,alt:"Google logo"}),"Log Out With Google"]})})})})},Le=r.p+"static/media/anonymousAvatar.36d1acc1.jpg",Ne=r(15),ke=r.n(Ne),Ee=function(){var e=Z(),t=e.profileData,r=e.logOutAndRedirect,o=Object(n.useState)(!1),a=Object(d.a)(o,2),s=a[0],c=a[1],l=Object(n.useRef)(!0),u=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!1),r(T.home,(function(){e&&e(),l.current=!1}))}),[r]);return Object(n.useEffect)((function(){return function(){return l.current=!1}}),[]),Object(F.jsx)("div",{className:ke.a.root,children:Object(F.jsxs)("div",{className:ke.a.bar,children:[Object(F.jsx)("span",{className:ke.a.headerContainer,children:Object(F.jsxs)("h1",{className:ke.a.header,children:[Object(F.jsxs)(i.b,{className:ke.a.headerLinkLarge,to:T.dashboard.main,children:["Skyrim Inventory",Object(F.jsx)("br",{className:ke.a.bp})," Management"]}),Object(F.jsx)(i.b,{className:ke.a.headerLinkSmall,to:T.dashboard.main,children:"S. I. M."})]})}),t?Object(F.jsxs)("button",{className:ke.a.profile,onClick:function(){return c(!s)},children:[Object(F.jsxs)("div",{className:ke.a.profileText,children:[Object(F.jsx)("p",{className:ke.a.textTop,children:t.name}),Object(F.jsx)("p",{className:ke.a.textBottom,children:t.email})]}),Object(F.jsx)("img",{className:ke.a.avatar,src:t.image_url||Le,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(F.jsx)(Se,{className:s?ke.a.logoutDropdown:ke.a.hidden,logOutFunction:u})]})})},Ie=r(6),De=r(8),Te=r.n(De),Fe=r(12),Pe=r(23),Re=r(60),Ue=r.n(Re),Ae=function(e){var t=e.name,r=e.className,n=e.onClick,o=e.onKeyDown,a=e.ariaSelected;return Object(F.jsx)("li",{className:Te()(Ue.a.root,r),onClick:n,onKeyDown:o,role:"option",tabIndex:0,"aria-selected":a,children:t.length>24?"".concat(t.substring(0,23),"..."):t})},Me=r(25),Ve=r.n(Me),We=function(){var e=Object(l.g)(),t=W(),r=Z().setFlashVisible,o=ee(),a=o.games,s=o.gameLoadingState,i=o.performGameCreate,c=Object(n.useState)(null),u=Object(d.a)(c,2),h=u[0],f=u[1],m=Object(n.useState)(!1),b=Object(d.a)(m,2),p=b[0],g=b[1],j=Object(n.useState)(""),O=Object(d.a)(j,2),_=O[0],v=O[1],x=Object(n.useRef)(null),y=function(){return g(!0)},w=Object(n.useCallback)((function(){return g(!1)}),[g]),C={"--button-background-color":Oe.schemeColorDarkest,"--button-hover-color":Oe.hoverColorDark,"--button-text-color":Oe.textColorPrimary,"--button-border-color":Oe.borderColor},S=Object(n.useCallback)((function(t){f(t),v(t.name);var r=new URLSearchParams("game_id=".concat(t.id));e.push({search:r.toString()}),w()}),[e,w]),L=function(e){return!(h&&!a.length)&&(h?h.id===e:e===a[0].id)};return Object(n.useEffect)((function(){var e=parseInt(t.get("game_id"));if(a.length&&e){if(h&&h.id===e)return;var r=e?a.find((function(t){return t.id===e})):a[0];S(r||a[0])}else a.length&&!h&&S(a[0])}),[S,h,a,t]),Object(n.useEffect)((function(){var t=function(t){if(x.current!==t.relatedTarget&&!x.current.contains(t.relatedTarget)){w();var r=a.find((function(e){return e.name.toLowerCase()===_.toLowerCase()}));if(r){f(r),v(r.name);var n=new URLSearchParams("game_id=".concat(r.id));e.push({search:n.toString()})}else h&&v(h.name)}};return document.addEventListener("focusout",t),function(){document.removeEventListener("focusout",t)}}),[a,f,h,v,_,e,w]),Object(F.jsxs)("div",{ref:x,className:Ve.a.root,style:C,"data-testid":"games-dropdown",children:[Object(F.jsxs)("div",{className:Ve.a.header,role:"combobox","aria-haspopup":"listbox","aria-owns":"gamesListbox","aria-controls":"gamesListbox","aria-expanded":p,children:[Object(F.jsx)("input",{className:Te()(Ve.a.input,"focusable"),type:"text",disabled:"done"!==s,value:_,onChange:function(e){return v(e.currentTarget.value)},placeholder:"No games available","aria-autocomplete":"list","aria-multiline":!1,"aria-controls":"gamesListbox",onFocus:y,onClick:y,onKeyDown:function(t){if("Enter"===t.key){var n=a.find((function(e){return e.name.toLowerCase()===t.target.value.toLowerCase()}));if(n)S(n);else i({name:_},{onSuccess:function(){e.push({search:""}),f(null),t.target.blur()},onUnprocessableEntity:function(){r(!0),t.target.blur()},onInternalServerError:function(){r(!0),t.target.blur()}})}else if("ArrowUp"===t.key){t.preventDefault();var o=document.getElementsByClassName("focusable");o[o.length-1].focus()}else"ArrowDown"===t.key?(t.preventDefault(),document.getElementsByClassName("focusable")[1].focus()):"Escape"===t.key&&w()}}),Object(F.jsx)("button",{className:Ve.a.trigger,onClick:function(){return g(!p)},onKeyDown:function(e){"ArrowDown"===e.key&&(e.preventDefault(),document.getElementsByClassName("focusable")[1].focus())},disabled:"done"!==s,"data-testid":"games-dropdown-trigger",children:Object(F.jsx)(Fe.a,{className:Ve.a.fa,icon:Pe.a})})]}),Object(F.jsx)("ul",{id:"gamesListbox",className:Te()(Ve.a.dropdown,Object(Ie.a)({},Ve.a.hidden,!p||!a.length)),role:"listbox",children:a.map((function(e,t){var r=e.id,n=e.name;return Object(F.jsx)(Ae,{className:"focusable",onClick:function(){return S({id:r,name:n})},onKeyDown:function(e){if("Enter"===e.key||" "===e.key)S({id:r,name:n});else if("ArrowUp"===e.key){e.preventDefault();var t=Object(A.a)(document.getElementsByClassName("focusable")),o=t.indexOf(e.target);t[o-1].focus()}else if("ArrowDown"===e.key){e.preventDefault();var a=Object(A.a)(document.getElementsByClassName("focusable")),s=a.indexOf(e.target);a[s<a.length-1?s+1:0].focus()}},ariaSelected:L(r),name:n},"".concat(n.toLowerCase().replace(" ","_"),"-").concat(r))}))})]})},Ge=r(27),qe=r.n(Ge),He=function(e){var t=e.title,r=e.includeGameSelect,n=void 0!==r&&r,o=e.children;return Object(F.jsxs)("div",{className:qe.a.root,children:[Object(F.jsxs)("div",{className:qe.a.container,children:[t?Object(F.jsxs)("div",{className:qe.a.headerContainer,children:[Object(F.jsxs)("div",{className:qe.a.titleContainer,children:[Object(F.jsx)("h2",{className:qe.a.title,children:t}),n&&Object(F.jsx)(We,{})]}),Object(F.jsx)("hr",{className:qe.a.hr})]}):null,o]}),Object(F.jsx)(Ee,{})]})},Ye=r(61),Be=r.n(Ye),ze=function(e){var t=e.className,r=e.type,n=void 0===r?"bubbles":r,o=e.color,a=e.height,s=e.width;return Object(F.jsx)(Be.a,{className:t,type:n,color:o,height:a,width:s})},Ke=r(62),Qe=r.n(Ke),Je=function(e){var t=e.href,r=e.children,n=X(),o={"--background-color":n.schemeColorDarkest,"--hover-color":n.hoverColorDark,"--text-color":n.textColorPrimary};return Object(F.jsx)(i.b,{className:Qe.a.root,to:t,style:o,children:r})},Xe=r(51),Ze=r.n(Xe),$e=function(e){var t=e.cardArray;return Object(F.jsx)("div",{className:Ze.a.root,children:t.map((function(e){var t=e.colorScheme,r=e.href,n=e.children,o=e.key;return Object(F.jsx)("div",{className:Ze.a.card,children:Object(F.jsx)(V,{colorScheme:t,children:Object(F.jsx)(Je,{href:r,children:n})})},o)}))})},et=r(52),tt=r.n(et),rt=[{colorScheme:ge,href:T.dashboard.games,children:"Your Games",key:"your-games"},{colorScheme:je,href:T.dashboard.shoppingLists,children:"Your Shopping Lists",key:"your-shopping-lists"},{colorScheme:Oe,href:"#",children:"Nav Link 3",key:"nav-link-3"},{colorScheme:_e,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:ve,href:"#",children:"Nav Link 5",key:"nav-link-5"}],nt=function(){var e=Z(),t=e.token,r=e.profileLoadState,o=e.setShouldRedirectTo,a=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return t||k||(o(T.login),a.current=!1),function(){return a.current=!1}}),[t,o]),Object(F.jsx)(He,{children:"done"===r?Object(F.jsx)("div",{className:tt.a.root,children:Object(F.jsx)($e,{cardArray:rt})}):Object(F.jsx)(ze,{className:tt.a.loading,type:"bubbles",color:ge.schemeColorDarkest,height:"15%",width:"15%"})})},ot=r(38),at=r.n(ot),st="info",it=(j={},Object(Ie.a)(j,"success",{body:"#e5f2e5",border:"#b2d8b2",text:"#329932"}),Object(Ie.a)(j,st,{body:"#cce5ff",border:"#b3d8ff",text:"#4e6d8e"}),Object(Ie.a)(j,"error",{body:"#ffcccc",border:"#ff9999",text:"#cc0000"}),Object(Ie.a)(j,"warning",{body:"#fefde4",border:"#fdf797",text:"#b0a723"}),j),ct=function(e){var t=e.type,r=void 0===t?st:t,n=e.header,o=e.message,a={"--body-color":it[r].body,"--border-color":it[r].border,"--text-color":it[r].text};return Object(F.jsxs)("div",{className:at.a.root,style:a,children:[n&&Object(F.jsx)("p",{className:at.a.header,children:n}),"string"===typeof o?o:Object(F.jsx)("ul",{className:at.a.messageList,children:o.map((function(e,t){return Object(F.jsx)("li",{className:at.a.msg,children:e},"message-".concat(t))}))})]})},lt=r(22),ut=r(24),dt=r(44),ht=r(39),ft=r.n(ht),mt=function(e){var t=e.children,r=e.title,o=e.subtitle,a=Z().setModalVisible,s=Object(n.useRef)(null),i=Object(n.useRef)(!0),c=Object(n.useCallback)((function(e){return s.current&&(s.current===e||s.current.contains(e))}),[]),l=Object(n.useCallback)((function(e){("click"===e.type&&!c(e.target)||"keydown"===e.type&&"Escape"===e.key)&&(a(!1),i.current=!1)}),[c,a]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[l]),Object(n.useEffect)((function(){return document.getElementsByTagName("body")[0].classList.add("modal-open"),function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),i.current=!1}}),[]),Object(F.jsx)("div",{role:"dialog",className:ft.a.root,onClick:l,children:Object(F.jsxs)("div",{ref:s,className:ft.a.content,children:[Object(F.jsx)("h3",{className:ft.a.title,children:r}),o&&Object(F.jsx)("p",{className:ft.a.subtitle,children:o}),t]})})},bt=["title","subtitle"],pt=function(e){return function(t){var r=t.title,n=t.subtitle,o=void 0===n?null:n,a=Object(dt.a)(t,bt);return Object(F.jsx)(mt,{title:r,subtitle:o,children:Object(F.jsx)(e,Object(u.a)({},a))})}},gt=r(30),jt=r.n(gt),Ot=["tag","label","name"],_t=function(e){var t=e.modelName,r=e.buttonLabel,o=e.onSubmit,a=e.fields,s=e.buttonColor,i=void 0===s?null:s,c=Object(n.useRef)(!0),l=Object(n.useRef)(null),d=Object(n.useRef)(null),h=Object(n.useRef)(i||xe[Math.floor(Math.random()*xe.length)]),f={"--button-background-color":h.current.schemeColorDarkest,"--button-text-color":h.current.textColorPrimary,"--button-hover-color":h.current.hoverColorDark,"--button-border-color":h.current.borderColor};return Object(n.useEffect)((function(){return d.current&&d.current.focus(),function(){return c.current=!1}}),[]),Object(F.jsxs)("form",{ref:l,className:jt.a.root,style:f,onSubmit:o,"data-testid":"".concat(t,"-form"),children:[a.map((function(e,r){var n=e.tag,o=e.label,a=e.name,s=Object(dt.a)(e,Ot);return 0===r&&(s.ref=d),Object(F.jsxs)("fieldset",{className:jt.a.fieldset,children:[Object(F.jsx)("label",{className:jt.a.label,htmlFor:a,children:o}),Object(F.jsx)(n,Object(u.a)({className:jt.a.input,name:a},s))]},"".concat(t,"-").concat(a))})),Object(F.jsx)("button",{className:jt.a.submit,type:"submit",children:r})]})},vt=[{name:"name",tag:"input",label:"Name",type:"text",placeholder:"Name",inputMode:"text"},{name:"description",tag:"input",label:"Description",type:"text",placeholder:"Description",inputMode:"text"}],xt=function(e){var t=e.type,r=e.currentAttributes,o=void 0===r?{}:r,a=Z(),s=a.setFlashVisible,i=a.setModalVisible,c=ee(),d=c.performGameCreate,h=c.performGameUpdate,f=Object(l.g)(),m=Object(n.useRef)(!0),b=vt.map((function(e){return o[e.name]?Object(u.a)({defaultValue:o[e.name]},e):e}));return Object(n.useEffect)((function(){return function(){return m.current=!1}}),[]),Object(F.jsx)(_t,{modelName:"game",buttonLabel:"create"===t?"Create Game":"Update Game",onSubmit:function(e){e.preventDefault(),s(!1);var r=function(){s(!0),i(!1),m.current=!1},n={onUnprocessableEntity:r,onInternalServerError:r,onNotFound:r,onUnauthorized:function(){return m.current=!1}},a={name:e.target.elements.name.value,description:e.target.elements.description.value};for(var c in a)a[c]===o[c]&&delete a[c];if("create"===t){n.onSuccess=function(){D.indexOf(f.location.pathname)>-1?r():(i(!1),m.current=!1)},d(a,n)}else n.onSuccess=r,h(o.id,a,n)},fields:b})},yt=r(21),wt=r.n(yt),Ct=function(e){var t=e.gameId,r=e.name,o=e.description,a=Object(n.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=Z(),u=l.setFlashProps,h=l.setFlashVisible,f=l.setModalVisible,m=l.setModalAttributes,b=ee().performGameDestroy,p=Object(n.useRef)(!0),g=Object(n.useRef)(null),j=Object(n.useRef)(null),O=Object(n.useRef)(null);return Object(n.useEffect)((function(){return p.current=!1}),[]),Object(F.jsxs)("div",{className:wt.a.root,children:[Object(F.jsxs)("div",{className:wt.a.header,onClick:function(e){var t,r;e&&(t=g,r=e.target,t.current&&(t.current===r||t.current.contains(r)))||c(Date.now)},children:[Object(F.jsxs)("span",{ref:g,className:wt.a.editIcons,children:[Object(F.jsx)("button",{ref:O,className:wt.a.icon,onClick:function(e){h(!1);window.confirm("Are you sure you want to delete this game? This cannot be undone. You will lose all data associated with the game you delete.")?b(t,{onSuccess:function(){h(!0),p.current=!1},onInternalServerError:function(){return h(!0)}}):(u({type:"info",message:"Your game was not deleted."}),h(!0))},"data-testid":"game-destroy-icon",children:Object(F.jsx)(Fe.a,{className:wt.a.fa,icon:Pe.c})}),Object(F.jsx)("button",{ref:j,className:wt.a.icon,onClick:function(){h(!1);var e={id:t,name:r,description:o},n=pt(xt);m({Tag:n,props:{title:"Edit Game",type:"edit",currentAttributes:e}}),f(!0)},"data-testid":"game-edit-icon",children:Object(F.jsx)(Fe.a,{className:wt.a.fa,icon:ut.b})})]}),Object(F.jsx)("h3",{className:wt.a.name,children:r})]}),Object(F.jsx)(lt.a,{toggleEvent:i,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:wt.a.collapsible,ref:t,children:Object(F.jsx)("p",{className:wt.a.description,children:o||"This game has no description."})})}})]})},St=r(20),Lt=r.n(St),Nt=function(e){var t=e.disabled,r=Z().setFlashVisible,o=ee().performGameCreate,a=Object(n.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=Object(n.useRef)(null),u=Object(n.useRef)(null),h=Object(n.useRef)(!0),f={"--button-color":Oe.schemeColorDark,"--button-text-color":Oe.textColorPrimary,"--button-border-color":Oe.borderColor,"--button-hover-color":Oe.hoverColorLight},m=function(){return h.current&&c(Date.now)},b=function(e){e.preventDefault(),r(!1);var t={name:e.target.elements.name.value,description:e.target.elements.description.value},n=function(){r(!0),l.current&&l.current.reset(),m()};o(t,{onSuccess:n,onUnprocessableEntity:function(){return r(!0)},onInternalServerError:n,onUnauthorized:function(){return h.current=!1}})};return Object(n.useEffect)((function(){return function(){return h.current=!1}}),[]),Object(F.jsxs)("div",{className:Lt.a.root,style:f,children:[Object(F.jsx)("h3",{className:Lt.a.slideToggleTrigger,onClick:m,children:"Create Game..."}),Object(F.jsx)(lt.a,{toggleEvent:i,onExpanded:function(){return u.current.focus()},collapsed:!0,children:function(e){var r=e.setCollapsibleElement;return Object(F.jsx)("div",{ref:r,children:Object(F.jsxs)("form",{ref:l,className:Lt.a.form,"data-testid":"game-create-form",onSubmit:b,children:[Object(F.jsx)("fieldset",{className:Te()(Lt.a.fieldset,Object(Ie.a)({},Lt.a.fieldsetDisabled,t)),disabled:t,children:Object(F.jsx)("input",{ref:u,className:Lt.a.input,type:"text",name:"name",placeholder:"Name","aria-label":"Name"})}),Object(F.jsx)("fieldset",{className:Te()(Lt.a.fieldset,Object(Ie.a)({},Lt.a.fieldsetDisabled,t)),disabled:t,children:Object(F.jsx)("input",{className:Lt.a.input,type:"text",name:"description",placeholder:"Description","aria-label":"Description"})}),Object(F.jsx)("button",{className:Te()(Lt.a.button,Object(Ie.a)({},Lt.a.buttonDisabled,t)),type:"submit",disabled:t,children:"Create"})]})})}})]})},kt=r(40),Et=r.n(kt),It=oe,Dt=ae,Tt=se,Ft=function(){var e=Z(),t=e.flashProps,r=e.flashVisible,o=e.setFlashVisible,a=e.modalVisible,s=e.modalAttributes,i=ee(),c=i.games,l=i.gameLoadingState;return Object(n.useEffect)((function(){l===Tt&&o(!0)}),[l,o]),Object(F.jsxs)(He,{title:"Your Games",children:[a&&Object(F.jsx)(s.Tag,Object(u.a)({},s.props)),Object(F.jsxs)("div",{className:Et.a.root,children:[r&&Object.keys(t).length&&Object(F.jsx)(ct,Object(u.a)({},t)),c&&0===c.length&&l===Dt&&Object(F.jsx)("p",{className:Et.a.noGames,children:"You have no games."}),l===Dt&&Object(F.jsx)(Nt,{disabled:l===It||l===Tt}),c&&c.length>0&&l===Dt&&Object(F.jsx)("div",{className:Et.a.games,children:c.map((function(e){var t=e.id,r=e.name,n=e.description;return Object(F.jsx)(Ct,{gameId:t,name:r,description:n},r)}))}),l===It&&Object(F.jsx)(ze,{type:"bubbles",className:Et.a.loading,color:ge.schemeColorDarkest,height:"15%",width:"15%"})]})]})},Pt=r(28),Rt=r.n(Pt),Ut=function(e){var t=e.disabled,r=Z().setFlashVisible,o=$().performShoppingListCreate,a=Object(n.useState)(""),s=Object(d.a)(a,2),i=s[0],c=s[1],l={"--button-color":Oe.schemeColorDark,"--button-text-color":Oe.textColorPrimary,"--button-border-color":Oe.borderColor,"--button-hover-color":Oe.hoverColorLight};return Object(F.jsx)("div",{className:Rt.a.root,style:l,children:Object(F.jsx)("form",{"data-testid":"shopping-list-create-form",onSubmit:function(e){e.preventDefault(),r(!1);var t=e.target.elements.title.value,n=function(){c(""),r(!0)};o(t,{onSuccess:function(){return c("")},onNotFound:n,onUnprocessableEntity:function(){return r(!0)},onInternalServerError:n})},children:Object(F.jsxs)("fieldset",{className:Te()(Rt.a.fieldset,Object(Ie.a)({},Rt.a.fieldsetDisabled,t)),disabled:t,children:[Object(F.jsx)("input",{className:Rt.a.input,type:"text",name:"title",placeholder:"Title","aria-label":"Title",value:i,onChange:function(e){var t=e.currentTarget.value;c(t)}}),Object(F.jsx)("button",{className:Te()(Rt.a.button,Object(Ie.a)({},Rt.a.buttonDisabled,t)),type:"submit",children:"Create"})]})})})},At=["a","an","the","and","but","for","at","by","from","with","to","in","of","into","onto","on","without","within"],Mt=function(e){var t=e.toLowerCase().split(" ");return t.map((function(e,r){return At.indexOf(e)>-1&&-1===[1,t.length].indexOf(r)?e:function(e){var t=e[0].toUpperCase();return"".concat(t).concat(e.slice(1))}(e)})).join(" ")},Vt=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),r=t[0],o=t[1],a=Object(n.useRef)(null),s=Object(n.useRef)(null),i=function(e){return s.current&&s.current.contains(e)},c=function(e){"Escape"===e.key&&o(!1)},l=function(e){var t;t=e.target,a.current&&a.current.contains(t)||i(e.target)?i(e.target)&&o(!r):o(!1)};return Object(n.useEffect)((function(){return document.addEventListener("keydown",c,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",c,!0),document.removeEventListener("click",l,!0)}})),{componentRef:a,triggerRef:s,isComponentVisible:r,setIsComponentVisible:o}},Wt=r(65),Gt=function(e){var t=Object(n.useState)(),r=Object(d.a)(t,2),o=r[0],a=r[1];return Object(n.useLayoutEffect)((function(){a(e.current.getBoundingClientRect())}),[e]),Object(Wt.a)(e,(function(e){return a(e.contentRect)})),o},qt=r(41),Ht=r.n(qt),Yt=function(e){var t=e.formRef,r=e.maxTotalWidth,o=e.className,a=e.title,s=e.onSubmit,i=function(e){var t=document.createElement("canvas").getContext("2d");t.font="21px Quattrocento Sans";var n=b||r,o=1.1*t.measureText(e).width;return Math.min(o,n)},c=Object(n.useState)(a),l=Object(d.a)(c,2),u=l[0],h=l[1],f=Object(n.useState)(null),m=Object(d.a)(f,2),b=m[0],p=m[1],g=Object(n.useState)("".concat(i(a),"px")),j=Object(d.a)(g,2),O=j[0],_=j[1],v=Object(n.useRef)(null),x=Object(n.useRef)(null),y=X(),w={"--scheme-color":y.schemeColorDarkest,"--text-color":y.textColorPrimary,"--border-color":y.borderColor,"--icon-hover-color":y.schemeColorLightest};return Object(n.useEffect)((function(){v.current.focus()})),Object(n.useEffect)((function(){if(!x.current)return p(r);p(r-x.current.offsetWidth)}),[r]),Object(F.jsxs)("form",{className:Te()(o,Ht.a.root),style:w,ref:t,onSubmit:s,children:[Object(F.jsx)("input",{className:Ht.a.input,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;h(t),_("".concat(i(t),"px"))},type:"text",name:"title","aria-label":"Title",ref:v,style:{width:O},value:u}),Object(F.jsx)("button",{className:Ht.a.submit,ref:x,name:"submit",type:"submit",children:Object(F.jsx)(Fe.a,{className:Ht.a.fa,icon:ut.a})})]})},Bt=[{name:"quantity",tag:"input",label:"Quantity",type:"number",placeholder:"Quantity",inputMode:"numeric"},{name:"notes",tag:"textarea",label:"Notes",type:"textarea",placeholder:"This item has no notes",inputMode:"text"}],zt=function(e){var t=e.buttonColor,r=e.currentAttributes,o=Z(),a=o.setFlashVisible,s=o.setModalVisible,i=$().performShoppingListItemUpdate,c=Object(n.useRef)(!0),l=Bt.map((function(e){return Object(u.a)({defaultValue:r[e.name]},e)}));return Object(n.useEffect)((function(){return function(){return c.current=!1}}),[]),Object(F.jsx)(_t,{modelName:"shopping-list-item",buttonLabel:"Update Item",buttonColor:t,onSubmit:function(e){e.preventDefault();var t=function(){a(!0),s(!1),c.current=!1},n={onSuccess:t,onNotFound:t,onUnprocessableEntity:t,onInternalServerError:t,onUnauthorized:function(){return c.current=!1}},o=e.target.elements.quantity.value,l=e.target.elements.notes.value;i(r.id,{quantity:o,notes:l},n)},fields:l})},Kt=r(7),Qt=r.n(Kt),Jt=function(e){var t=e.itemId,r=e.listTitle,o=e.canEdit,a=e.description,s=e.quantity,i=e.notes,c=Object(n.useState)(0),l=Object(d.a)(c,2),u=l[0],h=l[1],f=Object(n.useState)(!0),m=Object(d.a)(f,2),b=m[0],p=m[1],g=Object(n.useState)(s),j=Object(d.a)(g,2),O=j[0],_=j[1],v=Z(),x=v.setFlashProps,y=v.setFlashVisible,w=v.setModalVisible,C=v.setModalAttributes,S=X(),L=S.schemeColorDarkest,N=S.textColorPrimary,k=S.hoverColorDark,E=S.schemeColorDark,I=S.hoverColorLight,D=S.textColorSecondary,T=S.borderColor,P=S.schemeColorLightest,R=S.textColorTertiary,U=$(),A=U.performShoppingListItemUpdate,M=U.performShoppingListItemDestroy,V=Object(n.useRef)(!0),W=Object(n.useRef)(null),G=Object(n.useRef)(null),q=Object(n.useRef)(null),H=Object(n.useRef)(null),Y=Object(n.useRef)(null),B=function(e,t){return e.current&&(e.current===t||e.current.contains(t))},z=function(e){return function(e){return B(G,e)}(e)||function(e){return B(q,e)}(e)||function(e){return B(H,e)}(e)||function(e){return B(Y,e)}(e)},K=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;V.current&&(x({type:e,message:t,header:r}),y(!0))},Q={"--main-color":E,"--title-text-color":D,"--border-color":T,"--body-background-color":P,"--body-text-color":R,"--hover-color":I};return Object(n.useEffect)((function(){V.current&&_(s)}),[s]),Object(n.useEffect)((function(){return function(){return V.current=!1}}),[]),Object(F.jsxs)("div",{className:Te()(Qt.a.root,Object(Ie.a)({},Qt.a.collapsed,b)),style:Q,children:[Object(F.jsxs)("div",{className:Qt.a.toggle,onClick:function(e){z(e.target)||(h(Date.now),p(!b))},children:[Object(F.jsxs)("span",{className:Te()(Qt.a.header,Object(Ie.a)({},Qt.a.headerEditable,o)),children:[o&&Object(F.jsxs)("span",{className:Qt.a.editIcons,ref:W,children:[Object(F.jsx)("button",{className:Qt.a.icon,ref:q,onClick:function(){window.confirm("Destroy shopping list item? Your aggregate list will be updated to reflect the change. This action cannot be undone.")?M(t,{onSuccess:function(){return V.current=!1},onUnauthorized:function(){return V.current=!1},onNotFound:function(){return y(!0)},onInternalServerError:function(){return y(!0)}}):K("info","Your item was not deleted.")},"data-testid":"destroy-item",children:Object(F.jsx)(Fe.a,{className:Te()(Qt.a.fa,Qt.a.destroyIcon),icon:Pe.c})}),Object(F.jsx)("button",{className:Qt.a.icon,ref:G,onClick:function(){if(V.current){y(!1);var e=pt(zt);C({Tag:e,props:{title:a,subtitle:'On list "'.concat(r,'"'),buttonColor:{schemeColorDarkest:L,hoverColorDark:k,borderColor:T,textColorPrimary:N},currentAttributes:{id:t,quantity:s,notes:i,description:a}}}),w(!0)}},"data-testid":"edit-item",children:Object(F.jsx)(Fe.a,{className:Qt.a.fa,icon:ut.b})})]}),Object(F.jsx)("h4",{className:Qt.a.description,children:a})]}),Object(F.jsxs)("span",{className:Qt.a.quantity,children:[o&&Object(F.jsx)("button",{className:Qt.a.icon,ref:H,onClick:function(){var e=O,r=O+1;V.current&&_(r),A(t,{quantity:r},{onNotFound:function(){_(e),y(!0)},onInternalServerError:function(){_(e),y(!0)}})},"data-testid":"incrementer",children:Object(F.jsx)(Fe.a,{className:Qt.a.fa,icon:Pe.b})}),Object(F.jsx)("div",{className:Qt.a.quantityContent,children:O}),o&&Object(F.jsx)("button",{className:Qt.a.icon,ref:Y,onClick:function(){var e=O,r=O-1;if(r>0){var n={onNotFound:function(){_(e),y(!0)},onInternalServerError:function(){_(e),y(!0)}};_(r),A(t,{quantity:r},n)}else if(0===r){window.confirm("Item quantity must be greater than zero. Delete the item instead?")?M(t,(function(){V.current=!1})):K("info","Your item was not deleted.")}},"data-testid":"decrementer",children:Object(F.jsx)(Fe.a,{className:Qt.a.fa,icon:Pe.a})})]})]}),Object(F.jsx)(lt.a,{toggleEvent:u,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:Qt.a.collapsible,ref:t,children:Object(F.jsx)("p",{className:Qt.a.notes,children:i||"No details available"})})}})]})},Xt=r(18),Zt=r.n(Xt),$t=r(10),er=r.n($t),tr=function(e){var t=e.listId,r=Object(n.useState)(0),o=Object(d.a)(r,2),a=o[0],s=o[1],i=Object(n.useState)(!0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=Z().setFlashVisible,f=$().performShoppingListItemCreate,m=X(),b=m.schemeColorDark,p=m.hoverColorLight,g=m.schemeColorLightest,j=m.borderColor,O=m.textColorSecondary,_=m.textColorTertiary,v=Object(n.useRef)(null),x={"--base-color":b,"--hover-color":p,"--body-color":g,"--border-color":j,"--text-color-main":O,"--text-color-secondary":_},y=function(){s(Date.now),u(!l)},w=function(e){e.preventDefault(),h(!1);var r=e.target.elements.description.value,n=parseInt(e.target.elements.quantity.value),o=e.target.elements.notes.value;f(t,{description:r,quantity:n,notes:o},{onSuccess:function(){v.current.reset(),y()},onNotFound:function(){v.current.reset(),y(),h(!0)},onUnprocessableEntity:function(){return h(!0)},onInternalServerError:function(){v.current.reset(),y(),h(!0)}})};return Object(F.jsxs)("div",{className:Te()(er.a.root,Object(Ie.a)({},er.a.collapsed,l)),style:x,children:[Object(F.jsx)("div",{className:er.a.triggerContainer,children:Object(F.jsx)("button",{className:er.a.triggerButton,onClick:y,children:"Add item to list..."})}),Object(F.jsx)(lt.a,{toggleEvent:a,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:er.a.collapsible,ref:t,children:Object(F.jsxs)("form",{className:er.a.form,ref:v,onSubmit:w,children:[Object(F.jsxs)("fieldset",{className:er.a.fieldset,children:[Object(F.jsx)("label",{className:er.a.label,htmlFor:"description",children:"Description"}),Object(F.jsx)("input",{className:er.a.input,type:"text",name:"description",placeholder:"Description"})]}),Object(F.jsxs)("fieldset",{className:er.a.fieldset,children:[Object(F.jsx)("label",{className:er.a.label,htmlFor:"quantity",children:"Quantity"}),Object(F.jsx)("input",{className:er.a.input,type:"number",inputMode:"numeric",name:"quantity",defaultValue:1})]}),Object(F.jsxs)("fieldset",{className:er.a.fieldset,children:[Object(F.jsx)("label",{className:er.a.label,htmlFor:"notes",children:"Notes"}),Object(F.jsx)("input",{className:er.a.input,type:"text",name:"notes",placeholder:"Notes"})]}),Object(F.jsx)("button",{className:er.a.submit,type:"submit",children:"Add to List"})]})})}})]})},rr=function(e){var t=e.canEdit,r=void 0===t||t,o=e.listId,a=e.title,s='Are you sure you want to delete the list "'.concat(a,'"? You will also lose any list items on the list. This action cannot be undone.'),i=Object(n.useState)(0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=Object(n.useState)(a),f=Object(d.a)(h,2),m=f[0],b=f[1],p=Object(n.useState)(null),g=Object(d.a)(p,2),j=g[0],O=g[1],_=Object(n.useState)([]),v=Object(d.a)(_,2),x=v[0],y=v[1],w=Object(n.useRef)(!0),C=Object(n.useRef)(null),S=Object(n.useRef)(null),L=Object(n.useRef)(null),N=Gt(C),k=Vt(),E=k.componentRef,I=k.triggerRef,D=k.isComponentVisible,T=k.setIsComponentVisible,P=Z(),R=P.setFlashProps,U=P.setFlashVisible,M=$(),V=M.shoppingLists,W=M.performShoppingListUpdate,G=M.performShoppingListDestroy,q=a,H=function(e){return function(e){return C.current&&(C.current===e||C.current.contains(e))}(e)&&!function(e){return I.current&&(I.current===e||I.current.contains(e))}(e)&&!function(e){return E.current&&(E.current===e||E.current.contains(e))}(e)&&!function(e){return S.current&&(S.current===e||S.current.contains(e))}(e)},Y=X(),B={"--scheme-color":Y.schemeColorDarkest,"--border-color":Y.borderColor,"--text-color-primary":Y.textColorPrimary,"--text-color-secondary":Y.textColorSecondary,"--hover-color":Y.hoverColorDark,"--scheme-color-lighter":Y.schemeColorDark,"--scheme-color-lightest":Y.schemeColorLightest,"--max-title-width":"".concat(j-32,"px")};return Object(n.useEffect)((function(){if(V&&w.current){var e=V.find((function(e){return e.id===o})).list_items;y(Object(A.a)(e))}}),[V,o]),Object(n.useEffect)((function(){N&&L.current&&w.current&&O(N.width-L.current.offsetWidth-16)}),[N]),Object(n.useEffect)((function(){return function(){return w.current=!1}}),[]),Object(F.jsxs)("div",{className:Zt.a.root,style:B,children:[Object(F.jsx)("div",{className:Zt.a.titleContainer,children:Object(F.jsxs)("div",{className:Zt.a.trigger,ref:C,onClick:function(e){H(e.target)&&u(Date.now)},children:[r&&Object(F.jsxs)("span",{className:Zt.a.editIcons,ref:L,children:[Object(F.jsx)("div",{className:Zt.a.icon,ref:S,onClick:function(e){var t=window.confirm(s);if(U(!1),t){var r=function(){return U(!0)};G(o,{onSuccess:function(){U(!0),w.current=!1},onNotFound:r,onInternalServerError:r})}else w.current&&(R({type:"info",message:"Your list was not deleted."}),U(!0))},"data-testid":"delete-shopping-list",children:Object(F.jsx)(Fe.a,{className:Zt.a.fa,icon:Pe.c})}),Object(F.jsx)("div",{className:Zt.a.icon,ref:I,"data-testid":"edit-shopping-list",children:Object(F.jsx)(Fe.a,{className:Zt.a.fa,icon:ut.b})})]}),r&&D?Object(F.jsx)(Yt,{formRef:E,maxTotalWidth:j,className:Zt.a.form,title:a,onSubmit:function(e){e.preventDefault(),U(!1);var t,r=e.nativeEvent.target.children[0].defaultValue;(!r||(t=r)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]===t&&"all items"!==t.toLowerCase())&&b(Mt(r));var n=function(){b(q),U(!0)};W(o,r,{onNotFound:n,onUnprocessableEntity:n,onInternalServerError:n}),T(!1)}}):Object(F.jsx)("h3",{className:Zt.a.title,children:m})]})}),Object(F.jsx)(lt.a,{toggleEvent:l,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsxs)("div",{className:Zt.a.collapsible,ref:t,children:[!r&&0===x.length&&Object(F.jsx)("div",{className:Zt.a.emptyList,children:"You have no shopping list items."}),r&&Object(F.jsx)(tr,{listId:o}),x&&x.length>0&&x.map((function(e){var t=e.id,n=e.description,o=e.quantity,s=e.notes,i="".concat(a.toLowerCase().replace(" ","-"),"-").concat(t);return Object(F.jsx)(Jt,{itemId:t,listTitle:a,canEdit:r,description:n,quantity:o,notes:s},i)}))]})}})]})},nr=r(31),or=r.n(nr),ar=Y,sr=B,ir=function(){var e=Z(),t=e.setModalAttributes,r=e.setModalVisible,n=ee(),o=n.games,a=n.gameLoadingState,s=$(),i=s.shoppingLists,c=s.shoppingListLoadingState,l=i&&c===sr&&i.length>0,u=i&&c===sr&&0===i.length;return a!==sr||o.length?l?Object(F.jsx)(F.Fragment,{children:i.map((function(e,t){var r=e.id,n=e.title,o=e.aggregate,a=xe[t<xe.length?t:t%xe.length],s=n.toLowerCase().replace(" ","-");return Object(F.jsx)(V,{colorScheme:a,children:Object(F.jsx)("div",{className:or.a.shoppingList,children:Object(F.jsx)(rr,{canEdit:!o,listId:r,title:n})})},s)}))}):u?Object(F.jsx)("p",{className:or.a.noLists,children:"This game has no shopping lists."}):c===ar?Object(F.jsx)(ze,{className:or.a.loading,color:ge.schemeColorDarkest,height:"15%",width:"15%"}):null:Object(F.jsxs)("p",{className:or.a.noLists,children:["You need a game to use the shopping lists feature. ",Object(F.jsx)("button",{className:or.a.link,onClick:function(e){e.preventDefault(),t({Tag:pt(xt),props:{title:"Create Game",type:"create"}}),r(!0)},children:"Create a game"})," to get started."]})},cr=r(53),lr=r.n(cr),ur=Y,dr=z,hr=function(){var e=Z(),t=e.flashProps,r=e.flashVisible,o=e.setFlashVisible,a=e.modalVisible,s=e.modalAttributes,i=$().shoppingListLoadingState,c=i===ur||i===dr,l=Object(n.useRef)(!0);return Object(n.useEffect)((function(){l.current&&i===dr&&o(!0)}),[i,o]),Object(n.useEffect)((function(){return function(){return l.current=!1}}),[]),Object(F.jsxs)(He,{title:"Your Shopping Lists",includeGameSelect:!0,children:[a&&Object(F.jsx)(s.Tag,Object(u.a)({},s.props)),r&&Object(F.jsx)("div",{className:lr.a.flash,children:Object(F.jsx)(ct,Object(u.a)({},t))}),Object(F.jsx)("div",{className:lr.a.createForm,children:Object(F.jsx)(Ut,{disabled:c})}),Object(F.jsx)(ir,{})," "]})},fr=r(42),mr=r.n(fr),br=function(){var e=Z().token;return Object(F.jsx)("div",{className:mr.a.root,children:Object(F.jsxs)("div",{className:mr.a.container,children:[Object(F.jsx)("h1",{className:mr.a.header,children:"SIM: Page Not Found"}),Object(F.jsx)(i.b,{className:mr.a.link,to:e?T.dashboard.main:T.home,children:"Go Back"})]})})},pr="Skyrim Inventory Management |",gr=[{pageId:"home",title:"".concat(pr," Home"),description:"Manage your inventory across multiple properties in Skyrim",jsx:Object(F.jsx)(de,{}),path:T.home},{pageId:"login",title:"".concat(pr," Login"),description:"Log into Skyrim Inventory Management using your Google account",jsx:Object(F.jsx)(pe,{}),path:T.login},{pageId:"dashboard",title:"".concat(pr," Dashboard"),description:"Skyrim Inventory Management User Dashboard",jsx:Object(F.jsx)(nt,{}),path:T.dashboard.main},{pageId:"games",title:"".concat(pr," Your Games"),description:"Manage Skyrim Games",jsx:Object(F.jsx)(ce,{children:Object(F.jsx)(Ft,{})}),path:T.dashboard.games},{pageId:"shoppingLists",title:"".concat(pr," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",jsx:Object(F.jsx)(ce,{children:Object(F.jsx)(Q,{children:Object(F.jsx)(hr,{})})}),path:T.dashboard.shoppingLists}],jr=function(){return Object(F.jsxs)(l.d,{children:[gr.map((function(e){var t=e.pageId,r=e.title,n=e.description,o=e.jsx,a=e.path;return Object(F.jsxs)(l.b,{exact:!0,path:a,children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:r}),Object(F.jsx)("meta",{name:"description",content:n})]}),Object(F.jsx)(U,{children:o})]},t)})),Object(F.jsxs)(l.b,{children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:"Skyrim Inventory Management | Page Not Found"}),Object(F.jsx)("meta",{name:"description",content:"Skyrim Inventory Management could not find the page you were looking for"})]}),Object(F.jsx)(U,{children:Object(F.jsx)(br,{})})]},"notFound")]})},Or=function(){return Object(F.jsx)(i.a,{basename:"",children:Object(F.jsx)(c.b,{children:Object(F.jsx)(jr,{})})})};s.a.render(Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(Or,{})}),document.getElementById("root"))}],[[81,1,2]]]);
//# sourceMappingURL=main.c7fefb32.chunk.js.map