(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={root:"shoppingListItem_root__3NPoi",collapsed:"shoppingListItem_collapsed__3iHS2",toggle:"shoppingListItem_toggle__26aMd",fa:"shoppingListItem_fa__2P4jA",destroyIcon:"shoppingListItem_destroyIcon__2IBmH",header:"shoppingListItem_header__1qqqT",headerEditable:"shoppingListItem_headerEditable__2K0Ir",editIcons:"shoppingListItem_editIcons__2RoL7",quantity:"shoppingListItem_quantity__1ebyP",quantityContent:"shoppingListItem_quantityContent__24Ts-",icon:"shoppingListItem_icon__1pEqd",description:"shoppingListItem_description__mnU6z",collapsible:"shoppingListItem_collapsible__xa2wr",label:"shoppingListItem_label__2Bc9T",value:"shoppingListItem_value__9dWAL",button:"shoppingListItem_button__2k4QA"}},,,,function(e,t,n){e.exports={root:"shoppingListItemCreateForm_root__3B7YP",collapsed:"shoppingListItemCreateForm_collapsed__3j8GF",triggerContainer:"shoppingListItemCreateForm_triggerContainer__3IkQf",triggerButton:"shoppingListItemCreateForm_triggerButton__2HK_d",form:"shoppingListItemCreateForm_form__OXRXv",fieldset:"shoppingListItemCreateForm_fieldset__1ovw9",input:"shoppingListItemCreateForm_input__2Jire",label:"shoppingListItemCreateForm_label__qlamy",submit:"shoppingListItemCreateForm_submit__22fVU"}},,,,function(e,t,n){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLinkLarge:"dashboardHeader_headerLinkLarge__ED8Xx",headerLinkSmall:"dashboardHeader_headerLinkSmall__3TlC1",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}},,,,function(e,t,n){e.exports={root:"inventoryListItem_root__1ZVQ4",collapsed:"inventoryListItem_collapsed__2SGFA",toggle:"inventoryListItem_toggle__3ny5q",fa:"inventoryListItem_fa__ruljD",destroyIcon:"inventoryListItem_destroyIcon__1dms9",header:"inventoryListItem_header__1vxa5",quantity:"inventoryListItem_quantity__3cq4c",quantityContent:"inventoryListItem_quantityContent__kNYhb",description:"inventoryListItem_description__3wFIr",collapsible:"inventoryListItem_collapsible__13hlu",label:"inventoryListItem_label__qDoRr",value:"inventoryListItem_value__c-oua",button:"inventoryListItem_button__1weBz"}},function(e,t,n){e.exports={root:"shoppingList_root__2O9FT",trigger:"shoppingList_trigger__WV4fR",form:"shoppingList_form__1GdfA",icon:"shoppingList_icon__3FP5H",editIcons:"shoppingList_editIcons__gL8DA",title:"shoppingList_title__3Gulc",fa:"shoppingList_fa__hRtKq",collapsible:"shoppingList_collapsible__2Zuq5",emptyList:"shoppingList_emptyList__289Te"}},,function(e,t,n){e.exports={root:"gameCreateForm_root__1CiVs",slideToggleTrigger:"gameCreateForm_slideToggleTrigger__47o12",form:"gameCreateForm_form__2naYf",fieldset:"gameCreateForm_fieldset__iwI0Y",fieldsetDisabled:"gameCreateForm_fieldsetDisabled__255jN",input:"gameCreateForm_input__3HuYv",button:"gameCreateForm_button__1ePIs",buttonDisabled:"gameCreateForm_buttonDisabled__1bleU"}},function(e,t,n){e.exports={root:"game_root__Wpup7",header:"game_header__2XbBS",name:"game_name__GOPSp",editIcons:"game_editIcons__1kxuu",icon:"game_icon__WCvOa",description:"game_description__KgWbf"}},,,function(e,t,n){e.exports={root:"gamesDropdown_root__1EUlO",header:"gamesDropdown_header__1Qiyc",input:"gamesDropdown_input__z9Zui",trigger:"gamesDropdown_trigger__3A35t",hidden:"gamesDropdown_hidden__7-IH5",dropdown:"gamesDropdown_dropdown__1kXtE"}},,function(e,t,n){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx",headerContainer:"dashboardLayout_headerContainer__15_gZ",titleContainer:"dashboardLayout_titleContainer__3J8Iz"}},function(e,t,n){e.exports={root:"shoppingListCreateForm_root__iSFdV",button:"shoppingListCreateForm_button__2so-6",fieldset:"shoppingListCreateForm_fieldset__1BLSp",fieldsetDisabled:"shoppingListCreateForm_fieldsetDisabled__2V4n7",input:"shoppingListCreateForm_input__3hAzq",buttonDisabled:"shoppingListCreateForm_buttonDisabled__1USkv"}},,function(e,t,n){e.exports={root:"flashMessage_root__2sPxp",hidden:"flashMessage_hidden__cxPrx",content:"flashMessage_content__3iY0s",header:"flashMessage_header__Vx_Jr",messageList:"flashMessage_messageList__3V9SA",msg:"flashMessage_msg__3Wquk"}},function(e,t,n){e.exports={root:"modalForm_root__1vkew",fieldset:"modalForm_fieldset__3Y2iw",input:"modalForm_input__2W8sl",submit:"modalForm_submit__2K3FT",label:"modalForm_label__1q219"}},function(e,t,n){e.exports={root:"inventoryList_root__Vi_Ik",trigger:"inventoryList_trigger__3UD-J",title:"inventoryList_title__31UtA",collapsible:"inventoryList_collapsible__2w_LK"}},function(e,t,n){e.exports={noLists:"inventoryPageContent_noLists__1QGJ6",link:"inventoryPageContent_link__1PCIJ",inventoryList:"inventoryPageContent_inventoryList__uCqhc",loading:"inventoryPageContent_loading__10Uba",error:"inventoryPageContent_error__1saJh"}},function(e,t,n){e.exports={noLists:"shoppingListsPageContent_noLists__1yLrC",link:"shoppingListsPageContent_link__1seef",shoppingList:"shoppingListsPageContent_shoppingList__3X_TT",loading:"shoppingListsPageContent_loading__1Rj5P",error:"shoppingListsPageContent_error__3KtOr"}},,,,function(e,t,n){e.exports={root:"homePage_root__15tty",container:"homePage_container__3kQJo",header:"homePage_header__3EV45",login:"homePage_login__3ala0"}},function(e,t,n){e.exports={root:"loginPage_root__2Vf7z",errorMessage:"loginPage_errorMessage__8uTVC",container:"loginPage_container__2xdLK",button:"loginPage_button__1pDsX"}},,function(e,t,n){e.exports={root:"modal_root__QSEqe",content:"modal_content__1tQ-X",title:"modal_title__1efUU",subtitle:"modal_subtitle__4395I"}},function(e,t,n){e.exports={root:"gamesPage_root__oSBqG",noGames:"gamesPage_noGames__1CUVF",games:"gamesPage_games__2Q2dQ",loading:"gamesPage_loading__1Q0HG"}},function(e,t,n){e.exports={root:"shoppingListEditForm_root__rs5qL",input:"shoppingListEditForm_input__2FbCX",submit:"shoppingListEditForm_submit__1FqNJ",fa:"shoppingListEditForm_fa__Bb-dM"}},function(e,t,n){e.exports={root:"notFoundPage_root__131Oh",container:"notFoundPage_container__38cw2",header:"notFoundPage_header__BhS9L",link:"notFoundPage_link__2cDdM"}},,,function(e,t,n){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},,,,,,function(e,t,n){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},function(e,t,n){e.exports={root:"dashboardPage_root__oVxx1",loading:"dashboardPage_loading__2vZsl"}},function(e,t,n){e.exports={root:"loadingError_root__1A6gy",text:"loadingError_text__3auLV"}},,,,,,,function(e,t,n){e.exports={root:"gamesDropdownOption_root__1Itlx"}},,function(e,t,n){e.exports={root:"navigationCard_root__1-FD3"}},,,function(e,t,n){e.exports={overlay:"shoppingListsPage_overlay__3Mlf4",createForm:"shoppingListsPage_createForm__35weW",flash:"shoppingListsPage_flash__vlZ2Z"}},,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(58),s=n.n(a),i=(n(76),n(12)),c=n(37),l=n(8),u=n(4),d=n(3),h=n(87),m="https://sim-api.danascheider.com",f="_sim_google_session";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"401 Unauthorized";this.message=e,this.code=401,this.name="AuthorizationError",this.stack=(new Error).stack}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"404 Not Found";this.message=e,this.code=404,this.name="NotFoundError",this.stack=(new Error).stack}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"405 Method Not Allowed";this.message=e,this.code=405,this.name="MethodNotAllowedError",this.stack=(new Error).stack}b.prototype=new Error,p.prototype=new Error,g.prototype=new Error;var j,O={"Content-Type":"application/json"},_=function(e){return{Authorization:"Bearer ".concat(e)}},v=function(e){return Object(u.a)(Object(u.a)({},_(e)),O)},x=function(e,t,n){var r="".concat(m,"/games/").concat(t,"/shopping_lists"),o=JSON.stringify({shopping_list:n});return fetch(r,{method:"POST",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))},y=function(e,t,n){var r="".concat(m,"/shopping_lists/").concat(t),o=JSON.stringify({id:t,shopping_list:n});return fetch(r,{method:"PATCH",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");return e.json().then((function(t){return{status:e.status,json:t}}))}))},C=function(e,t){var n="".concat(m,"/shopping_lists/").concat(t);return fetch(n,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be deleted manually.");return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))},w=function(e,t,n){var r="".concat(m,"/shopping_lists/").concat(t,"/shopping_list_items");return fetch(r,{method:"POST",headers:v(e),body:JSON.stringify({shopping_list_item:n})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to create an item on a list that doesn't exist. Try refreshing to resolve this issue.");return e.json().then((function(t){return{status:e.status,json:t}}))}))},L=function(e){console.error("Error signing out: ",e.message)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(window.gapi&&window.gapi.auth2){var n=window.gapi.auth2.getAuthInstance();null!==n?n.then((function(){return n.disconnect()})).then(e,t):e()}e()},N=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK||!1,k=!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK,E={home:"/",login:"/login",dashboard:{main:"/dashboard",games:"/dashboard/games",shoppingLists:"/dashboard/shopping_lists",inventory:"/dashboard/inventory"}},I=[E.dashboard.main,E.dashboard.games,E.dashboard.shoppingLists,E.dashboard.inventory],D=[E.dashboard.shoppingLists,E.dashboard.inventory],T=E,F=n(0),P="done",R=Object(r.createContext)(),U=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=Object(l.h)().pathname,s=Object(h.a)([f]),i=Object(d.a)(s,3),c=i[0],p=i[1],g=i[2],j=Object(r.useState)({type:"info",message:""}),O=Object(d.a)(j,2),v=O[0],x=O[1],y=Object(r.useState)(!1),C=Object(d.a)(y,2),w=C[0],L=C[1],k=Object(r.useState)({}),E=Object(d.a)(k,2),D=E[0],U=E[1],A=Object(r.useState)(!1),V=Object(d.a)(A,2),M=V[0],q=V[1],W=Object(r.useState)(o.profileData),G=Object(d.a)(W,2),Y=G[0],H=G[1],B=Object(r.useState)(o.shouldRedirectTo),z=Object(d.a)(B,2),K=z[0],J=z[1],Q=Object(r.useState)(o.profileLoadState||"loading"),Z=Object(d.a)(Q,2),X=Z[0],$=Z[1],ee=Object(r.useRef)(!0),te=Object(r.useCallback)((function(){return g(f)}),[g]),ne=Object(r.useCallback)((function(e){ee.current&&J(e),ee.current=!1}),[]),re=Object(r.useCallback)((function(){return I.indexOf(a)>-1}),[a]),oe=Object(r.useCallback)((function(){return!o.profileData&&c[f]&&re()}),[o.profileData,c,re]),ae=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.login,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;S((function(){te(),t&&t(),re()&&ne(e)}))}),[te,re,ne]),se=Object(u.a)({token:c[f],profileData:Y,removeSessionCookie:te,setSessionCookie:function(e){return p(f,e)},profileLoadState:X,setShouldRedirectTo:ne,logOutAndRedirect:ae,flashVisible:w,flashAttributes:v,setFlashVisible:L,setFlashAttributes:x,setModalVisible:q,setModalAttributes:U,modalVisible:M,modalAttributes:D},o);return Object(r.useEffect)((function(){re()&&!c[f]&&ee.current&&ae()}),[re,c,ae]),Object(r.useEffect)((function(){oe()?function(e){var t="".concat(m,"/users/current");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(c[f]).then((function(e){var t=e.status,n=e.json;if(ee.current){if(200!==t)throw new Error("Internal Server Error: ",n.errors[0]);H(n),o.profileLoadState||$(P)}})).catch((function(e){ae()})):N&&!o.profileLoadState&&$(P)}),[re,ae,o.profileLoadState,oe,c]),Object(r.useEffect)((function(){return function(){return ee.current=!1}}),[]),Object(F.jsx)(R.Provider,{value:se,children:K?Object(F.jsx)(l.a,{to:K}):t})},A=n(10),V="loading",M="done",q="error",W=Object(r.createContext)(),G=function(e){var t=e.colorScheme,n=e.children;return Object(F.jsx)(W.Provider,{value:t,children:n})},Y=function(){return new URLSearchParams(Object(l.h)().search)},H=Object(r.createContext)(),B=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=Y(),s=Z(),i=s.token,c=s.logOutAndRedirect,l=s.setFlashAttributes,h=s.setFlashVisible,f=$().games,j=Object(r.useMemo)((function(){return f&&f.length?parseInt(a.get("game_id")||f[0].id):null}),[f,a]),O=Object(r.useState)(o.shoppingLists||[]),L=Object(d.a)(O,2),S=L[0],N=L[1],k=Object(r.useState)(V),E=Object(d.a)(k,2),I=E[0],D=E[1],P=Object(r.useRef)(!1);o.shoppingLists&&(delete o.shoppingLists,P.current=!0);var R=Object(r.useRef)(!0),U=function(e,t){var n=e.list_items.find((function(e){return e.description.toLowerCase()===t.description.toLowerCase()})),r=Object(A.a)(e.list_items);if(n){var o=e.list_items.indexOf(n);r.splice(o,1,t)}else r.unshift(t);return e.list_items=r,Object(u.a)({},e)},W=function(e,t){var n=Object(u.a)({},e),r=Object(A.a)(e.list_items),o=e.list_items.find((function(e){return e.id===t})),a=e.list_items.indexOf(o);return r.splice(a,1),n.list_items=r,n},G=Object(r.useCallback)((function(){i&&!P.current?function(e,t){var n="".concat(m,"/games/").concat(t,"/shopping_lists");return fetch(n,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(i,j).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," while fetching shopping lists: ").concat(n.errors):"Unknown error ".concat(t," while fetching shopping lists");throw new Error(r)}R.current&&(N(n),!o.shoppingListLoadingState&&D(M))})).catch((function(e){401===e.code?c(T.login,(function(){return R.current=!1})):404===e.code&&R.current?(l({type:"error",message:"We couldn't find the game you're looking for."}),h(!0),!o.shoppingListLoadingState&&D(q)):R.current&&!o.shoppingListLoadingState&&D(q)})):R.current&&!o.shoppingListLoadingState&&D(M)}),[i,o.shoppingListLoadingState,l,h,j,c]),B=Object(u.a)({shoppingLists:S,shoppingListLoadingState:I,performShoppingListUpdate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,a=n.onNotFound,s=n.onUnprocessableEntity,u=n.onUnauthorized,d=n.onInternalServerError;y(i,e,{title:t}).then((function(t){var n=t.status,a=t.json;if(R.current)if(200===n){var i=S.map((function(t){return t.id===e?a:t}));N(i),!o.shoppingListLoadingState&&D(M),r&&r()}else{if(422!==n)throw new Error(a.errors?"Error ".concat(n," when updating shopping list: ").concat(a.errors):"Unknown error ".concat(n," when updating shopping list"));l({type:"error",message:a.errors,header:"".concat(a.errors.length," error(s) prevented your changes from being saved:")}),!o.shoppingListLoadingState&&D(M),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,u&&u()})):404===e.code?(l({type:"error",message:"Oops! The shopping list you wanted to update could not be found. Try refreshing the page to fix this issue."}),!o.shoppingListLoadingState&&D(M),a&&a()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),!o.shoppingListLoadingState&&D(M),d&&d())}))},performShoppingListCreate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess,r=t.onUnauthorized,o=t.onNotFound,a=t.onUnprocessableEntity,s=t.onInternalServerError;x(i,j,{title:e}).then((function(e){var t=e.status,r=e.json;if(201===t){if(Array.isArray(r)&&2===r.length)N(r);else if(r&&"object"===typeof r){var o=Object(A.a)(S);o.splice(1,0,r),N(o)}l({type:"success",message:"Success! Your shopping list was created."}),n&&n()}else{if(422!==t)throw new Error(r.errors?"Error ".concat(t," while creating shopping list: ").concat(r.errors):"Unknown error ".concat(t," while creating shopping list"));l({type:"error",message:r.errors,header:"".concat(r.errors.length," error(s) prevented your shopping list from being created:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,r&&r()})):404===e.code?(l({type:"error",message:"The game you wanted to create a shopping list for could not be found. Try refreshing the page to fix this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),s&&s())}))},performShoppingListDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess,r=t.onUnauthorized,o=t.onNotFound,a=t.onInternalServerError;C(i,e).then((function(t){var r=t.status,o=t.json;if(R.current)if(204===r)N([]),l({type:"success",message:'Since it was the last list for this game, the "All Items" list has been deleted as well.',header:"Your shopping list has been deleted."}),n&&n();else{if(200!==r){var a=o.errors?"Error ".concat(r," when deleting shopping list: ").concat(o.errors):"Unknown error ".concat(r," when deleting shopping list");throw new Error(a)}var s=S.filter((function(t){return t.id!==e})).map((function(e){return!0===e.aggregate?o:e}));N(s),l({type:"success",message:"Your shopping list has been deleted."}),n&&n()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,r&&r()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))},performShoppingListItemCreate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,o=n.onNotFound,a=n.onUnprocessableEntity,s=n.onUnauthorized,u=n.onInternalServerError;w(i,e,t).then((function(e){var t=e.status,n=e.json;if(R.current)if(200===t||201===t){for(var o=Object(A.a)(S),s=function(e){var t=S.find((function(t){return t.id===n[e].list_id})),r=S.indexOf(t),a=U(t,n[e]);o[r]=a},i=0;i<n.length;i++)s(i);N(o),l(201===t?{type:"success",message:"Success! Your shopping list item has been created."}:{type:"success",message:"Success! Your new shopping list item has been combined with another item with the same description."}),r&&r()}else{if(422!==t){var c=n.errors?"Error ".concat(t," when creating shopping list item: ").concat(n.errors):"Unknown error ".concat(t," when creating shopping list item");throw new Error(c)}l({type:"error",message:n.errors,header:"".concat(n.errors.length," error(s) prevented your shopping list item from being created:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to add an item to. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListItemUpdate:function(e,t,n){var r=n.onSuccess,o=n.onNotFound,a=n.onUnprocessableEntity,s=n.onUnauthorized,u=n.onInternalServerError;(function(e,t,n){var r="".concat(m,"/shopping_list_items/").concat(t);return fetch(r,{method:"PATCH",headers:v(e),body:JSON.stringify({shopping_list_item:n})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to update a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g("Items on aggregate shopping lists cannot be updated through the API");return e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e,t).then((function(t){var n=t.status,o=t.json;if(R.current)if(200===n){for(var s=Object(A.a)(S),i=function(e){var t=S.find((function(t){return t.id===o[e].list_id})),n=U(t,o[e]),r=S.indexOf(t);s[r]=n},c=0;c<o.length;c++)i(c);N(s),l({type:"success",message:"Success! Your shopping list item was updated."}),r&&r()}else{if(422!==n){var u=o.errors?"Error ".concat(n," updating item ").concat(e,": ").concat(o.errors):"Unknown error ".concat(n," updating item ").concat(e);throw new Error(u)}l({type:"error",message:o.errors,header:"".concat(o.errors.length," error(s) prevented your shopping list item from being updated:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to update. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListItemDestroy:function(e,t){var n=t.onSuccess,r=t.onNotFound,o=t.onUnauthorized,a=t.onInternalServerError;(function(e,t){var n="".concat(m,"/shopping_list_items/").concat(t);return fetch(n,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to delete a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e).then((function(t){var r=t.status,o=t.json;if(200!==r&&204!==r){var a=o.errors?"Error ".concat(r," when deleting shopping list item ").concat(e,": ").concat(o.errors):"Unknown error ".concat(r," when deleting shopping list item ").concat(e);throw new Error(a)}var s,i=function(e){return S.find((function(t){return!!t.list_items.find((function(t){return t.id===e}))}))}(e),c=S.indexOf(i),l=Object(A.a)(S);if(200===r)s=U(S[0],o);else{var u=i.list_items.find((function(t){return t.id===e})),d=S[0].list_items.find((function(e){return e.description.toLowerCase()===u.description.toLowerCase()}));s=W(S[0],d.id)}var h=W(i,e);l[0]=s,l.splice(c,1,h),N(l),n&&n()})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,o&&o()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),r&&r()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}},o);return Object(r.useEffect)((function(){j&&R.current&&G()}),[G,j]),Object(r.useEffect)((function(){return function(){return R.current=!1}}),[]),Object(F.jsx)(H.Provider,{value:B,children:t})},z=Object(r.createContext)(),K=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=Y(),s=Z(),i=s.token,c=s.logOutAndRedirect,l=s.setFlashAttributes,h=s.setFlashVisible,f=$().games,g=Object(r.useMemo)((function(){return f&&f.length?parseInt(a.get("game_id")||f[0].id):null}),[f,a]),j=Object(r.useState)(o.inventoryLists||[]),O=Object(d.a)(j,2),v=O[0],x=O[1],y=Object(r.useState)(V),C=Object(d.a)(y,2),w=C[0],L=C[1],S=Object(r.useRef)(!1);o.inventoryLists&&(delete o.inventoryLists,S.current=!0);var N=Object(r.useRef)(!0),k=Object(r.useCallback)((function(){i&&!S.current&&function(e,t){var n="".concat(m,"/games/").concat(t,"/inventory_lists");return fetch(n,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(i,g).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," while fetching inventory lists: ").concat(n.errors):"Unknown error ".concat(t," while fetching inventory lists");throw new Error(r)}N.current&&(x(n),!o.inventoryListLoadingState&&L(M))})).catch((function(e){401===e.code?c(T.login,(function(){return N.current=!1})):404===e.code&&N.current?(l({type:"error",message:"We couldn't find the game you're looking for."}),h(!0),!o.inventoryListLoadingState&&L(q)):N.current&&!o.inventoryListLoadingState&&L(q)}))}),[i,c,l,h,o.inventoryListLoadingState,g]),E=Object(u.a)({inventoryLists:v,inventoryListLoadingState:w},o);return Object(r.useEffect)((function(){g&&N.current&&k()}),[k,g]),Object(r.useEffect)((function(){return function(){return N.current=!1}}),[]),Object(F.jsx)(z.Provider,{value:E,children:t})},J=function(e,t){var n=Object(r.useContext)(e);if(!n)throw new Error(t);return n},Q=function(){return J(W,"useColorScheme must be used within a ColorProvider")},Z=function(){return J(R,"useAppContext must be used within a AppProvider")},X=function(){return J(H,"useShoppingListsContext must be used within a ShoppingListsProvider")},$=function(){return J(te,"useGamesContext must be used within a GamesProvider")},ee=function(){return J(z,"useInventoryListsContext must be used within an InventoryListsProvider")},te=Object(r.createContext)(),ne=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=Z(),s=a.token,i=a.logOutAndRedirect,c=a.setFlashAttributes,l=Object(r.useState)(o.games||[]),h=Object(d.a)(l,2),f=h[0],g=h[1],j=Object(r.useState)(o.gameLoadingState||V),O=Object(d.a)(j,2),x=O[0],y=O[1],C=Object(r.useRef)(!0),w=Object(r.useRef)(!1);o.games&&(delete o.games,w.current=!0);var L=Object(r.useCallback)((function(){s&&!w.current&&function(e){var t="".concat(m,"/games");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(s).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," when fetching games: ").concat(n.errors):"No game data returned from SIM";throw new Error(r)}C.current&&(g(n),!o.gameLoadingState&&y(M))})).catch((function(e){401===e.code?i(T.login,(function(){return C.current=!1})):C.current&&y(q)}))}),[s,o.gameLoadingState,i]),S=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onUnprocessableEntity,o=t.onUnauthorized,a=t.onInternalServerError;(function(e,t){var n="".concat(m,"/games"),r=JSON.stringify({game:t});return fetch(n,{method:"POST",headers:v(e),body:r}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(s,e).then((function(e){var t=e.status,o=e.json;if(201===t){if(C.current){var a=Object(A.a)(f);a.unshift(o),g(a)}c({type:"success",message:"Success! Your game has been created."}),n&&n()}else{if(422!==t)throw new Error(o.errors?"Error ".concat(t," when creating game: ").concat(o.errors):"Unknown error ".concat(t," when creating game"));c({type:"error",header:"".concat(o.errors.length," error(s) prevented your game from being created:"),message:o.errors}),r&&r()}})).catch((function(e){401===e.code?i(T.login,(function(){C.current=!1,o&&o()})):(C.current&&c({type:"error",message:"Something unexpected happened while creating your game. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}),[s,f,c,i]),N=Object(r.useCallback)((function(e,t,n){var r=n.onSuccess,o=n.onUnprocessableEntity,a=n.onNotFound,l=n.onInternalServerError,u=n.onUnauthorized;(function(e,t,n){var r="".concat(m,"/games/").concat(t),o=JSON.stringify({game:n});return fetch(r,{method:"PATCH",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(s,e,t).then((function(t){var n=t.status,a=t.json;if(200===n){if(C.current){var s=f.map((function(t){return parseInt(t.id)===parseInt(e)?a:t}));g(s),c({type:"success",message:"Success! Your game has been updated."})}r&&r()}else{if(422!==n)throw new Error(a.errors?"Error ".concat(n," while updating game: ").concat(a.errors):"Error ".concat(n," while updating game"));C.current&&c({type:"error",message:a.errors,header:"".concat(a.errors.length," error(s) prevented your game from being updated:")}),o&&o()}})).catch((function(e){401===e.code?i(T.login,(function(){C.current=!1,u&&u()})):404===e.code?(c({type:"error",message:"Oops! We couldn't find the game you wanted to update. Sorry! Try refreshing the page to solve this problem."}),a&&a()):(c({type:"error",message:"Something unexpected happened while trying to update your game. Unfortunately, we don't know more than that yet. We're working on it!"}),l&&l())}))}),[s,f,c,i]),k=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onUnauthorized,o=t.onInternalServerError;(function(e,t){var n="".concat(m,"/games/").concat(t);return fetch(n,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))})(s,e).then((function(t){if(204!==t.status&&404!==t.status||!C.current)throw new Error("Error ".concat(t.status," while destroying game ").concat(e));var r=f.find((function(t){return parseInt(t.id)===parseInt(e)})),o=f.indexOf(r),a=Object(A.a)(f);a.splice(o,1),g(a),c({type:"success",message:"Your game has been deleted."}),n&&n()})).catch((function(e){401===e.code?i(T.login,(function(){C.current=!1,r&&r()})):(C.current&&c({type:"error",message:"Something unexpected happened while trying to delete your game. Unfortunately, we don't know more than that yet. We're working on it!"}),o&&o())}))}),[s,f,i,c]),E=Object(u.a)({games:f,gameLoadingState:x,performGameCreate:S,performGameUpdate:N,performGameDestroy:k},o);return Object(r.useEffect)((function(){C.current&&L()}),[L]),Object(r.useEffect)((function(){return function(){return C.current=!1}}),[]),Object(F.jsx)(te.Provider,{value:E,children:t})},re=n(39),oe=n.n(re),ae=function(){var e=Z(),t=e.token,n=e.setShouldRedirectTo,o=e.removeSessionCookie,a=Object(r.useRef)(!0),s=Object(r.useCallback)((function(){t&&!k&&function(e){var t="".concat(m,"/auth/verify_token");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(t).then((function(e){return 500===e.status?e.json():null})).then((function(e){if(e)throw new Error("Internal Server Error: ",e.errors[0]);n(T.dashboard.main),a.current=!1})).catch((function(e){S((function(){return o()}))}))}),[t,o,n]);return Object(r.useEffect)((function(){return s(),function(){return a.current=!1}}),[t,s]),Object(F.jsx)("div",{className:oe.a.root,children:Object(F.jsxs)("div",{className:oe.a.container,children:[Object(F.jsx)("h1",{className:oe.a.header,children:"Skyrim Inventory Management"}),Object(F.jsx)(i.b,{className:oe.a.login,to:T.login,children:"Log in with Google"})]})})},se=n(62),ie=n.n(se),ce=n(40),le=n.n(ce),ue=function(){var e=Z(),t=e.token,n=e.setSessionCookie,o=e.removeSessionCookie,a=e.setShouldRedirectTo,s=Object(r.useState)(null),i=Object(d.a)(s,2),c=i[0],l=i[1],u=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return u.current=!1}})),Object(F.jsxs)("div",{className:le.a.root,children:[c?Object(F.jsx)("p",{className:le.a.errorMessage,children:c}):null,Object(F.jsx)("div",{className:le.a.container,children:Object(F.jsx)(ie.a,{className:le.a.button,clientId:"891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",buttonText:"Log In With Google",onSuccess:function(e){var t=e.tokenId;t&&(n(t),a(T.dashboard.main),u.current=!1)},onFailure:function(e){t&&o(),l("Something went wrong! Please try logging in again.")},redirectUri:"".concat("https://sim.danascheider.com").concat(T.dashboard.main)})})]})},de={schemeColorDarkest:"#ffbf00",schemeColorDark:"#ffcb32",schemeColorLight:"#ffd866",schemeColorLightest:"#fff2cc",hoverColorDark:"#e5ab00",hoverColorLight:"#ffc519",hoverColorLightest:"#ffebb2",textColorPrimary:"#4c3900",textColorSecondary:"#4c3900",textColorTertiary:"#7f5700",borderColor:"#cc9800"},he={schemeColorDarkest:"#e83f6f",schemeColorDark:"#ec658b",schemeColorLight:"#f18ba8",schemeColorLightest:"#fad8e2",hoverColorDark:"#d03863",hoverColorLight:"#ea527d",hoverColorLightest:"#f5b2c5",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#451221",borderColor:"#b93258"},me={schemeColorDarkest:"#2274a5",schemeColorDark:"#4e8fb7",schemeColorLight:"#7aabc9",schemeColorLightest:"#d2e3ed",hoverColorDark:"#1e6894",hoverColorLight:"#3881ae",hoverColorLightest:"#bcd5e4",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#0d2e42",borderColor:"#1b5c84"},fe={schemeColorDarkest:"#00a323",schemeColorDark:"#32b54e",schemeColorLight:"#66c77b",schemeColorLightest:"#ccecd3",hoverColorDark:"#00921f",hoverColorLight:"#19ac38",hoverColorLightest:"#b2e3bd",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#00410e",borderColor:"#00821c"},be={schemeColorDarkest:"#20e2e9",schemeColorDark:"#62eaef",schemeColorLight:"#8ff0f4",schemeColorLightest:"#d2f9fa",hoverColorDark:"#11cbd1",hoverColorLight:"#4ce7ed",hoverColorLightest:"#bcf6f8",textColorPrimary:"#094345",textColorSecondary:"#094345",textColorTertiary:"#094345",borderColor:"#19b4ba"},pe=[de,he,me,fe,be],ge=n.p+"static/media/googleIcon.9432a66b.svg",je=n(48),Oe=n.n(je),_e=function(e){var t=e.className,n=e.logOutFunction,o=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return o.current=!1}})),Object(F.jsx)("div",{className:t,children:Object(F.jsx)("button",{className:Oe.a.button,onClick:function(e){e.preventDefault(),n((function(){o.current=!1}))},children:Object(F.jsx)("div",{className:Oe.a.body,children:Object(F.jsxs)("div",{className:Oe.a.googleLogout,children:[Object(F.jsx)("img",{src:ge,alt:"Google logo"}),"Log Out With Google"]})})})})},ve=n.p+"static/media/anonymousAvatar.36d1acc1.jpg",xe=n(15),ye=n.n(xe),Ce=function(){var e=Z(),t=e.profileData,n=e.logOutAndRedirect,o=Object(r.useState)(!1),a=Object(d.a)(o,2),s=a[0],c=a[1],l=Object(r.useRef)(!0),u=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!1),n(T.home,(function(){e&&e(),l.current=!1}))}),[n]);return Object(r.useEffect)((function(){return function(){return l.current=!1}}),[]),Object(F.jsx)("div",{className:ye.a.root,children:Object(F.jsxs)("div",{className:ye.a.bar,children:[Object(F.jsx)("span",{className:ye.a.headerContainer,children:Object(F.jsxs)("h1",{className:ye.a.header,children:[Object(F.jsxs)(i.b,{className:ye.a.headerLinkLarge,to:T.dashboard.main,children:["Skyrim Inventory",Object(F.jsx)("br",{className:ye.a.bp})," Management"]}),Object(F.jsx)(i.b,{className:ye.a.headerLinkSmall,to:T.dashboard.main,children:"S. I. M."})]})}),t?Object(F.jsxs)("button",{className:ye.a.profile,onClick:function(){return c(!s)},children:[Object(F.jsxs)("div",{className:ye.a.profileText,children:[Object(F.jsx)("p",{className:ye.a.textTop,children:t.name}),Object(F.jsx)("p",{className:ye.a.textBottom,children:t.email})]}),Object(F.jsx)("img",{className:ye.a.avatar,src:t.image_url||ve,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(F.jsx)(_e,{className:s?ye.a.logoutDropdown:ye.a.hidden,logOutFunction:u})]})})},we=n(6),Le=n(5),Se=n.n(Le),Ne=n(13),ke=n(24),Ee=n(63),Ie=n.n(Ee),De=function(e){var t=e.name,n=e.className,r=e.onClick,o=e.onKeyDown,a=e.ariaSelected;return Object(F.jsx)("li",{className:Se()(Ie.a.root,n),onClick:r,onKeyDown:o,role:"option",tabIndex:0,"aria-selected":a,children:t.length>24?"".concat(t.substring(0,23),"..."):t})},Te=n(26),Fe=n.n(Te),Pe=function(){var e=Object(l.g)(),t=Y(),n=Z().setFlashVisible,o=$(),a=o.games,s=o.gameLoadingState,i=o.performGameCreate,c=Object(r.useState)(null),u=Object(d.a)(c,2),h=u[0],m=u[1],f=Object(r.useState)(!1),b=Object(d.a)(f,2),p=b[0],g=b[1],j=Object(r.useState)(""),O=Object(d.a)(j,2),_=O[0],v=O[1],x=Object(r.useRef)(null),y=function(){return g(!0)},C=Object(r.useCallback)((function(){return g(!1)}),[g]),w={"--button-background-color":me.schemeColorDarkest,"--button-hover-color":me.hoverColorDark,"--button-text-color":me.textColorPrimary,"--button-border-color":me.borderColor},L=Object(r.useCallback)((function(t){m(t),v(t.name);var n=new URLSearchParams("game_id=".concat(t.id));e.push({search:n.toString()}),C()}),[e,C]),S=function(e){return!(h&&!a.length)&&(h?h.id===e:e===a[0].id)};return Object(r.useEffect)((function(){var e=parseInt(t.get("game_id"));if(a.length&&e){if(h&&h.id===e)return;var n=e?a.find((function(t){return t.id===e})):a[0];L(n||a[0])}else a.length&&!h&&L(a[0])}),[L,h,a,t]),Object(r.useEffect)((function(){var t=function(t){if(x.current!==t.relatedTarget&&!x.current.contains(t.relatedTarget)){C();var n=a.find((function(e){return e.name.toLowerCase()===_.toLowerCase()}));if(n){m(n),v(n.name);var r=new URLSearchParams("game_id=".concat(n.id));e.push({search:r.toString()})}else h&&v(h.name)}};return document.addEventListener("focusout",t),function(){document.removeEventListener("focusout",t)}}),[a,m,h,v,_,e,C]),Object(F.jsxs)("div",{ref:x,className:Fe.a.root,style:w,"data-testid":"games-dropdown",children:[Object(F.jsxs)("div",{className:Fe.a.header,role:"combobox","aria-haspopup":"listbox","aria-owns":"gamesListbox","aria-controls":"gamesListbox","aria-expanded":p,children:[Object(F.jsx)("input",{className:Se()(Fe.a.input,"focusable"),type:"text",disabled:"done"!==s,value:_,onChange:function(e){return v(e.currentTarget.value)},placeholder:"No games available","aria-autocomplete":"list","aria-multiline":!1,"aria-controls":"gamesListbox",onFocus:y,onClick:y,onKeyDown:function(t){if("Enter"===t.key){var r=a.find((function(e){return e.name.toLowerCase()===t.target.value.toLowerCase()}));if(r)L(r);else i({name:_},{onSuccess:function(){e.push({search:""}),m(null),t.target.blur()},onUnprocessableEntity:function(){n(!0),t.target.blur()},onInternalServerError:function(){n(!0),t.target.blur()}})}else if("ArrowUp"===t.key){t.preventDefault();var o=document.getElementsByClassName("focusable");o[o.length-1].focus()}else"ArrowDown"===t.key?(t.preventDefault(),document.getElementsByClassName("focusable")[1].focus()):"Escape"===t.key&&C()}}),Object(F.jsx)("button",{className:Fe.a.trigger,onClick:function(){return g(!p)},onKeyDown:function(e){"ArrowDown"===e.key&&(e.preventDefault(),document.getElementsByClassName("focusable")[1].focus())},disabled:"done"!==s,"data-testid":"games-dropdown-trigger",children:Object(F.jsx)(Ne.a,{className:Fe.a.fa,icon:ke.a})})]}),Object(F.jsx)("ul",{id:"gamesListbox",className:Se()(Fe.a.dropdown,Object(we.a)({},Fe.a.hidden,!p||!a.length)),role:"listbox",children:a.map((function(e,t){var n=e.id,r=e.name;return Object(F.jsx)(De,{className:"focusable",onClick:function(){return L({id:n,name:r})},onKeyDown:function(e){if("Enter"===e.key||" "===e.key)L({id:n,name:r});else if("ArrowUp"===e.key){e.preventDefault();var t=Object(A.a)(document.getElementsByClassName("focusable")),o=t.indexOf(e.target);t[o-1].focus()}else if("ArrowDown"===e.key){e.preventDefault();var a=Object(A.a)(document.getElementsByClassName("focusable")),s=a.indexOf(e.target);a[s<a.length-1?s+1:0].focus()}},ariaSelected:S(n),name:r},"".concat(r.toLowerCase().replace(" ","_"),"-").concat(n))}))})]})},Re=n(28),Ue=n.n(Re),Ae=function(e){var t=e.title,n=e.includeGameSelect,r=void 0!==n&&n,o=e.children;return Object(F.jsxs)("div",{className:Ue.a.root,children:[Object(F.jsxs)("div",{className:Ue.a.container,children:[t?Object(F.jsxs)("div",{className:Ue.a.headerContainer,children:[Object(F.jsxs)("div",{className:Ue.a.titleContainer,children:[Object(F.jsx)("h2",{className:Ue.a.title,children:t}),r&&Object(F.jsx)(Pe,{})]}),Object(F.jsx)("hr",{className:Ue.a.hr})]}):null,o]}),Object(F.jsx)(Ce,{})]})},Ve=n(64),Me=n.n(Ve),qe=function(e){var t=e.className,n=e.type,r=void 0===n?"bubbles":n,o=e.color,a=e.height,s=e.width;return Object(F.jsx)(Me.a,{className:t,type:r,color:o,height:a,width:s})},We=n(65),Ge=n.n(We),Ye=function(e){var t=e.href,n=e.children,r=Q(),o={"--background-color":r.schemeColorDarkest,"--hover-color":r.hoverColorDark,"--text-color":r.textColorPrimary};return Object(F.jsx)(i.b,{className:Ge.a.root,to:t,style:o,children:n})},He=n(54),Be=n.n(He),ze=function(e){var t=e.cardArray;return Object(F.jsx)("div",{className:Be.a.root,children:t.map((function(e){var t=e.colorScheme,n=e.href,r=e.children,o=e.key;return Object(F.jsx)("div",{className:Be.a.card,children:Object(F.jsx)(G,{colorScheme:t,children:Object(F.jsx)(Ye,{href:n,children:r})})},o)}))})},Ke=n(55),Je=n.n(Ke),Qe=[{colorScheme:de,href:T.dashboard.games,children:"Your Games",key:"your-games"},{colorScheme:he,href:T.dashboard.shoppingLists,children:"Your Shopping Lists",key:"your-shopping-lists"},{colorScheme:me,href:T.dashboard.inventory,children:"Your Inventory",key:"your-inventory"},{colorScheme:fe,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:be,href:"#",children:"Nav Link 5",key:"nav-link-5"}],Ze=function(){var e=Z(),t=e.token,n=e.profileLoadState,o=e.setShouldRedirectTo,a=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return t||k||(o(T.login),a.current=!1),function(){return a.current=!1}}),[t,o]),Object(F.jsx)(Ae,{children:"done"===n?Object(F.jsx)("div",{className:Je.a.root,children:Object(F.jsx)(ze,{cardArray:Qe})}):Object(F.jsx)(qe,{className:Je.a.loading,type:"bubbles",color:de.schemeColorDarkest,height:"15%",width:"15%"})})},Xe=n(31),$e=n.n(Xe),et=(j={},Object(we.a)(j,"success","#329932"),Object(we.a)(j,"info","#4e6d8e"),Object(we.a)(j,"error","#cc0000"),Object(we.a)(j,"warning","#b0a723"),j),tt=function(){var e=Z(),t=e.flashVisible,n=e.setFlashVisible,o=e.flashAttributes,a=o.type,s=o.header,i=o.message,c={"--text-color":et[a]};return Object(r.useEffect)((function(){t&&setTimeout((function(){n(!1)}),4e3)}),[t,n]),Object(F.jsxs)("div",{className:Se()($e.a.root,Object(we.a)({},$e.a.hidden,!t)),style:c,children:[s&&Object(F.jsx)("p",{className:$e.a.header,children:s}),"string"===typeof i?i:Object(F.jsx)("ul",{className:$e.a.messageList,children:i.map((function(e,t){return Object(F.jsx)("li",{className:$e.a.msg,children:e},"message-".concat(t))}))})]})},nt=n(16),rt=n(25),ot=n(47),at=n(42),st=n.n(at),it=function(e){var t=e.children,n=e.title,o=e.subtitle,a=Z().setModalVisible,s=Object(r.useRef)(null),i=Object(r.useRef)(!0),c=Object(r.useCallback)((function(e){return s.current&&(s.current===e||s.current.contains(e))}),[]),l=Object(r.useCallback)((function(e){("click"===e.type&&!c(e.target)||"keydown"===e.type&&"Escape"===e.key)&&(a(!1),i.current=!1)}),[c,a]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[l]),Object(r.useEffect)((function(){return document.getElementsByTagName("body")[0].classList.add("modal-open"),function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),i.current=!1}}),[]),Object(F.jsx)("div",{role:"dialog",className:st.a.root,onClick:l,children:Object(F.jsxs)("div",{ref:s,className:st.a.content,children:[Object(F.jsx)("h3",{className:st.a.title,children:n}),o&&Object(F.jsx)("p",{className:st.a.subtitle,children:o}),t]})})},ct=["title","subtitle"],lt=function(e){return function(t){var n=t.title,r=t.subtitle,o=void 0===r?null:r,a=Object(ot.a)(t,ct);return Object(F.jsx)(it,{title:n,subtitle:o,children:Object(F.jsx)(e,Object(u.a)({},a))})}},ut=n(32),dt=n.n(ut),ht=["tag","label","name"],mt=function(e){var t=e.modelName,n=e.buttonLabel,o=e.onSubmit,a=e.fields,s=e.buttonColor,i=void 0===s?null:s,c=Object(r.useRef)(!0),l=Object(r.useRef)(null),d=Object(r.useRef)(null),h=Object(r.useRef)(i||pe[Math.floor(Math.random()*pe.length)]),m={"--button-background-color":h.current.schemeColorDarkest,"--button-text-color":h.current.textColorPrimary,"--button-hover-color":h.current.hoverColorDark,"--button-border-color":h.current.borderColor};return Object(r.useEffect)((function(){return d.current&&d.current.focus(),function(){return c.current=!1}}),[]),Object(F.jsxs)("form",{ref:l,className:dt.a.root,style:m,onSubmit:o,"data-testid":"".concat(t,"-form"),children:[a.map((function(e,n){var r=e.tag,o=e.label,a=e.name,s=Object(ot.a)(e,ht);return 0===n&&(s.ref=d),Object(F.jsxs)("fieldset",{className:dt.a.fieldset,children:[Object(F.jsx)("label",{className:dt.a.label,htmlFor:a,children:o}),Object(F.jsx)(r,Object(u.a)({className:dt.a.input,name:a},s))]},"".concat(t,"-").concat(a))})),Object(F.jsx)("button",{className:dt.a.submit,type:"submit",children:n})]})},ft=[{name:"name",tag:"input",label:"Name",type:"text",placeholder:"Name",inputMode:"text",pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Name can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"},{name:"description",tag:"input",label:"Description",type:"text",placeholder:"Description",inputMode:"text"}],bt=function(e){var t=e.type,n=e.currentAttributes,o=void 0===n?{}:n,a=Z(),s=a.setFlashVisible,i=a.setModalVisible,c=$(),d=c.performGameCreate,h=c.performGameUpdate,m=Object(l.g)(),f=Object(r.useRef)(!0),b=ft.map((function(e){return o[e.name]?Object(u.a)({defaultValue:o[e.name]},e):e}));return Object(r.useEffect)((function(){return function(){return f.current=!1}}),[]),Object(F.jsx)(mt,{modelName:"game",buttonLabel:"create"===t?"Create Game":"Update Game",onSubmit:function(e){e.preventDefault(),s(!1);var n=function(){s(!0),i(!1),f.current=!1},r={onUnprocessableEntity:n,onInternalServerError:n,onNotFound:n,onUnauthorized:function(){return f.current=!1}},a={name:e.target.elements.name.value,description:e.target.elements.description.value};for(var c in a)a[c]===o[c]&&delete a[c];if("create"===t){r.onSuccess=function(){D.indexOf(m.location.pathname)>-1?n():(i(!1),f.current=!1)},d(a,r)}else r.onSuccess=n,h(o.id,a,r)},fields:b})},pt=n(23),gt=n.n(pt),jt=function(e){var t=e.gameId,n=e.name,o=e.description,a=Object(r.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=Z(),u=l.setFlashAttributes,h=l.setFlashVisible,m=l.setModalVisible,f=l.setModalAttributes,b=$().performGameDestroy,p=Object(r.useRef)(!0),g=Object(r.useRef)(null),j=Object(r.useRef)(null),O=Object(r.useRef)(null);return Object(r.useEffect)((function(){return function(){return p.current=!1}}),[]),Object(F.jsxs)("div",{className:gt.a.root,children:[Object(F.jsxs)("div",{className:gt.a.header,onClick:function(e){var t,n;e&&(t=g,n=e.target,t.current&&(t.current===n||t.current.contains(n)))||c(Date.now)},children:[Object(F.jsxs)("span",{ref:g,className:gt.a.editIcons,children:[Object(F.jsx)("button",{ref:O,className:gt.a.icon,onClick:function(e){h(!1);window.confirm("Are you sure you want to delete this game? This cannot be undone. You will lose all data associated with the game you delete.")?b(t,{onSuccess:function(){h(!0),p.current=!1},onInternalServerError:function(){return p.current&&h(!0)}}):(u({type:"info",message:"Your game was not deleted."}),h(!0))},"data-testid":"game-destroy-icon",children:Object(F.jsx)(Ne.a,{className:gt.a.fa,icon:ke.c})}),Object(F.jsx)("button",{ref:j,className:gt.a.icon,onClick:function(){h(!1);var e={id:t,name:n,description:o},r=lt(bt);f({Tag:r,props:{title:"Edit Game",type:"edit",currentAttributes:e}}),m(!0)},"data-testid":"game-edit-icon",children:Object(F.jsx)(Ne.a,{className:gt.a.fa,icon:rt.b})})]}),Object(F.jsx)("h3",{className:gt.a.name,children:n})]}),Object(F.jsx)(nt.a,{toggleEvent:i,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:gt.a.collapsible,ref:t,children:Object(F.jsx)("p",{className:gt.a.description,children:o||"This game has no description."})})}})]})},Ot=n(22),_t=n.n(Ot),vt=function(e){var t=e.disabled,n=Z().setFlashVisible,o=$().performGameCreate,a=Object(r.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=Object(r.useRef)(null),u=Object(r.useRef)(null),h=Object(r.useRef)(!0),m={"--button-color":me.schemeColorDark,"--button-text-color":me.textColorPrimary,"--button-border-color":me.borderColor,"--button-hover-color":me.hoverColorLight},f=function(){return h.current&&c(Date.now)},b=function(e){e.preventDefault(),n(!1);var t={name:e.target.elements.name.value,description:e.target.elements.description.value},r=function(){n(!0),l.current&&l.current.reset(),f()};o(t,{onSuccess:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r,onUnauthorized:function(){return h.current=!1}})};return Object(r.useEffect)((function(){return function(){return h.current=!1}}),[]),Object(F.jsxs)("div",{className:_t.a.root,style:m,children:[Object(F.jsx)("h3",{className:_t.a.slideToggleTrigger,onClick:f,children:"Create Game..."}),Object(F.jsx)(nt.a,{toggleEvent:i,onExpanded:function(){return u.current.focus()},collapsed:!0,children:function(e){var n=e.setCollapsibleElement;return Object(F.jsx)("div",{ref:n,children:Object(F.jsxs)("form",{ref:l,className:_t.a.form,"data-testid":"game-create-form",onSubmit:b,children:[Object(F.jsx)("fieldset",{className:Se()(_t.a.fieldset,Object(we.a)({},_t.a.fieldsetDisabled,t)),disabled:t,children:Object(F.jsx)("input",{ref:u,className:_t.a.input,type:"text",name:"name",placeholder:"Name","aria-label":"Name",pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Name can contain only alphanumeric characters, spaces, commas, hyphens, and apostrophes"})}),Object(F.jsx)("fieldset",{className:Se()(_t.a.fieldset,Object(we.a)({},_t.a.fieldsetDisabled,t)),disabled:t,children:Object(F.jsx)("input",{className:_t.a.input,type:"text",name:"description",placeholder:"Description","aria-label":"Description"})}),Object(F.jsx)("button",{className:Se()(_t.a.button,Object(we.a)({},_t.a.buttonDisabled,t)),type:"submit",disabled:t,children:"Create"})]})})}})]})},xt=n(56),yt=n.n(xt),Ct=function(e){var t=e.modelName;return Object(F.jsx)("div",{className:yt.a.root,children:Object(F.jsxs)("p",{className:yt.a.text,children:["There was an error loading your ",t,". It may have been on our end. We're sorry!"]})})},wt=n(43),Lt=n.n(wt),St=function(){var e=Z(),t=e.modalVisible,n=e.modalAttributes,r=$(),o=r.games,a=r.gameLoadingState;return Object(F.jsxs)(Ae,{title:"Your Games",children:[t&&Object(F.jsx)(n.Tag,Object(u.a)({},n.props)),Object(F.jsxs)("div",{className:Lt.a.root,children:[Object(F.jsx)(tt,{}),o&&0===o.length&&a===M&&Object(F.jsx)("p",{className:Lt.a.noGames,children:"You have no games."}),a===M&&Object(F.jsx)(vt,{disabled:a===V||a===q}),o&&o.length>0&&a===M&&Object(F.jsx)("div",{className:Lt.a.games,children:o.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(F.jsx)(jt,{gameId:t,name:n,description:r},n)}))}),a===V&&Object(F.jsx)(qe,{type:"bubbles",className:Lt.a.loading,color:de.schemeColorDarkest,height:"15%",width:"15%"}),a===q&&Object(F.jsx)(Ct,{modelName:"games"})]})]})},Nt=n(19),kt=n.n(Nt),Et=function(e){e.canEdit,e.itemId;var t=e.description,n=e.quantity,o=e.notes,a=e.unitWeight,s=Object(r.useState)(0),i=Object(d.a)(s,2),c=i[0],l=i[1],u=Object(r.useState)(!0),h=Object(d.a)(u,2),m=h[0],f=h[1],b=Q(),p=b.schemeColorDark,g=b.hoverColorLight,j={"--scheme-color":p,"--title-text-color":b.textColorSecondary,"--border-color":b.borderColor,"--body-background-color":b.schemeColorLightest,"--body-text-color":b.textColorTertiary,"--hover-color":g};return Object(F.jsxs)("div",{className:Se()(kt.a.root,Object(we.a)({},kt.a.collapsed,m)),style:j,children:[Object(F.jsxs)("div",{className:kt.a.toggle,onClick:function(e){l(Date.now),f(!m)},children:[Object(F.jsx)("span",{className:kt.a.header,children:Object(F.jsx)("h3",{className:kt.a.description,children:t})}),Object(F.jsx)("span",{className:kt.a.quantity,children:Object(F.jsx)("div",{className:kt.a.quantityContent,children:n})})]}),Object(F.jsx)(nt.a,{toggleEvent:c,collapsed:!0,children:function(e){var t,n=e.setCollapsibleElement;return Object(F.jsxs)("div",{className:kt.a.collapsible,ref:n,children:[Object(F.jsx)("h4",{className:kt.a.label,children:"Unit Weight:"}),Object(F.jsx)("p",{className:kt.a.value,children:(t=a,t?t%1===0?t.toFixed(0):t.toFixed(1):"-")}),Object(F.jsx)("h4",{className:kt.a.label,children:"Notes:"}),Object(F.jsx)("p",{className:kt.a.value,children:o||"No details available"})]})}})]})},It=n(33),Dt=n.n(It),Tt=function(e){e.canEdit;var t=e.listId,n=e.title,o=ee().inventoryLists,a=Object(r.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=Object(r.useState)([]),u=Object(d.a)(l,2),h=u[0],m=u[1],f=Object(r.useRef)(null),b=Q(),p={"--scheme-color":b.schemeColorDarkest,"--border-color":b.borderColor,"--text-color-primary":b.textColorPrimary,"--text-color-secondary":b.textColorSecondary,"--hover-color":b.hoverColorDark,"--scheme-color-lighter":b.schemeColorDark,"--scheme-color-lightest":b.schemeColorLightest};return Object(r.useEffect)((function(){if(o){var e=o.find((function(e){return e.id===t})).list_items;m(Object(A.a)(e))}}),[o,t]),Object(F.jsxs)("div",{className:Dt.a.root,style:p,children:[Object(F.jsx)("div",{className:Dt.a.titleContainer,children:Object(F.jsx)("div",{className:Dt.a.trigger,ref:f,onClick:function(e){var t;t=e.target,f.current&&(f.current===t||f.current.contains(t))&&c(Date.now)},children:Object(F.jsx)("h3",{className:Dt.a.title,children:n})})}),Object(F.jsx)(nt.a,{toggleEvent:i,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:Dt.a.collapsible,ref:t,children:h&&h.length>0&&h.map((function(e){var t=e.id,r=e.description,o=e.quantity,a=e.notes,s=e.unit_weight,i="".concat(n.toLowerCase().replace(" ","-"),"-").concat(t);return Object(F.jsx)(Et,{itemId:t,listTitle:n,description:r,quantity:o,notes:a,unitWeight:s},i)}))})}})]})},Ft=n(34),Pt=n.n(Ft),Rt=function(){var e=Z(),t=e.setModalAttributes,n=e.setModalVisible,r=$(),o=r.games,a=r.gameLoadingState,s=ee(),i=s.inventoryLists,c=s.inventoryListLoadingState,l=i&&c===M&&i.length>0,u=i&&c===M&&0===i.length;if(a!==M||o.length){if(l)return Object(F.jsx)(F.Fragment,{children:i.map((function(e,t){var n=e.id,r=e.title,o=e.aggregate,a=pe[t<pe.length?t:t%pe.length],s=r.toLowerCase().replace(" ","-");return Object(F.jsx)(G,{colorScheme:a,children:Object(F.jsx)("div",{className:Pt.a.inventoryList,children:Object(F.jsx)(Tt,{canEdit:!o,listId:n,title:r})})},s)}))});if(u)return Object(F.jsx)("p",{className:Pt.a.noLists,children:"This game has no inventory lists."});if(c===V)return Object(F.jsx)(qe,{className:Pt.a.loading,color:de.schemeColorDarkest,height:"15%",width:"15%"});if(a===q||c===q){var d=a===q?"games":"inventory lists";return Object(F.jsx)(Ct,{modelName:d})}return null}return Object(F.jsxs)("p",{className:Pt.a.noLists,children:["You need a game to use the inventory lists feature. ",Object(F.jsx)("button",{className:Pt.a.link,onClick:function(e){e.preventDefault(),t({Tag:lt(bt),props:{title:"Create Game",type:"create"}}),n(!0)},children:"Create a game"})," to get started."]})},Ut=function(){var e=Z(),t=e.modalVisible,n=e.modalAttributes;return Object(F.jsxs)(Ae,{title:"Your Inventory",includeGameSelect:!0,children:[t&&Object(F.jsx)(n.Tag,Object(u.a)({},n.props)),Object(F.jsx)(tt,{}),Object(F.jsx)(Rt,{})]})},At=n(29),Vt=n.n(At),Mt=function(e){var t=e.disabled,n=Z().setFlashVisible,o=X().performShoppingListCreate,a=Object(r.useState)(""),s=Object(d.a)(a,2),i=s[0],c=s[1],l={"--button-color":me.schemeColorDark,"--button-text-color":me.textColorPrimary,"--button-border-color":me.borderColor,"--button-hover-color":me.hoverColorLight};return Object(F.jsx)("div",{className:Vt.a.root,style:l,children:Object(F.jsx)("form",{"data-testid":"shopping-list-create-form",onSubmit:function(e){e.preventDefault(),n(!1);var t=e.target.elements.title.value,r=function(){c(""),n(!0)};o(t,{onSuccess:r,onNotFound:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r})},children:Object(F.jsxs)("fieldset",{className:Se()(Vt.a.fieldset,Object(we.a)({},Vt.a.fieldsetDisabled,t)),disabled:t,children:[Object(F.jsx)("input",{className:Vt.a.input,type:"text",name:"title",placeholder:"Title","aria-label":"Title",value:i,onChange:function(e){var t=e.currentTarget.value;c(t)},pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"}),Object(F.jsx)("button",{className:Se()(Vt.a.button,Object(we.a)({},Vt.a.buttonDisabled,t)),type:"submit",children:"Create"})]})})})},qt=["a","an","the","and","but","for","at","by","from","with","to","in","of","into","onto","on","without","within"],Wt=function(e){var t=e.toLowerCase().split(" ");return t.map((function(e,n){return qt.indexOf(e)>-1&&-1===[1,t.length].indexOf(n)?e:function(e){var t=e[0].toUpperCase();return"".concat(t).concat(e.slice(1))}(e)})).join(" ")},Gt=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],a=Object(r.useRef)(null),s=Object(r.useRef)(null),i=function(e){return s.current&&s.current.contains(e)},c=function(e){"Escape"===e.key&&o(!1)},l=function(e){var t;t=e.target,a.current&&a.current.contains(t)||i(e.target)?i(e.target)&&o(!n):o(!1)};return Object(r.useEffect)((function(){return document.addEventListener("keydown",c,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",c,!0),document.removeEventListener("click",l,!0)}})),{componentRef:a,triggerRef:s,isComponentVisible:n,setIsComponentVisible:o}},Yt=n(69),Ht=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),o=n[0],a=n[1];return Object(r.useLayoutEffect)((function(){a(e.current.getBoundingClientRect())}),[e]),Object(Yt.a)(e,(function(e){return a(e.contentRect)})),o},Bt=n(44),zt=n.n(Bt),Kt=function(e){var t=e.formRef,n=e.maxTotalWidth,o=e.className,a=e.title,s=e.onSubmit,i=function(e){var t=document.createElement("canvas").getContext("2d");t.font="21px Quattrocento Sans";var r=b||n,o=1.1*t.measureText(e).width;return Math.min(o,r)},c=Object(r.useState)(a),l=Object(d.a)(c,2),u=l[0],h=l[1],m=Object(r.useState)(null),f=Object(d.a)(m,2),b=f[0],p=f[1],g=Object(r.useState)("".concat(i(a),"px")),j=Object(d.a)(g,2),O=j[0],_=j[1],v=Object(r.useRef)(null),x=Object(r.useRef)(null),y=Q(),C={"--scheme-color":y.schemeColorDarkest,"--text-color":y.textColorPrimary,"--border-color":y.borderColor,"--icon-hover-color":y.schemeColorLightest};return Object(r.useEffect)((function(){v.current.focus()})),Object(r.useEffect)((function(){if(!x.current)return p(n);p(n-x.current.offsetWidth)}),[n]),Object(F.jsxs)("form",{className:Se()(o,zt.a.root),style:C,ref:t,onSubmit:s,children:[Object(F.jsx)("input",{className:zt.a.input,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;h(t),_("".concat(i(t),"px"))},type:"text",name:"title","aria-label":"Title",ref:v,style:{width:O},value:u,pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, hyphens, commas, and apostrophes"}),Object(F.jsx)("button",{className:zt.a.submit,ref:x,name:"submit",type:"submit",children:Object(F.jsx)(Ne.a,{className:zt.a.fa,icon:rt.a})})]})},Jt=[{name:"quantity",tag:"input",label:"Quantity",type:"number",placeholder:"Quantity",inputMode:"numeric",min:1,required:!0},{name:"notes",tag:"textarea",label:"Notes",type:"textarea",placeholder:"This item has no notes",inputMode:"text"}],Qt=function(e){var t=e.buttonColor,n=e.currentAttributes,o=Z(),a=o.setFlashVisible,s=o.setModalVisible,i=X().performShoppingListItemUpdate,c=Object(r.useRef)(!0),l=Jt.map((function(e){return Object(u.a)({defaultValue:n[e.name]},e)}));return Object(r.useEffect)((function(){return function(){return c.current=!1}}),[]),Object(F.jsx)(mt,{modelName:"shopping-list-item",buttonLabel:"Update Item",buttonColor:t,onSubmit:function(e){e.preventDefault();var t=function(){a(!0),s(!1),c.current=!1},r={onSuccess:t,onNotFound:t,onUnprocessableEntity:t,onInternalServerError:t,onUnauthorized:function(){return c.current=!1}},o=e.target.elements.quantity.value,l=e.target.elements.notes.value;i(n.id,{quantity:o,notes:l},r)},fields:l})},Zt=n(7),Xt=n.n(Zt),$t=function(e){var t=e.itemId,n=e.listTitle,o=e.canEdit,a=e.description,s=e.quantity,i=e.unitWeight,c=e.notes,l=Object(r.useState)(0),u=Object(d.a)(l,2),h=u[0],m=u[1],f=Object(r.useState)(!0),b=Object(d.a)(f,2),p=b[0],g=b[1],j=Object(r.useState)(s),O=Object(d.a)(j,2),_=O[0],v=O[1],x=Z(),y=x.setFlashAttributes,C=x.setFlashVisible,w=x.setModalVisible,L=x.setModalAttributes,S=Q(),N=S.schemeColorDarkest,k=S.textColorPrimary,E=S.hoverColorDark,I=S.schemeColorDark,D=S.hoverColorLight,T=S.textColorSecondary,P=S.borderColor,R=S.schemeColorLightest,U=S.textColorTertiary,A=X(),V=A.performShoppingListItemUpdate,M=A.performShoppingListItemDestroy,q=Object(r.useRef)(!0),W=Object(r.useRef)(null),G=Object(r.useRef)(null),Y=Object(r.useRef)(null),H=Object(r.useRef)(null),B=Object(r.useRef)(null),z=function(e,t){return e.current&&(e.current===t||e.current.contains(t))},K=function(e){return function(e){return z(G,e)}(e)||function(e){return z(Y,e)}(e)||function(e){return z(H,e)}(e)||function(e){return z(B,e)}(e)},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;q.current&&(y({type:e,message:t,header:n}),C(!0))},$={"--main-color":I,"--title-text-color":T,"--border-color":P,"--body-background-color":R,"--body-text-color":U,"--hover-color":D};return Object(r.useEffect)((function(){q.current&&v(s)}),[s]),Object(r.useEffect)((function(){return function(){return q.current=!1}}),[]),Object(F.jsxs)("div",{className:Se()(Xt.a.root,Object(we.a)({},Xt.a.collapsed,p)),style:$,children:[Object(F.jsxs)("div",{className:Xt.a.toggle,onClick:function(e){K(e.target)||(m(Date.now),g(!p))},children:[Object(F.jsxs)("span",{className:Se()(Xt.a.header,Object(we.a)({},Xt.a.headerEditable,o)),children:[o&&Object(F.jsxs)("span",{className:Xt.a.editIcons,ref:W,children:[Object(F.jsx)("button",{className:Xt.a.icon,ref:Y,onClick:function(){window.confirm("Destroy shopping list item? Your aggregate list will be updated to reflect the change. This action cannot be undone.")?M(t,{onSuccess:function(){return q.current=!1},onUnauthorized:function(){return q.current=!1},onNotFound:function(){return C(!0)},onInternalServerError:function(){return C(!0)}}):J("info","Your item was not deleted.")},"data-testid":"destroy-item",children:Object(F.jsx)(Ne.a,{className:Se()(Xt.a.fa,Xt.a.destroyIcon),icon:ke.c})}),Object(F.jsx)("button",{className:Xt.a.icon,ref:G,onClick:function(){if(q.current){C(!1);var e=lt(Qt);L({Tag:e,props:{title:a,subtitle:'On list "'.concat(n,'"'),buttonColor:{schemeColorDarkest:N,hoverColorDark:E,borderColor:P,textColorPrimary:k},currentAttributes:{id:t,quantity:s,notes:c,description:a}}}),w(!0)}},"data-testid":"edit-item",children:Object(F.jsx)(Ne.a,{className:Xt.a.fa,icon:rt.b})})]}),Object(F.jsx)("h3",{className:Xt.a.description,children:a})]}),Object(F.jsxs)("span",{className:Xt.a.quantity,children:[o&&Object(F.jsx)("button",{className:Xt.a.icon,ref:H,onClick:function(){var e=_,n=_+1;q.current&&v(n),V(t,{quantity:n},{onNotFound:function(){v(e),C(!0)},onInternalServerError:function(){v(e),C(!0)}})},"data-testid":"incrementer",children:Object(F.jsx)(Ne.a,{className:Xt.a.fa,icon:ke.b})}),Object(F.jsx)("div",{className:Xt.a.quantityContent,children:_}),o&&Object(F.jsx)("button",{className:Xt.a.icon,ref:B,onClick:function(){var e=_,n=_-1;if(n>0){var r={onNotFound:function(){v(e),C(!0)},onInternalServerError:function(){v(e),C(!0)}};v(n),V(t,{quantity:n},r)}else if(0===n){window.confirm("Item quantity must be greater than zero. Delete the item instead?")?M(t,(function(){q.current=!1})):J("info","Your item was not deleted.")}},"data-testid":"decrementer",children:Object(F.jsx)(Ne.a,{className:Xt.a.fa,icon:ke.a})})]})]}),Object(F.jsx)(nt.a,{toggleEvent:h,collapsed:!0,children:function(e){var t,n=e.setCollapsibleElement;return Object(F.jsxs)("div",{className:Xt.a.collapsible,ref:n,children:[Object(F.jsx)("h4",{className:Xt.a.label,children:"Unit Weight:"}),Object(F.jsx)("p",{className:Xt.a.value,children:(t=i,t?t%1===0?t.toFixed(0):t.toFixed(1):"-")}),Object(F.jsx)("h4",{className:Xt.a.label,children:"Notes:"}),Object(F.jsx)("p",{className:Xt.a.value,children:c||"No details available"})]})}})]})},en=n(11),tn=n.n(en),nn=function(e){var t=e.listId,n=Object(r.useState)(0),o=Object(d.a)(n,2),a=o[0],s=o[1],i=Object(r.useState)(!0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=Z().setFlashVisible,m=X().performShoppingListItemCreate,f=Q(),b=f.schemeColorDark,p=f.hoverColorLight,g=f.schemeColorLightest,j=f.borderColor,O=f.textColorSecondary,_=f.textColorTertiary,v=Object(r.useRef)(null),x={"--base-color":b,"--hover-color":p,"--body-color":g,"--border-color":j,"--text-color-main":O,"--text-color-secondary":_},y=function(){s(Date.now),u(!l)},C=function(e){e.preventDefault(),h(!1);var n=e.target.elements.description.value,r=parseInt(e.target.elements.quantity.value),o=e.target.elements.notes.value,a=function(){v.current.reset(),y(),h(!0)};m(t,{description:n,quantity:r,notes:o},{onSuccess:a,onNotFound:a,onUnprocessableEntity:function(){return h(!0)},onInternalServerError:a})};return Object(F.jsxs)("div",{className:Se()(tn.a.root,Object(we.a)({},tn.a.collapsed,l)),style:x,children:[Object(F.jsx)("div",{className:tn.a.triggerContainer,children:Object(F.jsx)("button",{className:tn.a.triggerButton,onClick:y,children:"Add item to list..."})}),Object(F.jsx)(nt.a,{toggleEvent:a,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:tn.a.collapsible,ref:t,children:Object(F.jsxs)("form",{className:tn.a.form,ref:v,onSubmit:C,children:[Object(F.jsxs)("fieldset",{className:tn.a.fieldset,children:[Object(F.jsx)("label",{className:tn.a.label,children:"Description"}),Object(F.jsx)("input",{className:tn.a.input,type:"text",name:"description",placeholder:"Description",required:!0})]}),Object(F.jsxs)("fieldset",{className:tn.a.fieldset,children:[Object(F.jsx)("label",{className:tn.a.label,children:"Quantity"}),Object(F.jsx)("input",{className:tn.a.input,type:"number",inputMode:"numeric",min:1,name:"quantity",defaultValue:1,required:!0})]}),Object(F.jsxs)("fieldset",{className:tn.a.fieldset,children:[Object(F.jsx)("label",{className:tn.a.label,children:"Notes"}),Object(F.jsx)("input",{className:tn.a.input,type:"text",name:"notes",placeholder:"Notes"})]}),Object(F.jsx)("button",{className:tn.a.submit,type:"submit",children:"Add to List"})]})})}})]})},rn=n(20),on=n.n(rn),an=function(e){var t=e.canEdit,n=void 0===t||t,o=e.listId,a=e.title,s='Are you sure you want to delete the list "'.concat(a,'"? You will also lose any list items on the list. This action cannot be undone.'),i=Object(r.useState)(0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=Object(r.useState)(a),m=Object(d.a)(h,2),f=m[0],b=m[1],p=Object(r.useState)(null),g=Object(d.a)(p,2),j=g[0],O=g[1],_=Object(r.useState)([]),v=Object(d.a)(_,2),x=v[0],y=v[1],C=Object(r.useRef)(!0),w=Object(r.useRef)(null),L=Object(r.useRef)(null),S=Object(r.useRef)(null),N=Ht(w),k=Gt(),E=k.componentRef,I=k.triggerRef,D=k.isComponentVisible,T=k.setIsComponentVisible,P=Z(),R=P.setFlashAttributes,U=P.setFlashVisible,V=X(),M=V.shoppingLists,q=V.performShoppingListUpdate,W=V.performShoppingListDestroy,G=a,Y=function(e){return function(e){return w.current&&(w.current===e||w.current.contains(e))}(e)&&!function(e){return I.current&&(I.current===e||I.current.contains(e))}(e)&&!function(e){return E.current&&(E.current===e||E.current.contains(e))}(e)&&!function(e){return L.current&&(L.current===e||L.current.contains(e))}(e)},H=Q(),B={"--scheme-color":H.schemeColorDarkest,"--border-color":H.borderColor,"--text-color-primary":H.textColorPrimary,"--text-color-secondary":H.textColorSecondary,"--hover-color":H.hoverColorDark,"--scheme-color-lighter":H.schemeColorDark,"--scheme-color-lightest":H.schemeColorLightest,"--max-title-width":"".concat(j-32,"px")};return Object(r.useEffect)((function(){if(M&&C.current){var e=M.find((function(e){return e.id===o})).list_items;y(Object(A.a)(e))}}),[M,o]),Object(r.useEffect)((function(){N&&S.current&&C.current&&O(N.width-S.current.offsetWidth-16)}),[N]),Object(r.useEffect)((function(){return function(){return C.current=!1}}),[]),Object(F.jsxs)("div",{className:on.a.root,style:B,children:[Object(F.jsx)("div",{className:on.a.titleContainer,children:Object(F.jsxs)("div",{className:on.a.trigger,ref:w,onClick:function(e){Y(e.target)&&u(Date.now)},children:[n&&Object(F.jsxs)("span",{className:on.a.editIcons,ref:S,children:[Object(F.jsx)("div",{className:on.a.icon,ref:L,onClick:function(e){var t=window.confirm(s);if(U(!1),t){var n=function(){return U(!0)};W(o,{onSuccess:function(){U(!0),C.current=!1},onNotFound:n,onInternalServerError:n})}else C.current&&(R({type:"info",message:"Your list was not deleted."}),U(!0))},"data-testid":"delete-shopping-list",children:Object(F.jsx)(Ne.a,{className:on.a.fa,icon:ke.c})}),Object(F.jsx)("div",{className:on.a.icon,ref:I,"data-testid":"edit-shopping-list",children:Object(F.jsx)(Ne.a,{className:on.a.fa,icon:rt.b})})]}),n&&D?Object(F.jsx)(Kt,{formRef:E,maxTotalWidth:j,className:on.a.form,title:a,onSubmit:function(e){e.preventDefault(),U(!1);var t,n=e.nativeEvent.target.children[0].defaultValue;(!n||(t=n)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]===t&&"all items"!==t.toLowerCase())&&b(Wt(n));var r=function(){b(G),U(!0)};q(o,n,{onNotFound:r,onUnprocessableEntity:r,onInternalServerError:r}),T(!1)}}):Object(F.jsx)("h3",{className:on.a.title,children:f})]})}),Object(F.jsx)(nt.a,{toggleEvent:l,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsxs)("div",{className:on.a.collapsible,ref:t,children:[!n&&0===x.length&&Object(F.jsx)("div",{className:on.a.emptyList,children:"You have no shopping list items."}),n&&Object(F.jsx)(nn,{listId:o}),x&&x.length>0&&x.map((function(e){var t=e.id,r=e.description,o=e.quantity,s=e.notes,i=e.unit_weight,c="".concat(a.toLowerCase().replace(" ","-"),"-").concat(t);return Object(F.jsx)($t,{itemId:t,listTitle:a,canEdit:n,description:r,quantity:o,notes:s,unitWeight:i},c)}))]})}})]})},sn=n(35),cn=n.n(sn),ln=function(){var e=Z(),t=e.setModalAttributes,n=e.setModalVisible,r=$(),o=r.games,a=r.gameLoadingState,s=X(),i=s.shoppingLists,c=s.shoppingListLoadingState,l=i&&c===M&&i.length>0,u=i&&c===M&&0===i.length;if(a!==M||o.length){if(l)return Object(F.jsx)(F.Fragment,{children:i.map((function(e,t){var n=e.id,r=e.title,o=e.aggregate,a=pe[t<pe.length?t:t%pe.length],s=r.toLowerCase().replace(" ","-");return Object(F.jsx)(G,{colorScheme:a,children:Object(F.jsx)("div",{className:cn.a.shoppingList,children:Object(F.jsx)(an,{canEdit:!o,listId:n,title:r})})},s)}))});if(u)return Object(F.jsx)("p",{className:cn.a.noLists,children:"This game has no shopping lists."});if(c===V)return Object(F.jsx)(qe,{className:cn.a.loading,color:de.schemeColorDarkest,height:"15%",width:"15%"});if(a===q||c===q){var d=a===q?"games":"shopping lists";return Object(F.jsx)(Ct,{modelName:d})}return null}return Object(F.jsxs)("p",{className:cn.a.noLists,children:["You need a game to use the shopping lists feature. ",Object(F.jsx)("button",{className:cn.a.link,onClick:function(e){e.preventDefault(),t({Tag:lt(bt),props:{title:"Create Game",type:"create"}}),n(!0)},children:"Create a game"})," to get started."]})},un=n(68),dn=n.n(un),hn=function(){var e=Z(),t=e.modalVisible,n=e.modalAttributes,o=X().shoppingListLoadingState,a=o===V||o===q,s=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return s.current=!1}}),[]),Object(F.jsxs)(Ae,{title:"Your Shopping Lists",includeGameSelect:!0,children:[t&&Object(F.jsx)(n.Tag,Object(u.a)({},n.props)),Object(F.jsx)(tt,{}),Object(F.jsx)("div",{className:dn.a.createForm,children:Object(F.jsx)(Mt,{disabled:a})}),Object(F.jsx)(ln,{})," "]})},mn=n(45),fn=n.n(mn),bn=function(){var e=Z().token;return Object(F.jsx)("div",{className:fn.a.root,children:Object(F.jsxs)("div",{className:fn.a.container,children:[Object(F.jsx)("h1",{className:fn.a.header,children:"SIM: Page Not Found"}),Object(F.jsx)(i.b,{className:fn.a.link,to:e?T.dashboard.main:T.home,children:"Go Back"})]})})},pn="Skyrim Inventory Management |",gn=[{pageId:"home",title:"".concat(pn," Home"),description:"Manage your inventory across multiple properties in Skyrim",jsx:Object(F.jsx)(ae,{}),path:T.home},{pageId:"login",title:"".concat(pn," Login"),description:"Log into Skyrim Inventory Management using your Google account",jsx:Object(F.jsx)(ue,{}),path:T.login},{pageId:"dashboard",title:"".concat(pn," Dashboard"),description:"Skyrim Inventory Management User Dashboard",jsx:Object(F.jsx)(Ze,{}),path:T.dashboard.main},{pageId:"games",title:"".concat(pn," Your Games"),description:"Manage Skyrim Games",jsx:Object(F.jsx)(ne,{children:Object(F.jsx)(St,{})}),path:T.dashboard.games},{pageId:"shoppingLists",title:"".concat(pn," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",jsx:Object(F.jsx)(ne,{children:Object(F.jsx)(B,{children:Object(F.jsx)(hn,{})})}),path:T.dashboard.shoppingLists},{pageId:"inventory",title:"".concat(pn," Manage Inventory"),description:"Manage Skyrim Inventory",jsx:Object(F.jsx)(ne,{children:Object(F.jsx)(K,{children:Object(F.jsx)(Ut,{})})})}],jn=function(){return Object(F.jsxs)(l.d,{children:[gn.map((function(e){var t=e.pageId,n=e.title,r=e.description,o=e.jsx,a=e.path;return Object(F.jsxs)(l.b,{exact:!0,path:a,children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:n}),Object(F.jsx)("meta",{name:"description",content:r})]}),Object(F.jsx)(U,{children:o})]},t)})),Object(F.jsxs)(l.b,{children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:"Skyrim Inventory Management | Page Not Found"}),Object(F.jsx)("meta",{name:"description",content:"Skyrim Inventory Management could not find the page you were looking for"})]}),Object(F.jsx)(U,{children:Object(F.jsx)(bn,{})})]},"notFound")]})},On=function(){return Object(F.jsx)(i.a,{basename:"",children:Object(F.jsx)(c.b,{children:Object(F.jsx)(jn,{})})})};s.a.render(Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(On,{})}),document.getElementById("root"))}],[[85,1,2]]]);
//# sourceMappingURL=main.c210eddb.chunk.js.map