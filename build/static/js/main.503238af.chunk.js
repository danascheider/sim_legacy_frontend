(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],{13:function(e,t,o){e.exports={root:"shoppingListItem_root__3NPoi",headerContainer:"shoppingListItem_headerContainer__hu6Ur",button:"shoppingListItem_button__2k4QA",quantity:"shoppingListItem_quantity__1ebyP",description:"shoppingListItem_description__mnU6z",collapsible:"shoppingListItem_collapsible__xa2wr",notes:"shoppingListItem_notes__8g2fK"}},14:function(e,t,o){e.exports={root:"shoppingList_root__2O9FT",trigger:"shoppingList_trigger__WV4fR",form:"shoppingList_form__1GdfA",title:"shoppingList_title__3Gulc",fa:"shoppingList_fa__hRtKq",collapsible:"shoppingList_collapsible__2Zuq5"}},19:function(e,t,o){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx"}},20:function(e,t,o){e.exports={root:"flashMessage_root__2sPxp",content:"flashMessage_content__3iY0s",header:"flashMessage_header__Vx_Jr",messageList:"flashMessage_messageList__3V9SA",msg:"flashMessage_msg__3Wquk"}},22:function(e,t,o){e.exports={root:"shoppingListForm_root__24Wk-",input:"shoppingListForm_input__27DAp",submit:"shoppingListForm_submit__2yw-C",fa:"shoppingListForm_fa__1iH4U"}},23:function(e,t,o){e.exports={noLists:"shoppingListPageContent_noLists__3xnMI",shoppingList:"shoppingListPageContent_shoppingList__S3gTj",loading:"shoppingListPageContent_loading__2EI8i",error:"shoppingListPageContent_error__1dyyw"}},24:function(e,t,o){e.exports={root:"homePage_root__15tty",container:"homePage_container__3kQJo",header:"homePage_header__3EV45",login:"homePage_login__3ala0"}},25:function(e,t,o){e.exports={root:"loginPage_root__2Vf7z",errorMessage:"loginPage_errorMessage__8uTVC",container:"loginPage_container__2xdLK",button:"loginPage_button__1pDsX"}},30:function(e,t,o){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},36:function(e,t,o){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},37:function(e,t,o){e.exports={root:"dashboardPage_root__oVxx1",loading:"dashboardPage_loading__2vZsl"}},45:function(e,t,o){e.exports={root:"navigationCard_root__1-FD3"}},49:function(e,t,o){e.exports={flash:"shoppingListPage_flash__1mBKN"}},57:function(e,t,o){},66:function(e,t,o){"use strict";o.r(t);var r,n=o(1),a=o.n(n),i=o(40),s=o.n(i),c=(o(57),o(10)),l=o(26),d=o(4),h=o(12),u=o(3),b=o(67),g="891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",j="https://sim.danascheider.com",p="_sim_google_session",m="https://sim-api.danascheider.com",f=function(e){return{Authorization:"Bearer ".concat(e)}},_={"Content-Type":"application/json"},x=function(e){return Object(h.a)(Object(h.a)({},f(e)),_)},O=function(e){401===e.status&&e.json().then((function(e){throw function(){return{name:"AuthorizationError",code:401,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"401 Unauthorized"}}()}))},v=function(e,t,o){var r="".concat(m,"/shopping_lists/").concat(t),n=JSON.stringify({id:t,shopping_list:o});return fetch(r,{method:"PATCH",headers:x(e),body:n}).then((function(e){return O(e),e}))},C=function(e){console.error("Error signing out: ",e.message)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(window.gapi&&window.gapi.auth2){var o=window.gapi.auth2.getAuthInstance();null!==o?o.then((function(){return o.signOut()})).then(e,t):e()}e()},y=function(){return!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK},S={home:"/",login:"/login",dashboard:{main:"/dashboard",shoppingLists:"/dashboard/shoppingLists"}},N=o(0),F="done",E=Object(n.createContext)(),k=function(e){var t=e.children,o=e.overrideValue,r=void 0===o?{}:o,a=Object(b.a)([p]),i=Object(u.a)(a,3),s=i[0],c=i[2],l=Object(n.useState)(r.profileData),g=Object(u.a)(l,2),j=g[0],_=g[1],x=Object(n.useState)(r.shouldRedirectTo),v=Object(u.a)(x,2),C=v[0],k=v[1],w=Object(n.useState)(r.profileLoadState||"loading"),P=Object(u.a)(w,2),D=P[0],T=P[1],I=Object(n.useRef)(!0),R=function(){return r.removeSessionCookie||c(p)},A=Object(h.a)({token:s[p],profileData:j,removeSessionCookie:R,setProfileData:_,profileLoadState:D,setShouldRedirectTo:k},r),H=!r.profileData&&s[p];return Object(n.useEffect)((function(){H?function(e){var t="".concat(m,"/users/current");return fetch(t,{headers:f(e)}).then((function(e){return O(e),e}))}(s[p]).then((function(e){return e.json()})).then((function(e){_(e),r.profileLoadState||T(F)})).catch((function(e){console.error("Error returned while fetching profile data: ",e.message),L((function(){s[p]&&R(),k(S.login),I.current=!1}))})):s[p]||y()?y()&&!r.profileLoadState&&T(F):(k(S.login),I.current=!1)}),[]),Object(n.useEffect)((function(){return function(){I.current=!1}})),Object(N.jsx)(E.Provider,{value:A,children:C?Object(N.jsx)(d.a,{to:C}):t})},w={schemeColor:"#FFBF00",hoverColor:"#E5AB00",borderColor:"#CC9800",textColorPrimary:"#000000",schemeColorLighter:"#FFCB32",hoverColorLighter:"#FFC519",textColorSecondary:"#000000",textColorTertiary:"#000000",schemeColorLightest:"#FFF2CC"},P={schemeColor:"#E83F6F",hoverColor:"#D03863",borderColor:"#B93258",textColorPrimary:"#FFFFFF",schemeColorLighter:"#EC658B",hoverColorLighter:"#EA527D",textColorSecondary:"#FFFFFF",textColorTertiary:"#000000",schemeColorLightest:"#FAD8E2"},D={schemeColor:"#2274A5",hoverColor:"#1E6894",borderColor:"#1B5C84",textColorPrimary:"#FFFFFF",schemeColorLighter:"#4E8FB7",hoverColorLighter:"#3881AE",textColorSecondary:"#FFFFFF",textColorTertiary:"#000000",schemeColorLightest:"#D2E3ED"},T={schemeColor:"#00A323",hoverColor:"#00921F",borderColor:"#00821C",textColorPrimary:"#FFFFFF",schemeColorLighter:"#32B54E",hoverColorLighter:"#19AC38",textColorSecondary:"#FFFFFF",textColorTertiary:"#000000",schemeColorLightest:"#CCECD3"},I={schemeColor:"#20E2E9",hoverColor:"#1CCBD1",borderColor:"#19B4BA",textColorPrimary:"#000000",schemeColorLighter:"#62EAEF",hoverColorLighter:"#4CE7ED",textColorSecondary:"#000000",textColorTertiary:"#000000",schemeColorLightest:"#D2F9FA"},R=[w,P,D,T,I],A=Object(n.createContext)(),H=function(e){var t=e.colorScheme,o=e.children,r=Object(n.useState)(t),a=Object(u.a)(r,2),i=a[0],s=a[1],c=Object(n.useMemo)((function(){return[i,s]}),[i]);return Object(N.jsx)(A.Provider,{value:c,colorScheme:i,children:o})},M="done",B="error",V=Object(n.createContext)(),U=function(e){var t=e.children,o=e.overrideValue,r=void 0===o?{}:o,a=Object(n.useState)(r.shoppingLists),i=Object(u.a)(a,2),s=i[0],c=i[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),b=d[0],g=d[1],j=Object(n.useState)({}),p=Object(u.a)(j,2),_=p[0],x=p[1],C=Object(n.useState)("loading"),y=Object(u.a)(C,2),F=y[0],E=y[1],k=G(),w=k.token,P=k.setShouldRedirectTo,D=k.removeSessionCookie,T=Object(n.useRef)(!0),I=Object(h.a)({shoppingLists:s,shoppingListLoadingState:F,performShoppingListUpdate:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(w,e,{title:t}).then((function(t){switch(t.status){case 200:case 422:return t.json();case 404:return x({type:"error",message:"Shopping list could not be updated. Try refreshing to fix this problem."}),!r.setFlashVisible&&g(!0),null;default:throw Error("Something unexpected went wrong while updating list ".concat(e))}})).then((function(t){if(t&&!t.errors){var a=s.map((function(o){return o.id===e?t:o}));c(a),void 0===r.shoppingListLoadingState&&E(M),o&&o()}else t&&t.errors&&t.errors.title?(x({type:"error",header:"".concat(t.errors.title.length," error(s) prevented your changes from being saved:"),message:t.errors.title.map((function(e){return"Title ".concat(e)}))}),void 0===r.setFlashVisible&&g(!0),void 0===r.shoppingListLoadingState&&E(M),n&&n()):t&&t.errors&&(x({type:"error",message:"We couldn't update your list and we're not sure what went wrong. We're sorry! Please refresh the page and try again."}),void 0===r.setFlashVisible&&g(!0),void 0===r.setShoppingListLoadingState&&E(M),n&&n())})).catch((function(t){if(console.error("Error updating shopping list ".concat(e,": "),t.message),401===t.code)return L((function(){w&&D(),P(S.login),T.current=!1}));void 0===r.shoppingListLoadingState&&E(B)}))},flashProps:_,flashVisible:b},r);return Object(n.useEffect)((function(){w&&!r.shoppingLists&&function(e){var t="".concat(m,"/shopping_lists");return fetch(t,{headers:f(e)}).then((function(e){return O(e),e}))}(w).then((function(e){return e.json()})).then((function(e){if(!e)throw new Error("No shopping list data returned from the SIM API");c(e),void 0===r.shoppingListLoadingState&&E(M)})).catch((function(e){console.error("Error fetching shopping lists: ",e.message),401===e.code?L((function(){w&&D(),P(S.home),T.current=!1})):!r.shoppingListLoadingState&&E(B)}))}),[]),Object(n.useEffect)((function(){return function(){T.current=!1}})),Object(N.jsx)(V.Provider,{value:I,children:t})},W=function(e,t){var o=Object(n.useContext)(e);if(!o)throw new Error(t);return o},q=function(){return W(A,"useColorScheme must be used within a ColorProvider")},G=function(){return W(E,"useDashboardContext must be used within a DashboardProvider")},K=function(){return W(V,"useShoppingListContext must be used within a ShoppingListProvider")},z=o.p+"static/media/googleIcon.9432a66b.svg",J=o(30),Y=o.n(J),Q=function(e){var t=e.className,o=e.logOutUser;return Object(N.jsx)("div",{className:t,children:Object(N.jsx)("button",{className:Y.a.button,onClick:o,children:Object(N.jsx)("div",{className:Y.a.body,children:Object(N.jsxs)("div",{className:Y.a.googleLogout,children:[Object(N.jsx)("img",{src:z,alt:"Google logo"}),"Log Out With Google"]})})})})},Z=o.p+"static/media/anonymousAvatar.36d1acc1.jpg",X=o(7),$=o.n(X),ee=function(){var e=G(),t=e.token,o=e.profileData,r=e.removeSessionCookie,a=e.setShouldRedirectTo,i=Object(n.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],h=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){return h.current=!1}}),[]),Object(N.jsx)("div",{className:$.a.root,children:Object(N.jsxs)("div",{className:$.a.bar,children:[Object(N.jsx)("span",{className:$.a.headerContainer,children:Object(N.jsx)("h1",{className:$.a.header,children:Object(N.jsxs)(c.b,{className:$.a.headerLink,to:S.dashboard.main,children:["Skyrim Inventory",Object(N.jsx)("br",{className:$.a.bp})," Management"]})})}),o?Object(N.jsxs)("button",{className:$.a.profile,onClick:function(){return d(!l)},children:[Object(N.jsxs)("div",{className:$.a.profileText,children:[Object(N.jsx)("p",{className:$.a.textTop,children:o.name}),Object(N.jsx)("p",{className:$.a.textBottom,children:o.email})]}),Object(N.jsx)("img",{className:$.a.avatar,src:o.image_url||Z,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(N.jsx)(Q,{className:l?$.a.logoutDropdown:$.a.hidden,logOutUser:function(e){e.preventDefault(),d(!1),L((function(){t&&r(),a(S.home),h.current=!1}))}})]})})},te=o(19),oe=o.n(te),re=function(e){var t=e.title,o=e.children;return Object(N.jsxs)("div",{className:oe.a.root,children:[Object(N.jsxs)("div",{className:oe.a.container,children:[t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:oe.a.title,children:t}),Object(N.jsx)("hr",{className:oe.a.hr})]}):null,o]}),Object(N.jsx)(ee,{})]})},ne=o(44),ae=o.n(ne),ie=function(e){var t=e.className,o=e.type,r=void 0===o?"bubbles":o,n=e.color,a=e.height,i=e.width;return Object(N.jsx)(ae.a,{className:t,type:r,color:n,height:a,width:i})},se=o(45),ce=o.n(se),le=function(e){var t=e.href,o=e.children,r=q(),n=Object(u.a)(r,1)[0],a={"--background-color":n.schemeColor,"--hover-color":n.hoverColor,"--text-color":n.textColorPrimary};return Object(N.jsx)(c.b,{className:ce.a.root,to:t,style:a,children:o})},de=o(36),he=o.n(de),ue=function(e){var t=e.cardArray;return Object(N.jsx)("div",{className:he.a.root,children:t.map((function(e){var t=e.colorScheme,o=e.href,r=e.children,n=e.key;return Object(N.jsx)("div",{className:he.a.card,children:Object(N.jsx)(H,{colorScheme:t,children:Object(N.jsx)(le,{href:o,children:r})})},n)}))})},be=o(37),ge=o.n(be),je=[{colorScheme:w,href:S.dashboard.shoppingLists,children:"Your Shopping Lists",key:"shopping-lists"},{colorScheme:P,href:"#",children:"Nav Link 2",key:"nav-link-2"},{colorScheme:D,href:"#",children:"Nav Link 3",key:"nav-link-3"},{colorScheme:T,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:I,href:"#",children:"Nav Link 5",key:"nav-link-5"}],pe=function(){var e=G(),t=e.token,o=e.profileLoadState;return t?Object(N.jsx)(re,{children:"done"===o?Object(N.jsx)("div",{className:ge.a.root,children:Object(N.jsx)(ue,{cardArray:je})}):Object(N.jsx)(ie,{className:ge.a.loading,type:"bubbles",color:w.schemeColor,height:"15%",width:"15%"})}):Object(N.jsx)(d.a,{to:S.login})},me=o(16),fe=o(20),_e=o.n(fe),xe="info",Oe=(r={},Object(me.a)(r,xe,{body:"#cce5ff",border:"#b3d8ff",text:"#6289b2"}),Object(me.a)(r,"error",{body:"#ffcccc",border:"#ff9999",text:"#cc0000"}),Object(me.a)(r,"warning",{body:"#fefde4",border:"#fdf797",text:"#b0a723"}),r),ve=function(e){var t=e.type,o=void 0===t?xe:t,r=e.header,n=e.message,a={"--body-color":Oe[o].body,"--border-color":Oe[o].border,"--text-color":Oe[o].text};return Object(N.jsxs)("div",{className:_e.a.root,style:a,children:[r&&Object(N.jsx)("p",{className:_e.a.header,children:r}),"string"===typeof n?n:Object(N.jsx)("ul",{className:_e.a.messageList,children:n.map((function(e,t){return Object(N.jsx)("li",{className:_e.a.msg,children:e},"message-".concat(t))}))})]})},Ce=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),o=t[0],r=t[1],a=Object(n.useRef)(null),i=Object(n.useRef)(null),s=function(e){return i.current&&i.current.contains(e)},c=function(e){"Escape"===e.key&&r(!1)},l=function(e){var t;t=e.target,a.current&&a.current.contains(t)||s(e.target)?s(e.target)&&r(!o):r(!1)};return Object(n.useEffect)((function(){return document.addEventListener("keydown",c,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",c,!0),document.removeEventListener("click",l,!0)}})),{componentRef:a,triggerRef:i,isComponentVisible:o,setIsComponentVisible:r}},Le=o(27),ye=o(29),Se=o(28),Ne=o(48),Fe=o.n(Ne),Ee=o(22),ke=o.n(Ee),we=function(e){var t=e.formRef,o=e.className,r=e.title,a=e.onSubmit,i=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="21px Quattrocento Sans",t.measureText(e).width},s=Object(n.useState)(r),c=Object(u.a)(s,2),l=c[0],d=c[1],h=Object(n.useState)("".concat(i(r),"px")),b=Object(u.a)(h,2),g=b[0],j=b[1],p=Object(n.useRef)(null),m=q(),f=Object(u.a)(m,1)[0],_={"--scheme-color":f.schemeColor,"--text-color":f.textColorPrimary,"--border-color":f.borderColor,"--icon-hover-color":f.schemeColorLightest};return Object(n.useEffect)((function(){p.current.focus()})),Object(N.jsxs)("form",{className:Fe()(o,ke.a.root),style:_,ref:t,onSubmit:a,children:[Object(N.jsx)("input",{className:ke.a.input,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;d(t),j("".concat(i(t),"px"))},type:"text",name:"title",ref:p,style:{width:g},value:l}),Object(N.jsx)("button",{className:ke.a.submit,name:"submit",type:"submit",children:Object(N.jsx)(Le.a,{className:ke.a.fa,icon:ye.a})})]})},Pe=o(13),De=o.n(Pe),Te=function(e){var t=e.description,o=e.quantity,r=e.notes,a=q(),i=Object(u.a)(a,1)[0],s=Object(n.useState)(0),c=Object(u.a)(s,2),l=c[0],d=c[1],h=i.schemeColorLighter,b=i.hoverColorLighter,g={"--main-color":h,"--title-text-color":i.textColorSecondary,"--border-color":i.borderColor,"--body-background-color":i.schemeColorLightest,"--body-text-color":i.textColorTertiary,"--hover-color":b};return Object(N.jsxs)("div",{className:De.a.root,style:g,children:[Object(N.jsxs)("div",{className:De.a.headerContainer,children:[Object(N.jsx)("button",{className:De.a.button,onClick:function(){d(Date.now)},children:Object(N.jsx)("h4",{className:De.a.description,children:t})}),Object(N.jsx)("span",{className:De.a.quantity,children:o})]}),Object(N.jsx)(Se.a,{toggleEvent:l,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(N.jsx)("div",{className:De.a.collapsible,ref:t,children:Object(N.jsx)("div",{className:De.a.container,children:Object(N.jsx)("p",{className:De.a.notes,children:r||"No details available"})})})}})]})},Ie=o(14),Re=o.n(Ie),Ae=function(e){var t=e.canEdit,o=void 0===t||t,r=e.listId,a=e.title,i=Object(n.useState)(0),s=Object(u.a)(i,2),c=s[0],l=s[1],d=Object(n.useState)(a),h=Object(u.a)(d,2),b=h[0],g=h[1],j=Object(n.useState)(null),p=Object(u.a)(j,2),m=p[0],f=p[1],_=q(),x=Object(u.a)(_,1)[0],O=Object(n.useRef)(null),v=Ce(),C=v.componentRef,L=v.triggerRef,y=v.isComponentVisible,S=v.setIsComponentVisible,F=K(),E=F.shoppingLists,k=F.performShoppingListUpdate,w=a,P=x.schemeColor,D=x.hoverColor,T=x.borderColor,I=x.textColorPrimary,R=x.schemeColorLighter,A=x.hoverColorLighter,M=x.schemeColorLightest,B={schemeColor:R,hoverColor:A,borderColor:T,titleTextColor:x.textColorSecondary,bodyBackgroundColor:M,bodyTextColor:x.textColorTertiary},V=function(e){return function(e){return O.current&&(O.current===e||O.current.contains(e))}(e)&&!function(e){return L.current&&(L.current===e||L.current.contains(e))}(e)&&!function(e){return C.current&&(C.current===e||C.current.contains(e))}(e)},U={"--scheme-color":P,"--border-color":T,"--text-color":I,"--hover-color":D,"--scheme-color-lighter":R,"--scheme-color-lightest":M};return Object(n.useEffect)((function(){if(void 0!==E){var e=E.find((function(e){return e.id===r})).shopping_list_items;f(e)}}),[E]),Object(N.jsxs)("div",{className:Re.a.root,style:U,children:[Object(N.jsx)("div",{className:Re.a.titleContainer,children:Object(N.jsxs)("div",{className:Re.a.trigger,ref:O,onClick:function(e){V(e.target)&&l(Date.now)},children:[o&&Object(N.jsx)("div",{ref:L,children:Object(N.jsx)(Le.a,{className:Re.a.fa,icon:ye.b})}),o&&y?Object(N.jsx)(H,{colorScheme:x,children:Object(N.jsx)(we,{formRef:C,className:Re.a.form,title:a,onSubmit:function(e){e.preventDefault();var t,o=e.nativeEvent.target.children[0].defaultValue;o&&(!(t=o)||t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]!==t||"Master"===t)||g(o),k(r,o,null,(function(){g(w)})),S(!1)}})}):Object(N.jsx)("h3",{className:Re.a.title,children:b})]})}),Object(N.jsx)(Se.a,{toggleEvent:c,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(N.jsx)("div",{className:Re.a.collapsible,ref:t,children:m&&m.map((function(e){var t=e.id,o=e.description,r=e.quantity,n=e.notes,i="".concat(a.toLowerCase().replace(" ","-"),"-").concat(t);return Object(N.jsx)(Te,{description:o,quantity:r,notes:n,colorScheme:B},i)}))})}})]})},He=o(23),Me=o.n(He),Be=function(){var e=K(),t=e.shoppingLists,o=e.shoppingListLoadingState,r=t&&"done"===o&&t.length>0,n=!t&&"done"===o,a=!t&&"error"===o,i=t&&"error"===o;return t&&"done"===o&&0===t.length?Object(N.jsx)("p",{className:Me.a.noLists,children:"You have no shopping lists."}):r?Object(N.jsx)(N.Fragment,{children:t.map((function(e,t){var o=e.id,r=e.title,n=e.master,a=e.shopping_list_items,i=t<R.length?t:t%R.length,s=r.toLowerCase().replace(" ","-");return Object(N.jsx)(H,{colorScheme:R[i],children:Object(N.jsx)("div",{className:Me.a.shoppingList,children:Object(N.jsx)(Ae,{canEdit:!n,listId:o,title:r,listItems:a})})},s)}))}):"loading"===o?Object(N.jsx)(ie,{className:Me.a.loading,color:w.schemeColor,height:"15%",width:"15%"}):n||a||i?Object(N.jsx)("p",{className:Me.a.error,children:"There was an error loading your lists. It may have been on our end. We're sorry!"}):void 0},Ve=o(49),Ue=o.n(Ve),We=function(){var e=K(),t=e.flashProps,o=e.flashVisible;return Object(N.jsxs)(re,{title:"Your Shopping Lists",children:[o&&Object(N.jsx)("div",{className:Ue.a.flash,children:Object(N.jsx)(ve,Object(h.a)({},t))}),Object(N.jsx)(Be,{})," "]})},qe=o(24),Ge=o.n(qe),Ke=function(){var e=Object(b.a)([p]),t=Object(u.a)(e,3)[0];return!y()&&t[p]?Object(N.jsx)(d.a,{to:S.dashboard.main}):Object(N.jsx)("div",{className:Ge.a.root,children:Object(N.jsxs)("div",{className:Ge.a.container,children:[Object(N.jsx)("h1",{className:Ge.a.header,children:"Skyrim Inventory Management"}),Object(N.jsx)(c.b,{className:Ge.a.login,to:S.login,children:"Log in with Google"})]})})},ze=o(50),Je=o.n(ze),Ye=o(25),Qe=o.n(Ye),Ze=function(){var e=Object(b.a)([p]),t=Object(u.a)(e,3),o=t[0],r=t[1],a=t[2],i=Object(n.useState)(null),s=Object(u.a)(i,2),c=s[0],l=s[1];return o[p]&&!y()?Object(N.jsx)(d.a,{to:S.dashboard.main}):Object(N.jsxs)("div",{className:Qe.a.root,children:[c?Object(N.jsx)("p",{className:Qe.a.errorMessage,children:c}):null,Object(N.jsx)("div",{className:Qe.a.container,children:Object(N.jsx)(Je.a,{className:Qe.a.button,clientId:g,buttonText:"Log In With Google",onSuccess:function(e){var t=e.tokenId;o[p]!==t&&function(e){var t="".concat(m,"/auth/verify_token");return fetch(t,{headers:f(e)}).then((function(e){return O(e),e}))}(t).then((function(e){204===e.status&&r(p,t)})).catch((function(e){console.error("Error from /auth/verify_token: ",e.message),L((function(){return o[p]&&a(p),Object(N.jsx)(d.a,{to:S.home})}))}))},onFailure:function(e){console.log("Login failure: ",e),o[p]&&a(p),l("Something went wrong! Please try logging in again.")},isSignedIn:!0,redirectUri:"".concat(j).concat(S.dashboard.main)})})]})},Xe="Skyrim Inventory Management |",$e=[{pageId:"home",title:"".concat(Xe," Home"),description:"Manage your inventory across multiple properties in Skyrim",jsx:Object(N.jsx)(Ke,{}),path:S.home},{pageId:"login",title:"".concat(Xe," Login"),description:"Log into Skyrim Inventory Management using your Google account",jsx:Object(N.jsx)(Ze,{}),path:S.login},{pageId:"dashboard",title:"".concat(Xe," Dashboard"),description:"Skyrim Inventory Management User Dashboard",jsx:Object(N.jsx)(k,{children:Object(N.jsx)(pe,{})}),path:S.dashboard.main},{pageId:"shoppingLists",title:"".concat(Xe," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",jsx:Object(N.jsx)(k,{children:Object(N.jsx)(U,{children:Object(N.jsx)(We,{})})}),path:S.dashboard.shoppingLists}],et=function(){return Object(N.jsx)(d.d,{children:$e.map((function(e){var t=e.pageId,o=e.title,r=e.description,n=e.jsx,a=e.path;return Object(N.jsxs)(d.b,{exact:!0,path:a,children:[Object(N.jsxs)(l.a,{children:[Object(N.jsx)("html",{lang:"en"}),Object(N.jsx)("title",{children:o}),Object(N.jsx)("meta",{name:"description",content:r})]}),n]},t)}))})},tt=function(){return Object(N.jsx)(c.a,{basename:"",children:Object(N.jsx)(l.b,{children:Object(N.jsx)(et,{})})})};s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(tt,{})}),document.getElementById("root"))},7:function(e,t,o){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLink:"dashboardHeader_headerLink__dHHDn",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}}},[[66,1,2]]]);
//# sourceMappingURL=main.503238af.chunk.js.map