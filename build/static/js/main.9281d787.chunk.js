(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],[,,,,,function(e,t,r){e.exports={root:"shoppingListItem_root__3NPoi",toggle:"shoppingListItem_toggle__26aMd",fa:"shoppingListItem_fa__2P4jA",destroyIcon:"shoppingListItem_destroyIcon__2IBmH",header:"shoppingListItem_header__1qqqT",headerEditable:"shoppingListItem_headerEditable__2K0Ir",editIcons:"shoppingListItem_editIcons__2RoL7",quantity:"shoppingListItem_quantity__1ebyP",quantityContent:"shoppingListItem_quantityContent__24Ts-",icon:"shoppingListItem_icon__1pEqd",description:"shoppingListItem_description__mnU6z",collapsible:"shoppingListItem_collapsible__xa2wr",notes:"shoppingListItem_notes__8g2fK",button:"shoppingListItem_button__2k4QA"}},,function(e,t,r){e.exports={root:"shoppingListItemCreateForm_root__3B7YP",triggerContainer:"shoppingListItemCreateForm_triggerContainer__3IkQf",triggerButton:"shoppingListItemCreateForm_triggerButton__2HK_d",form:"shoppingListItemCreateForm_form__OXRXv",fieldset:"shoppingListItemCreateForm_fieldset__1ovw9",input:"shoppingListItemCreateForm_input__2Jire",label:"shoppingListItemCreateForm_label__qlamy",submit:"shoppingListItemCreateForm_submit__22fVU"}},,function(e,t,r){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLinkLarge:"dashboardHeader_headerLinkLarge__ED8Xx",headerLinkSmall:"dashboardHeader_headerLinkSmall__3TlC1",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}},,,,function(e,t,r){e.exports={root:"shoppingList_root__2O9FT",trigger:"shoppingList_trigger__WV4fR",form:"shoppingList_form__1GdfA",icon:"shoppingList_icon__3FP5H",editIcons:"shoppingList_editIcons__gL8DA",title:"shoppingList_title__3Gulc",fa:"shoppingList_fa__hRtKq",collapsible:"shoppingList_collapsible__2Zuq5",emptyList:"shoppingList_emptyList__289Te"}},,,,function(e,t,r){e.exports={root:"shoppingListItemEditForm_root__2zUjt",header:"shoppingListItemEditForm_header__2txvT",subheader:"shoppingListItemEditForm_subheader__3yBzn",fieldset:"shoppingListItemEditForm_fieldset__2xXd9",quantityLabel:"shoppingListItemEditForm_quantityLabel__2qX0H",notesLabel:"shoppingListItemEditForm_notesLabel__3K7ws",input:"shoppingListItemEditForm_input__1GgIg",submit:"shoppingListItemEditForm_submit__18nHy"}},,,,function(e,t,r){e.exports={root:"shoppingListCreateForm_root__iSFdV",button:"shoppingListCreateForm_button__2so-6",fieldset:"shoppingListCreateForm_fieldset__1BLSp",fieldsetDisabled:"shoppingListCreateForm_fieldsetDisabled__2V4n7",input:"shoppingListCreateForm_input__3hAzq",buttonDisabled:"shoppingListCreateForm_buttonDisabled__1USkv"}},,,,,,function(e,t,r){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx",titleContainer:"dashboardLayout_titleContainer__3J8Iz"}},,,,function(e,t,r){e.exports={root:"flashMessage_root__2sPxp",content:"flashMessage_content__3iY0s",header:"flashMessage_header__Vx_Jr",messageList:"flashMessage_messageList__3V9SA",msg:"flashMessage_msg__3Wquk"}},,function(e,t,r){e.exports={root:"shoppingListEditForm_root__rs5qL",input:"shoppingListEditForm_input__2FbCX",submit:"shoppingListEditForm_submit__1FqNJ",fa:"shoppingListEditForm_fa__Bb-dM"}},function(e,t,r){e.exports={root:"homePage_root__15tty",container:"homePage_container__3kQJo",header:"homePage_header__3EV45",login:"homePage_login__3ala0"}},function(e,t,r){e.exports={root:"loginPage_root__2Vf7z",errorMessage:"loginPage_errorMessage__8uTVC",container:"loginPage_container__2xdLK",button:"loginPage_button__1pDsX"}},function(e,t,r){e.exports={root:"notFoundPage_root__131Oh",container:"notFoundPage_container__38cw2",header:"notFoundPage_header__BhS9L",link:"notFoundPage_link__2cDdM"}},,function(e,t,r){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},function(e,t,r){e.exports={overlay:"shoppingListPage_overlay__37z_g",createForm:"shoppingListPage_createForm__c7_90",flash:"shoppingListPage_flash__1mBKN"}},,,,,,function(e,t,r){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},function(e,t,r){e.exports={root:"dashboardPage_root__oVxx1",loading:"dashboardPage_loading__2vZsl"}},function(e,t,r){e.exports={noLists:"shoppingListPageContent_noLists__3xnMI",shoppingList:"shoppingListPageContent_shoppingList__S3gTj",loading:"shoppingListPageContent_loading__2EI8i",error:"shoppingListPageContent_error__1dyyw"}},,,,,,,function(e,t,r){e.exports={root:"navigationCard_root__1-FD3"}},,,,,,,,,,,function(e,t,r){},,,,,,,,,function(e,t,r){"use strict";r.r(t);var o=r(1),n=r.n(o),i=r(49),s=r.n(i),a=(r(65),r(10)),c=r(29),l=r(4),u=r(14),d=r(3),h=r(76),f="https://sim-api.danascheider.com",p="_sim_google_session";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"401 Unauthorized";this.message=e,this.code=401,this.name="AuthorizationError",this.stack=(new Error).stack}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"404 Not Found";this.message=e,this.code=404,this.name="NotFoundError",this.stack=(new Error).stack}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"405 Method Not Allowed";this.message=e,this.code=405,this.name="MethodNotAllowedError",this.stack=(new Error).stack}b.prototype=new Error,m.prototype=new Error,g.prototype=new Error;var j,_={"Content-Type":"application/json"},O=function(e){return{Authorization:"Bearer ".concat(e)}},v=function(e){return Object(u.a)(Object(u.a)({},O(e)),_)},x=function(e,t){var r="".concat(f,"/shopping_lists"),o=JSON.stringify({shopping_list:t});return fetch(r,{method:"POST",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;return e}))},y=function(e,t,r){var o="".concat(f,"/shopping_lists/").concat(t),n=JSON.stringify({id:t,shopping_list:r});return fetch(o,{method:"PATCH",headers:v(e),body:n}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new m("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be updated manually.");return e}))},L=function(e,t){var r="".concat(f,"/shopping_lists/").concat(t);return fetch(r,{method:"DELETE",headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new m("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be deleted manually.");return e}))},C=function(e,t,r){var o="".concat(f,"/shopping_lists/").concat(t,"/shopping_list_items");return fetch(o,{method:"POST",headers:v(e),body:JSON.stringify({shopping_list_item:r})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new m("You tried to create an item on a list that doesn't exist. Try refreshing to resolve this issue.");return e}))},w=function(e,t,r){var o="".concat(f,"/shopping_list_items/").concat(t);return fetch(o,{method:"PATCH",headers:v(e),body:JSON.stringify({shopping_list_item:r})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new m("You tried to update a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return e}))},S=function(e,t,r){var o="".concat(f,"/shopping_list_items/").concat(t);return fetch(o,{method:"DELETE",headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new m("You tried to delete a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return e}))},N=function(e){console.error("Error signing out: ",e.message)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;if(window.gapi&&window.gapi.auth2){var r=window.gapi.auth2.getAuthInstance();null!==r?r.then((function(){return r.disconnect()})).then(e,t):e()}e()},E=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK||!1,I=!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK,D=["/","/login","/dashboard","/dashboard/shopping_lists"],T={home:"/",login:"/login",dashboard:{main:"/dashboard",shoppingLists:"/dashboard/shopping_lists"}},F=r(0),P="done",R=Object(o.createContext)(),q=function(e){var t=e.children,r=e.overrideValue,n=void 0===r?{}:r,i=Object(l.g)().pathname,s=Object(h.a)([p]),a=Object(d.a)(s,3),c=a[0],m=a[1],g=a[2],j=Object(o.useState)({}),_=Object(d.a)(j,2),v=_[0],x=_[1],y=Object(o.useState)(!1),L=Object(d.a)(y,2),C=L[0],w=L[1],S=Object(o.useState)(n.profileData),N=Object(d.a)(S,2),I=N[0],q=N[1],A=Object(o.useState)(n.shouldRedirectTo),M=Object(d.a)(A,2),W=M[0],V=M[1],H=Object(o.useState)(n.profileLoadState||"loading"),U=Object(d.a)(H,2),B=U[0],Y=U[1],K=Object(o.useRef)(!0),z=Object(o.useCallback)((function(){return g(p)}),[g]),G=Object(o.useCallback)((function(e){V(e),K.current=!1}),[]),J=Object(o.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;x({type:e,message:t,header:r}),w(!0),window.scrollTo(0,0)}),[]),Q=Object(o.useCallback)((function(){w(!1)}),[]),X=Object(o.useCallback)((function(){return i!==T.login&&i!==T.home&&-1!==D.indexOf(i)}),[i]),Z=Object(o.useCallback)((function(){return!n.profileData&&c[p]&&X()}),[n.profileData,c,X]),$=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.login,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;k((function(){c[p]&&z(),t&&t(),X()&&G(e)}))}),[c,z,X,G]),ee=Object(u.a)({token:c[p],profileData:I,removeSessionCookie:z,setSessionCookie:function(e){return m(p,e)},profileLoadState:B,setShouldRedirectTo:G,logOutAndRedirect:$,flashVisible:C,flashProps:v,displayFlash:J,hideFlash:Q},n);return Object(o.useEffect)((function(){X()&&!c[p]&&K.current&&$()}),[X,c,$]),Object(o.useEffect)((function(){Z()?function(e){var t="".concat(f,"/users/current");return fetch(t,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(c[p]).then((function(e){return e.json()})).then((function(e){if(e.errors)throw new Error("Internal Server Error: ",e.errors[0]);!0===K.current&&(q(e),n.profileLoadState||Y(P))})).catch((function(e){$()})):E&&!n.profileLoadState&&Y(P)}),[X,$,n.profileLoadState,Z,c]),Object(o.useEffect)((function(){return function(){return K.current=!1}})),Object(F.jsx)(R.Provider,{value:ee,children:W?Object(F.jsx)(l.a,{to:W}):t})},A={schemeColorDarkest:"#ffbf00",schemeColorDark:"#ffcb32",schemeColorLight:"#ffd866",schemeColorLightest:"#fff2cc",hoverColorDark:"#e5ab00",hoverColorLight:"#ffc519",hoverColorLightest:"#ffebb2",textColorPrimary:"#4c3900",textColorSecondary:"#4c3900",textColorTertiary:"#7f5700",borderColor:"#cc9800"},M={schemeColorDarkest:"#e83f6f",schemeColorDark:"#ec658b",schemeColorLight:"#f18ba8",schemeColorLightest:"#fad8e2",hoverColorDark:"#d03863",hoverColorLight:"#ea527d",hoverColorLightest:"#f5b2c5",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#451221",borderColor:"#b93258"},W={schemeColorDarkest:"#2274a5",schemeColorDark:"#4e8fb7",schemeColorLight:"#7aabc9",schemeColorLightest:"#d2e3ed",hoverColorDark:"#1e6894",hoverColorLight:"#3881ae",hoverColorLightest:"#bcd5e4",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#0d2e42",borderColor:"#1b5c84"},V={schemeColorDarkest:"#00a323",schemeColorDark:"#32b54e",schemeColorLight:"#66c77b",schemeColorLightest:"#ccecd3",hoverColorDark:"#00921f",hoverColorLight:"#19ac38",hoverColorLightest:"#b2e3bd",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#00410e",borderColor:"#00821c"},H={schemeColorDarkest:"#20e2e9",schemeColorDark:"#62eaef",schemeColorLight:"#8ff0f4",schemeColorLightest:"#d2f9fa",hoverColorDark:"#11cbd1",hoverColorLight:"#4ce7ed",hoverColorLightest:"#bcf6f8",textColorPrimary:"#094345",textColorSecondary:"#094345",textColorTertiary:"#094345",borderColor:"#19b4ba"},U=[A,M,W,V,H],B=Object(o.createContext)(),Y=function(e){var t=e.colorScheme,r=e.children;return Object(F.jsx)(B.Provider,{value:t,children:r})},K=r(20),z="done",G=Object(o.createContext)(),J=function(e){var t=e.children,r=e.overrideValue,n=void 0===r?{}:r,i=Object(o.useState)(n.shoppingLists||[]),s=Object(d.a)(i,2),a=s[0],c=s[1],l=Object(o.useState)({}),h=Object(d.a)(l,2),p=h[0],m=h[1],g=Object(o.useState)(!1),j=Object(d.a)(g,2),_=j[0],v=j[1],N=Object(o.useState)("loading"),k=Object(d.a)(N,2),E=k[0],I=k[1],D=Z(),P=D.token,R=D.logOutAndRedirect,q=D.displayFlash,A=Object(o.useRef)(!1);n.shoppingLists&&(delete n.shoppingLists,A.current=!0);var M=Object(o.useRef)(!0),W=function(e,t){var r=e.list_items.find((function(e){return e.description.toLowerCase()===t.description.toLowerCase()})),o=Object(K.a)(e.list_items);if(r){var n=e.list_items.indexOf(r);o.splice(n,1,t)}else o.unshift(t);return e.list_items=o,Object(u.a)({},e)},V=function(e){return a.find((function(t){return!!t.list_items.find((function(t){return t.id===e}))}))},H=function(e,t){var r=Object(u.a)({},e),o=Object(K.a)(e.list_items),n=e.list_items.find((function(e){return e.id===t})),i=e.list_items.indexOf(n);return o.splice(i,1),r.list_items=o,r},U=Object(o.useCallback)((function(){P&&!A.current?function(e){var t="".concat(f,"/shopping_lists");return fetch(t,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(P).then((function(e){return e.json()})).then((function(e){if(!e||e.errors){var t=e&&e.errors?"Internal ServerError: "+e.errors[0]:"No shopping list data returned from the SIM API";throw new Error(t)}c(e),void 0===n.shoppingListLoadingState&&I(z)})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):(!n.shoppingListLoadingState&&I("error"),q("error","There was an error loading your lists. It may have been on our end. We're sorry!"))})):void 0===n.shoppingListLoadingState&&I(z)}),[P,n.shoppingListLoadingState,q,R]),B=Object(u.a)({shoppingLists:a,shoppingListLoadingState:E,performShoppingListUpdate:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(P,e,{title:t}).then((function(e){switch(e.status){case 200:case 422:case 500:return e.json();default:throw Error("Something unexpected went wrong while updating your list.")}})).then((function(t){if(t&&!t.errors){var i=a.map((function(r){return r.id===e?t:r}));c(i),void 0===n.shoppingListLoadingState&&I(z),r&&r()}else if(t&&t.errors){if(t.errors.filter((function(e){return e.match(/^Title/)})).length!==t.errors.length)throw new Error("Internal Server Error: "+t.errors[0]);q("error",t.errors,"".concat(t.errors.length," error(s) prevented your changes from being saved:")),void 0===n.shoppingListLoadingState&&I(z),o&&o()}else q("error","We couldn't update your list and we're not sure what went wrong. We're sorry! Please refresh the page and try again."),void 0===n.setShoppingListLoadingState&&I(z),o&&o()})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):404===e.code?(q("error","Oops! We couldn't find the shopping list you wanted to update. Try refreshing the page to fix this problem."),void 0===n.shoppingListLoadingState&&I(z),o&&o()):(q("error","Something unexpected happened while trying to update your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"),void 0===n.shoppingListLoadingState&&I(z),o&&o())}))},performShoppingListCreate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;x(P,{title:e}).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e)&&2===e.length)c(e),q("success","Success! Your list was created, along with your new aggregate shopping list."),t&&t();else if(e&&"object"===typeof e&&!e.errors){var r=a;r.splice(1,0,e),c(r),q("success","Success! Your list was created."),t&&t()}else{if(!e||"object"!==typeof e||!e.errors)throw new Error("There was an unexpected error creating your new list. Unfortunately, we don't know more than that yet. We're sorry!");if(e.errors.filter((function(e){return e.match(/^Title/)})).length!==e.errors.length)throw new Error("Internal Server Error: "+e.errors[0]);q("error",e.errors,"".concat(e.errors.length," error(s) prevented your shopping list from being created:")),t&&t()}})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):(q("error","Something unexpected happened while trying to create your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"),r&&r())}))},performShoppingListDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;L(P,e).then((function(e){return 204===e.status?null:e.json()})).then((function(r){if(r){if(r&&r.errors)throw new Error("Internal Server Error: "+r.errors[0]);var o=a.map((function(e){return!0===e.aggregate?r:e})).filter((function(t){return t&&t.id!==e}));c(o),q("success","Your shopping list has been deleted."),t&&t()}else c([]),q("success","Since it was your last list, your aggregate list has been deleted as well","Your shopping list has been deleted"),t&&t()})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):404===e.code?q("error","Oops! We couldn't find the shopping list you wanted to delete. Sorry! Try refreshing the page to solve this problem."):q("error","Something unexpected happened while trying to delete your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"),r&&r()}))},performShoppingListItemCreate:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=["Description","Quantity","Notes"];C(P,e,t).then((function(e){return e.json()})).then((function(t){if(Array.isArray(t)){var i=Object(d.a)(t,2),s=i[0],l=i[1],u=Object(K.a)(a),h=a[0],f=a.find((function(t){return t.id===e})),p=a.indexOf(f),b=W(h,s),m=W(f,l);u[0]=b,u[p]=m,c(u),r&&r()}else if(t&&"object"===typeof t&&t.errors){if(t.errors.filter((function(e){return-1!==n.indexOf(e.split(" ")[0])})).length!==t.errors.length)throw new Error("Internal Server Error: "+t.errors[0]);q("error",t.errors,"".concat(t.errors.length," error(s) prevented your shopping list item from being created:")),o&&o()}})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):404===e.code?q("error","Oops! We couldn't find the shopping list you wanted to add an item to. Sorry! Try refreshing the page to solve this problem."):q("error","Something unexpected happened while trying to create your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"),o&&o()}))},performShoppingListItemUpdate:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=["Quantity","Notes"];w(P,e,t).then((function(e){return e.json()})).then((function(t){if(Array.isArray(t)){var s=Object(d.a)(t,2),l=s[0],u=s[1],h=Object(K.a)(a),f=a.find((function(e){return e.id===u.list_id})),p=a.indexOf(f),b=W(a[0],l),m=W(f,u);h[0]=b,h[p]=m,c(h),v(!1),r&&q("success","Success! Your shopping list item was updated."),o&&o()}else{if(!t||"object"!==typeof t||!t.errors)throw new Error("Something unexpected went wrong: could not update shopping list item id=".concat(e));if(t.errors.filter((function(e){return-1!==i.indexOf(e.split(" ")[0])})).length!==t.errors.length)throw v(!1),new Error("Internal Server Error: "+t.errors[0]);v(!1),q("error",t.errors,"".concat(t.errors.length," error(s) prevented your shopping list item from being updated:")),n&&n()}})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):404===e.code?q("error","Oops! We couldn't find the shopping list item you wanted to update. Sorry! Try refreshing the page to solve this problem."):405===e.code?q("error","Cannot manually edit item on an aggregate list"):q("error","Something unexpected happened while trying to update your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"),n&&n()}))},performShoppingListItemDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;S(P,e).then((function(e){return 204===e.status?null:e.json()})).then((function(r){var o,n=V(e),i=a.indexOf(n),s=Object(K.a)(a);if(r&&"object"===typeof r&&!r.errors)o=W(a[0],r);else{if(r&&"object"===typeof r&&r.errors)throw new Error("Internal Server Error: "+r.errors[0]);var l=n.list_items.find((function(t){return t.id===e})),u=a[0].list_items.find((function(e){return e.description.toLowerCase()===l.description.toLowerCase()}));o=H(a[0],u.id)}var d=H(n,e);s[0]=o,s.splice(i,1,d),c(s),t&&t()})).catch((function(e){401===e.code?R(T.login,(function(){return M.current=!1})):404===e.code?q("error","Oops! We couldn't find the shopping list item you wanted to delete. Sorry! Try refreshing the page to solve this problem."):405===e.code?q("error","Cannot manually remove an item from an aggregate list"):q("error","Something unexpected happened while trying to delete your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"),r&&r()}))},listItemEditFormVisible:_,setListItemEditFormVisible:v,listItemEditFormProps:p,setListItemEditFormProps:m},n);return Object(o.useEffect)((function(){return U(),function(){return M.current=!1}}),[U]),Object(F.jsx)(G.Provider,{value:B,children:t})},Q=function(e,t){var r=Object(o.useContext)(e);if(!r)throw new Error(t);return r},X=function(){return Q(B,"useColorScheme must be used within a ColorProvider")},Z=function(){return Q(R,"useAppContext must be used within a AppProvider")},$=function(){return Q(G,"useShoppingListContext must be used within a ShoppingListProvider")},ee=r.p+"static/media/googleIcon.9432a66b.svg",te=r(38),re=r.n(te),oe=function(e){var t=e.className,r=e.logOutFunction,n=Object(o.useRef)(!0);return Object(o.useEffect)((function(){return function(){return n.current=!1}})),Object(F.jsx)("div",{className:t,children:Object(F.jsx)("button",{className:re.a.button,onClick:function(e){e.preventDefault(),r((function(){n.current=!1}))},children:Object(F.jsx)("div",{className:re.a.body,children:Object(F.jsxs)("div",{className:re.a.googleLogout,children:[Object(F.jsx)("img",{src:ee,alt:"Google logo"}),"Log Out With Google"]})})})})},ne=r.p+"static/media/anonymousAvatar.36d1acc1.jpg",ie=r(9),se=r.n(ie),ae=function(){var e=Z(),t=e.profileData,r=e.logOutAndRedirect,n=Object(o.useState)(!1),i=Object(d.a)(n,2),s=i[0],c=i[1],l=Object(o.useRef)(!0),u=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!1),r(T.home,(function(){e&&e(),l.current=!1}))}),[r]);return Object(o.useEffect)((function(){return function(){return l.current=!1}}),[]),Object(F.jsx)("div",{className:se.a.root,children:Object(F.jsxs)("div",{className:se.a.bar,children:[Object(F.jsx)("span",{className:se.a.headerContainer,children:Object(F.jsxs)("h1",{className:se.a.header,children:[Object(F.jsxs)(a.b,{className:se.a.headerLinkLarge,to:T.dashboard.main,children:["Skyrim Inventory",Object(F.jsx)("br",{className:se.a.bp})," Management"]}),Object(F.jsx)(a.b,{className:se.a.headerLinkSmall,to:T.dashboard.main,children:"S. I. M."})]})}),t?Object(F.jsxs)("button",{className:se.a.profile,onClick:function(){return c(!s)},children:[Object(F.jsxs)("div",{className:se.a.profileText,children:[Object(F.jsx)("p",{className:se.a.textTop,children:t.name}),Object(F.jsx)("p",{className:se.a.textBottom,children:t.email})]}),Object(F.jsx)("img",{className:se.a.avatar,src:t.image_url||ne,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(F.jsx)(oe,{className:s?se.a.logoutDropdown:se.a.hidden,logOutFunction:u})]})})},ce=r(27),le=r.n(ce),ue=function(e){var t=e.title,r=e.children;return Object(F.jsxs)("div",{className:le.a.root,children:[Object(F.jsxs)("div",{className:le.a.container,children:[t?Object(F.jsxs)("div",{className:le.a.titleContainer,children:[Object(F.jsx)("h2",{className:le.a.title,children:t}),Object(F.jsx)("hr",{className:le.a.hr})]}):null,r]}),Object(F.jsx)(ae,{})]})},de=r(53),he=r.n(de),fe=function(e){var t=e.className,r=e.type,o=void 0===r?"bubbles":r,n=e.color,i=e.height,s=e.width;return Object(F.jsx)(he.a,{className:t,type:o,color:n,height:i,width:s})},pe=r(54),be=r.n(pe),me=function(e){var t=e.href,r=e.children,o=X(),n={"--background-color":o.schemeColorDarkest,"--hover-color":o.hoverColorDark,"--text-color":o.textColorPrimary};return Object(F.jsx)(a.b,{className:be.a.root,to:t,style:n,children:r})},ge=r(45),je=r.n(ge),_e=function(e){var t=e.cardArray;return Object(F.jsx)("div",{className:je.a.root,children:t.map((function(e){var t=e.colorScheme,r=e.href,o=e.children,n=e.key;return Object(F.jsx)("div",{className:je.a.card,children:Object(F.jsx)(Y,{colorScheme:t,children:Object(F.jsx)(me,{href:r,children:o})})},n)}))})},Oe=r(46),ve=r.n(Oe),xe=[{colorScheme:A,href:"#",children:"Your Games",key:"your-games"},{colorScheme:M,href:T.dashboard.shoppingLists,children:"Your Shopping Lists",key:"your-shopping-lists"},{colorScheme:W,href:"#",children:"Nav Link 3",key:"nav-link-3"},{colorScheme:V,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:H,href:"#",children:"Nav Link 5",key:"nav-link-5"}],ye=function(){var e=Z(),t=e.token,r=e.profileLoadState,n=e.setShouldRedirectTo,i=Object(o.useRef)(!0);return Object(o.useEffect)((function(){return t||I||(n(T.login),i.current=!1),function(){return i.current=!1}}),[t,n]),Object(F.jsx)(ue,{children:"done"===r?Object(F.jsx)("div",{className:ve.a.root,children:Object(F.jsx)(_e,{cardArray:xe})}):Object(F.jsx)(fe,{className:ve.a.loading,type:"bubbles",color:A.schemeColorDarkest,height:"15%",width:"15%"})})},Le=r(15),Ce=r(31),we=r.n(Ce),Se="info",Ne=(j={},Object(Le.a)(j,"success",{body:"#e5f2e5",border:"#b2d8b2",text:"#329932"}),Object(Le.a)(j,Se,{body:"#cce5ff",border:"#b3d8ff",text:"#4e6d8e"}),Object(Le.a)(j,"error",{body:"#ffcccc",border:"#ff9999",text:"#cc0000"}),Object(Le.a)(j,"warning",{body:"#fefde4",border:"#fdf797",text:"#b0a723"}),j),ke=function(e){var t=e.type,r=void 0===t?Se:t,o=e.header,n=e.message,i={"--body-color":Ne[r].body,"--border-color":Ne[r].border,"--text-color":Ne[r].text};return Object(F.jsxs)("div",{className:we.a.root,style:i,children:[o&&Object(F.jsx)("p",{className:we.a.header,children:o}),"string"===typeof n?n:Object(F.jsx)("ul",{className:we.a.messageList,children:n.map((function(e,t){return Object(F.jsx)("li",{className:we.a.msg,children:e},"message-".concat(t))}))})]})},Ee=r(21),Ie=r.n(Ee),De=r(19),Te=r.n(De),Fe=function(e){var t=e.disabled,r=Z().hideFlash,n=$().performShoppingListCreate,i=Object(o.useState)(""),s=Object(d.a)(i,2),a=s[0],c=s[1],l={"--button-color":W.schemeColorDark,"--button-text-color":W.textColorPrimary,"--button-border-color":W.borderColor,"--button-hover-color":W.hoverColorLight};return Object(F.jsx)("div",{className:Ie.a.root,style:l,children:Object(F.jsx)("form",{className:Ie.a.form,onSubmit:function(e){e.preventDefault(),r();var t=e.target.elements.title.value;n(t,(function(){return c("")}))},children:Object(F.jsxs)("fieldset",{className:Te()(Ie.a.fieldset,Object(Le.a)({},Ie.a.fieldsetDisabled,t)),disabled:t,children:[Object(F.jsx)("input",{className:Ie.a.input,type:"text",name:"title",placeholder:"Title",value:a,onChange:function(e){var t=e.currentTarget.value;c(t)}}),Object(F.jsx)("button",{className:Te()(Ie.a.button,Object(Le.a)({},Ie.a.buttonDisabled,t)),type:"submit",children:"Create"})]})})})},Pe=r(18),Re=r(24),qe=r(26),Ae=r(23),Me=function(){var e=Object(o.useState)(!1),t=Object(d.a)(e,2),r=t[0],n=t[1],i=Object(o.useRef)(null),s=Object(o.useRef)(null),a=function(e){return s.current&&s.current.contains(e)},c=function(e){"Escape"===e.key&&n(!1)},l=function(e){var t;t=e.target,i.current&&i.current.contains(t)||a(e.target)?a(e.target)&&n(!r):n(!1)};return Object(o.useEffect)((function(){return document.addEventListener("keydown",c,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",c,!0),document.removeEventListener("click",l,!0)}})),{componentRef:i,triggerRef:s,isComponentVisible:r,setIsComponentVisible:n}},We=r(58),Ve=function(e){var t=Object(o.useState)(),r=Object(d.a)(t,2),n=r[0],i=r[1];return Object(o.useLayoutEffect)((function(){i(e.current.getBoundingClientRect())}),[e]),Object(We.a)(e,(function(e){return i(e.contentRect)})),n},He=r(33),Ue=r.n(He),Be=function(e){var t=e.formRef,r=e.maxTotalWidth,n=e.className,i=e.title,s=e.onSubmit,a=function(e){var t=document.createElement("canvas").getContext("2d");t.font="21px Quattrocento Sans";var o=b||r,n=1.1*t.measureText(e).width;return Math.min(n,o)},c=Object(o.useState)(i),l=Object(d.a)(c,2),u=l[0],h=l[1],f=Object(o.useState)(null),p=Object(d.a)(f,2),b=p[0],m=p[1],g=Object(o.useState)("".concat(a(i),"px")),j=Object(d.a)(g,2),_=j[0],O=j[1],v=Object(o.useRef)(null),x=Object(o.useRef)(null),y=X(),L={"--scheme-color":y.schemeColorDarkest,"--text-color":y.textColorPrimary,"--border-color":y.borderColor,"--icon-hover-color":y.schemeColorLightest};return Object(o.useEffect)((function(){v.current.focus()})),Object(o.useEffect)((function(){if(!x.current)return m(r);m(r-x.current.offsetWidth)}),[r]),Object(F.jsxs)("form",{className:Te()(n,Ue.a.root),style:L,ref:t,onSubmit:s,children:[Object(F.jsx)("input",{className:Ue.a.input,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;h(t),O("".concat(a(t),"px"))},type:"text",name:"title",ref:v,style:{width:_},value:u}),Object(F.jsx)("button",{className:Ue.a.submit,ref:x,name:"submit",type:"submit",children:Object(F.jsx)(Pe.a,{className:Ue.a.fa,icon:Re.a})})]})},Ye=r(5),Ke=r.n(Ye),ze=function(e){var t=e.itemId,r=e.listTitle,n=e.canEdit,i=e.description,s=e.quantity,a=e.notes,c=Object(o.useState)(0),l=Object(d.a)(c,2),u=l[0],h=l[1],f=Object(o.useState)(s),p=Object(d.a)(f,2),b=p[0],m=p[1],g=Z(),j=g.displayFlash,_=g.hideFlash,O=X(),v=O.schemeColorDarkest,x=O.textColorPrimary,y=O.hoverColorDark,L=O.schemeColorDark,C=O.hoverColorLight,w=O.textColorSecondary,S=O.borderColor,N=O.schemeColorLightest,k=O.textColorTertiary,E=$(),I=E.performShoppingListItemUpdate,D=E.performShoppingListItemDestroy,T=E.setListItemEditFormProps,P=E.setListItemEditFormVisible,R=Object(o.useRef)(!0),q=Object(o.useRef)(null),A=Object(o.useRef)(null),M=Object(o.useRef)(null),W=Object(o.useRef)(null),V=Object(o.useRef)(null),H=Object(o.useRef)(null),U=function(e,t){return e.current&&(e.current===t||e.current.contains(t))},B=function(e){return function(e){return U(M,e)}(e)||function(e){return U(W,e)}(e)||function(e){return U(V,e)}(e)||function(e){return U(H,e)}(e)},Y={"--main-color":L,"--title-text-color":w,"--border-color":S,"--body-background-color":N,"--body-text-color":k,"--hover-color":C};return Object(o.useEffect)((function(){m(s)}),[s]),Object(o.useEffect)((function(){return function(){return R.current=!1}})),Object(F.jsxs)("div",{className:Ke.a.root,style:Y,children:[Object(F.jsxs)("div",{className:Ke.a.toggle,onClick:function(e){e&&B(e.target)||h(Date.now)},children:[Object(F.jsxs)("span",{ref:q,className:Te()(Ke.a.header,Object(Le.a)({},Ke.a.headerEditable,n)),children:[n&&Object(F.jsxs)("span",{className:Ke.a.editIcons,ref:A,children:[Object(F.jsx)("button",{className:Ke.a.icon,ref:W,onClick:function(){window.confirm("Destroy shopping list item? Your aggregate list will be updated to reflect the change. This action cannot be undone.")?D(t,(function(){R.current=!1})):j("info","Your item was not deleted.")},children:Object(F.jsx)(Pe.a,{className:Te()(Ke.a.fa,Ke.a.destroyIcon),icon:qe.c})}),Object(F.jsx)("button",{className:Ke.a.icon,ref:M,onClick:function(){_(),T({listTitle:r,buttonColor:{schemeColorDarkest:v,hoverColorDark:y,borderColor:S,textColorPrimary:x},currentAttributes:{id:t,quantity:s,description:i,notes:a}}),P(!0)},children:Object(F.jsx)(Pe.a,{className:Ke.a.fa,icon:Re.b})})]}),Object(F.jsx)("h4",{className:Ke.a.description,children:i})]}),Object(F.jsxs)("span",{className:Ke.a.quantity,children:[n&&Object(F.jsx)("button",{className:Ke.a.icon,ref:V,onClick:function(){var e=b,r=b+1;m(r),I(t,{quantity:r},!1,null,(function(){m(e)}))},children:Object(F.jsx)(Pe.a,{className:Ke.a.fa,icon:qe.b})}),Object(F.jsx)("div",{className:Ke.a.quantityContent,children:b}),n&&Object(F.jsx)("button",{className:Ke.a.icon,ref:H,onClick:function(){var e=b,r=b-1;if(r>0)m(r),I(t,{quantity:r},!1,null,(function(){m(e)}));else if(0===r){window.confirm("Item quantity must be greater than zero. Delete the item instead?")?D(t,(function(){R.current=!1})):j("info","Your item was not deleted.")}},children:Object(F.jsx)(Pe.a,{className:Ke.a.fa,icon:qe.a})})]})]}),Object(F.jsx)(Ae.a,{toggleEvent:u,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:Ke.a.collapsible,ref:t,children:Object(F.jsx)("p",{className:Ke.a.notes,children:a||"No details available"})})}})]})},Ge=r(13),Je=r.n(Ge),Qe=r(7),Xe=r.n(Qe),Ze=function(e){var t=e.listId,r=Object(o.useState)(0),n=Object(d.a)(r,2),i=n[0],s=n[1],a=Z().hideFlash,c=$().performShoppingListItemCreate,l=X(),u=l.schemeColorDark,h=l.hoverColorLight,f=l.schemeColorLightest,p=l.borderColor,b=l.textColorSecondary,m=l.textColorTertiary,g=Object(o.useRef)(null),j={"--base-color":u,"--hover-color":h,"--body-color":f,"--border-color":p,"--text-color-main":b,"--text-color-secondary":m},_=function(){s(Date.now)},O=function(e){e.preventDefault(),a();var r=e.target.elements.description.value,o=Number(e.target.elements.quantity.value),n=e.target.elements.notes.value;c(t,{description:r,quantity:o,notes:n},(function(){g.current.reset(),_()}))};return Object(F.jsxs)("div",{className:Xe.a.root,style:j,children:[Object(F.jsx)("div",{className:Xe.a.triggerContainer,children:Object(F.jsx)("button",{className:Xe.a.triggerButton,onClick:_,children:"Add item to list..."})}),Object(F.jsx)(Ae.a,{toggleEvent:i,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:Xe.a.collapsible,ref:t,children:Object(F.jsxs)("form",{className:Xe.a.form,ref:g,onSubmit:O,children:[Object(F.jsxs)("fieldset",{className:Xe.a.fieldset,children:[Object(F.jsx)("label",{className:Xe.a.label,htmlFor:"description",children:"Description"}),Object(F.jsx)("input",{className:Xe.a.input,type:"text",name:"description",placeholder:"Description"})]}),Object(F.jsxs)("fieldset",{className:Xe.a.fieldset,children:[Object(F.jsx)("label",{className:Xe.a.label,htmlFor:"quantity",children:"Quantity"}),Object(F.jsx)("input",{className:Xe.a.input,type:"number",inputMode:"numeric",name:"quantity",defaultValue:1})]}),Object(F.jsxs)("fieldset",{className:Xe.a.fieldset,children:[Object(F.jsx)("label",{className:Xe.a.label,htmlFor:"notes",children:"Notes"}),Object(F.jsx)("input",{className:Xe.a.input,type:"text",name:"notes",placeholder:"Notes"})]}),Object(F.jsx)("button",{className:Xe.a.submit,type:"submit",children:"Add to List"})]})})}})]})},$e=function(e){var t=e.canEdit,r=void 0===t||t,n=e.listId,i=e.title,s=Object(o.useState)(0),a=Object(d.a)(s,2),c=a[0],l=a[1],u=Object(o.useState)(i),h=Object(d.a)(u,2),f=h[0],p=h[1],b=Object(o.useState)(null),m=Object(d.a)(b,2),g=m[0],j=m[1],_=Object(o.useState)([]),O=Object(d.a)(_,2),v=O[0],x=O[1],y=Object(o.useRef)(null),L=Object(o.useRef)(null),C=Object(o.useRef)(null),w=Ve(y),S=Me(),N=S.componentRef,k=S.triggerRef,E=S.isComponentVisible,I=S.setIsComponentVisible,D=Z(),T=D.displayFlash,P=D.hideFlash,R=$(),q=R.shoppingLists,A=R.performShoppingListUpdate,M=R.performShoppingListDestroy,W=i,V=function(e){return function(e){return y.current&&(y.current===e||y.current.contains(e))}(e)&&!function(e){return k.current&&(k.current===e||k.current.contains(e))}(e)&&!function(e){return N.current&&(N.current===e||N.current.contains(e))}(e)&&!function(e){return L.current&&(L.current===e||L.current.contains(e))}(e)},H=X(),U={"--scheme-color":H.schemeColorDarkest,"--border-color":H.borderColor,"--text-color-primary":H.textColorPrimary,"--text-color-secondary":H.textColorSecondary,"--hover-color":H.hoverColorDark,"--scheme-color-lighter":H.schemeColorDark,"--scheme-color-lightest":H.schemeColorLightest,"--max-title-width":"".concat(g-32,"px")};return Object(o.useEffect)((function(){if(q){var e=q.find((function(e){return e.id===n})).list_items;x(Object(K.a)(e))}}),[q,n]),Object(o.useEffect)((function(){w&&C.current&&j(w.width-C.current.offsetWidth-16)}),[w]),Object(F.jsxs)("div",{className:Je.a.root,style:U,children:[Object(F.jsx)("div",{className:Je.a.titleContainer,children:Object(F.jsxs)("div",{className:Je.a.trigger,ref:y,onClick:function(e){V(e.target)&&l(Date.now)},children:[r&&Object(F.jsxs)("span",{className:Je.a.editIcons,ref:C,children:[Object(F.jsx)("div",{className:Je.a.icon,ref:L,onClick:function(e){e.preventDefault();var t=window.confirm('Are you sure you want to delete the list "'.concat(i,'"? You will also lose any list items on the list. This action cannot be undone.'));P(),t?M(n):T("info","Your list was not deleted.")},children:Object(F.jsx)(Pe.a,{className:Je.a.fa,icon:qe.c})}),Object(F.jsx)("div",{className:Je.a.icon,ref:k,children:Object(F.jsx)(Pe.a,{className:Je.a.fa,icon:Re.b})})]}),r&&E?Object(F.jsx)(Be,{formRef:N,maxTotalWidth:g,className:Je.a.form,title:i,onSubmit:function(e){e.preventDefault(),P();var t,r=e.nativeEvent.target.children[0].defaultValue;(!r||(t=r)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]===t&&"all items"!==t.toLowerCase())&&p(r),A(n,r,null,(function(){p(W)})),I(!1)}}):Object(F.jsx)("h3",{className:Je.a.title,children:f})]})}),Object(F.jsx)(Ae.a,{toggleEvent:c,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsxs)("div",{className:Je.a.collapsible,ref:t,children:[!r&&0===v.length&&Object(F.jsx)("div",{className:Je.a.emptyList,children:"You have no shopping list items."}),r&&Object(F.jsx)(Ze,{listId:n}),v&&v.length>0&&v.map((function(e){var t=e.id,o=e.description,n=e.quantity,s=e.notes,a="".concat(i.toLowerCase().replace(" ","-"),"-").concat(t);return Object(F.jsx)(ze,{itemId:t,listTitle:i,canEdit:r,description:o,quantity:n,notes:s},a)}))]})}})]})},et=r(47),tt=r.n(et),rt=function(){var e=$(),t=e.shoppingLists,r=e.shoppingListLoadingState;return t&&"done"===r&&t.length>0?Object(F.jsx)(F.Fragment,{children:t.map((function(e,t){var r=e.id,o=e.title,n=e.aggregate,i=U[t<U.length?t:t%U.length],s=o.toLowerCase().replace(" ","-");return Object(F.jsx)(Y,{colorScheme:i,children:Object(F.jsx)("div",{className:tt.a.shoppingList,children:Object(F.jsx)($e,{canEdit:!n,listId:r,title:o})})},s)}))}):"loading"===r?Object(F.jsx)(fe,{className:tt.a.loading,color:A.schemeColorDarkest,height:"15%",width:"15%"}):null},ot=r(39),nt=r.n(ot),it=r(17),st=r.n(it),at=function(e){var t=e.listTitle,r=e.elementRef,n=e.buttonColor,i=e.currentAttributes,s=$().performShoppingListItemUpdate,a=Object(o.useRef)(!0),c=Object(o.useRef)(null),l=Object(o.useRef)(null),u={"--button-background-color":n.schemeColorDarkest,"--button-text-color":n.textColorPrimary,"--button-hover-color":n.hoverColorDark,"--button-border-color":n.borderColor};return Object(o.useEffect)((function(){return document.getElementsByTagName("body")[0].classList.add("modal-open"),l&&l.current.focus(),function(){document.getElementsByTagName("body")[0].classList.remove("modal-open")}}),[]),Object(F.jsxs)("div",{ref:r,className:st.a.root,style:u,children:[Object(F.jsx)("h4",{className:st.a.header,children:i.description}),Object(F.jsx)("p",{className:st.a.subheader,children:'On list "'.concat(t,'"')}),Object(F.jsxs)("form",{className:st.a.form,ref:c,onSubmit:function(e){e.preventDefault();var t=e.target.elements.quantity.value,r=e.target.elements.notes.value;s(i.id,{quantity:t,notes:r},!0,(function(){a.current=!1,c.current&&c.current.reset()}))},children:[Object(F.jsxs)("fieldset",{className:st.a.fieldset,children:[Object(F.jsx)("label",{className:st.a.quantityLabel,htmlFor:"quantity",children:"Quantity"}),Object(F.jsx)("input",{className:st.a.input,ref:l,type:"number",inputMode:"numeric",name:"quantity",defaultValue:i.quantity})]}),Object(F.jsxs)("fieldset",{className:st.a.fieldset,children:[Object(F.jsx)("label",{className:st.a.notesLabel,htmlFor:"notes",children:"Notes"}),Object(F.jsx)("textarea",{className:st.a.input,type:"text",name:"notes",defaultValue:i.notes})]}),Object(F.jsx)("button",{className:st.a.submit,children:"Update Item"})]})]})},ct=function(){var e=Z(),t=e.flashProps,r=e.flashVisible,n=$(),i=n.listItemEditFormVisible,s=n.setListItemEditFormVisible,a=n.listItemEditFormProps,c=n.shoppingListLoadingState,l="loading"===c||"error"===c,d=Object(o.useRef)(null),h=Object(o.useCallback)((function(e){var t;"Escape"!==e.key&&(t=e.target,d.current&&(d.current===t||d.current.contains(t)))||s(!1)}),[s]);return Object(o.useEffect)((function(){return window.addEventListener("keyup",h),function(){return window.removeEventListener("keyup",h)}}),[h]),Object(F.jsxs)(ue,{title:"Your Shopping Lists",children:[i&&Object(F.jsx)("div",{className:nt.a.overlay,onClick:h,children:Object(F.jsx)(at,Object(u.a)({elementRef:d},a))}),r&&Object(F.jsx)("div",{className:nt.a.flash,children:Object(F.jsx)(ke,Object(u.a)({},t))}),Object(F.jsx)("div",{className:nt.a.createForm,children:Object(F.jsx)(Fe,{disabled:l})}),Object(F.jsx)(rt,{})," "]})},lt=r(34),ut=r.n(lt),dt=function(){var e=Z(),t=e.token,r=e.setShouldRedirectTo,n=e.removeSessionCookie,i=Object(o.useRef)(!0),s=Object(o.useCallback)((function(){t&&!I&&function(e){var t="".concat(f,"/auth/verify_token");return fetch(t,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(t).then((function(e){return 500===e.status?e.json():null})).then((function(e){if(e)throw new Error("Internal Server Error: ",e.errors[0]);r(T.dashboard.main),i.current=!1})).catch((function(e){k((function(){return n()}))}))}),[t,n,r]);return Object(o.useEffect)((function(){return s(),function(){return i.current=!1}}),[t,s]),Object(F.jsx)("div",{className:ut.a.root,children:Object(F.jsxs)("div",{className:ut.a.container,children:[Object(F.jsx)("h1",{className:ut.a.header,children:"Skyrim Inventory Management"}),Object(F.jsx)(a.b,{className:ut.a.login,to:T.login,children:"Log in with Google"})]})})},ht=r(57),ft=r.n(ht),pt=r(35),bt=r.n(pt),mt=function(){var e=Z(),t=e.token,r=e.setSessionCookie,n=e.removeSessionCookie,i=e.setShouldRedirectTo,s=Object(o.useState)(null),a=Object(d.a)(s,2),c=a[0],l=a[1],u=Object(o.useRef)(!0);return Object(o.useEffect)((function(){return function(){return u.current=!1}})),Object(F.jsxs)("div",{className:bt.a.root,children:[c?Object(F.jsx)("p",{className:bt.a.errorMessage,children:c}):null,Object(F.jsx)("div",{className:bt.a.container,children:Object(F.jsx)(ft.a,{className:bt.a.button,clientId:"891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",buttonText:"Log In With Google",onSuccess:function(e){var t=e.tokenId;t&&(r(t),i(T.dashboard.main),u.current=!1)},onFailure:function(e){t&&n(),l("Something went wrong! Please try logging in again.")},redirectUri:"".concat("https://sim.danascheider.com").concat(T.dashboard.main)})})]})},gt=r(36),jt=r.n(gt),_t=function(){var e=Z().token;return Object(F.jsx)("div",{className:jt.a.root,children:Object(F.jsxs)("div",{className:jt.a.container,children:[Object(F.jsx)("h1",{className:jt.a.header,children:"SIM: Page Not Found"}),Object(F.jsx)(a.b,{className:jt.a.link,to:e?T.dashboard.main:T.home,children:"Go Back"})]})})},Ot="Skyrim Inventory Management |",vt=[{pageId:"home",title:"".concat(Ot," Home"),description:"Manage your inventory across multiple properties in Skyrim",jsx:Object(F.jsx)(dt,{}),path:T.home},{pageId:"login",title:"".concat(Ot," Login"),description:"Log into Skyrim Inventory Management using your Google account",jsx:Object(F.jsx)(mt,{}),path:T.login},{pageId:"dashboard",title:"".concat(Ot," Dashboard"),description:"Skyrim Inventory Management User Dashboard",jsx:Object(F.jsx)(ye,{}),path:T.dashboard.main},{pageId:"shoppingLists",title:"".concat(Ot," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",jsx:Object(F.jsx)(J,{children:Object(F.jsx)(ct,{})}),path:T.dashboard.shoppingLists}],xt=function(){return Object(F.jsxs)(l.d,{children:[vt.map((function(e){var t=e.pageId,r=e.title,o=e.description,n=e.jsx,i=e.path;return Object(F.jsxs)(l.b,{exact:!0,path:i,children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:r}),Object(F.jsx)("meta",{name:"description",content:o})]}),Object(F.jsx)(q,{children:n})]},t)})),Object(F.jsxs)(l.b,{children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:"Skyrim Inventory Management | Page Not Found"}),Object(F.jsx)("meta",{name:"description",content:"Skyrim Inventory Management could not find the page you were looking for"})]}),Object(F.jsx)(q,{children:Object(F.jsx)(_t,{})})]},"notFound")]})},yt=function(){return Object(F.jsx)(a.a,{basename:"",children:Object(F.jsx)(c.b,{children:Object(F.jsx)(xt,{})})})};s.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(yt,{})}),document.getElementById("root"))}],[[74,1,2]]]);
//# sourceMappingURL=main.9281d787.chunk.js.map