(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={root:"shoppingListItem_root__3NPoi",collapsed:"shoppingListItem_collapsed__3iHS2",toggle:"shoppingListItem_toggle__26aMd",fa:"shoppingListItem_fa__2P4jA",destroyIcon:"shoppingListItem_destroyIcon__2IBmH",header:"shoppingListItem_header__1qqqT",headerEditable:"shoppingListItem_headerEditable__2K0Ir",description:"shoppingListItem_description__mnU6z",editIcons:"shoppingListItem_editIcons__2RoL7",quantity:"shoppingListItem_quantity__1ebyP",quantityContent:"shoppingListItem_quantityContent__24Ts-",icon:"shoppingListItem_icon__1pEqd",collapsible:"shoppingListItem_collapsible__xa2wr",notes:"shoppingListItem_notes__8g2fK",button:"shoppingListItem_button__2k4QA"}},,function(e,t,n){e.exports={root:"shoppingListItemCreateForm_root__3B7YP",collapsed:"shoppingListItemCreateForm_collapsed__3j8GF",triggerContainer:"shoppingListItemCreateForm_triggerContainer__3IkQf",triggerButton:"shoppingListItemCreateForm_triggerButton__2HK_d",form:"shoppingListItemCreateForm_form__OXRXv",fieldset:"shoppingListItemCreateForm_fieldset__1ovw9",input:"shoppingListItemCreateForm_input__2Jire",label:"shoppingListItemCreateForm_label__qlamy",submit:"shoppingListItemCreateForm_submit__22fVU"}},,,,,function(e,t,n){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLinkLarge:"dashboardHeader_headerLinkLarge__ED8Xx",headerLinkSmall:"dashboardHeader_headerLinkSmall__3TlC1",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}},,,function(e,t,n){e.exports={root:"shoppingList_root__2O9FT",trigger:"shoppingList_trigger__WV4fR",form:"shoppingList_form__1GdfA",icon:"shoppingList_icon__3FP5H",editIcons:"shoppingList_editIcons__gL8DA",title:"shoppingList_title__3Gulc",fa:"shoppingList_fa__hRtKq",collapsible:"shoppingList_collapsible__2Zuq5",emptyList:"shoppingList_emptyList__289Te"}},,function(e,t,n){e.exports={root:"gameCreateForm_root__1CiVs",slideToggleTrigger:"gameCreateForm_slideToggleTrigger__47o12",form:"gameCreateForm_form__2naYf",fieldset:"gameCreateForm_fieldset__iwI0Y",fieldsetDisabled:"gameCreateForm_fieldsetDisabled__255jN",input:"gameCreateForm_input__3HuYv",button:"gameCreateForm_button__1ePIs",buttonDisabled:"gameCreateForm_buttonDisabled__1bleU"}},function(e,t,n){e.exports={root:"game_root__Wpup7",header:"game_header__2XbBS",name:"game_name__GOPSp",editIcons:"game_editIcons__1kxuu",icon:"game_icon__WCvOa",description:"game_description__KgWbf"}},,,,function(e,t,n){e.exports={root:"gamesDropdown_root__1EUlO",header:"gamesDropdown_header__1Qiyc",input:"gamesDropdown_input__z9Zui",trigger:"gamesDropdown_trigger__3A35t",hidden:"gamesDropdown_hidden__7-IH5",dropdown:"gamesDropdown_dropdown__1kXtE"}},,function(e,t,n){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx",headerContainer:"dashboardLayout_headerContainer__15_gZ",titleContainer:"dashboardLayout_titleContainer__3J8Iz"}},function(e,t,n){e.exports={root:"shoppingListCreateForm_root__iSFdV",button:"shoppingListCreateForm_button__2so-6",fieldset:"shoppingListCreateForm_fieldset__1BLSp",fieldsetDisabled:"shoppingListCreateForm_fieldsetDisabled__2V4n7",input:"shoppingListCreateForm_input__3hAzq",buttonDisabled:"shoppingListCreateForm_buttonDisabled__1USkv"}},,function(e,t,n){e.exports={root:"flashMessage_root__2sPxp",hidden:"flashMessage_hidden__cxPrx",content:"flashMessage_content__3iY0s",header:"flashMessage_header__Vx_Jr",messageList:"flashMessage_messageList__3V9SA",msg:"flashMessage_msg__3Wquk"}},function(e,t,n){e.exports={root:"modalForm_root__1vkew",fieldset:"modalForm_fieldset__3Y2iw",input:"modalForm_input__2W8sl",submit:"modalForm_submit__2K3FT",label:"modalForm_label__1q219"}},function(e,t,n){e.exports={noLists:"shoppingListsPageContent_noLists__1yLrC",link:"shoppingListsPageContent_link__1seef",shoppingList:"shoppingListsPageContent_shoppingList__3X_TT",loading:"shoppingListsPageContent_loading__1Rj5P",error:"shoppingListsPageContent_error__3KtOr"}},,,,function(e,t,n){e.exports={root:"homePage_root__15tty",container:"homePage_container__3kQJo",header:"homePage_header__3EV45",login:"homePage_login__3ala0"}},function(e,t,n){e.exports={root:"loginPage_root__2Vf7z",errorMessage:"loginPage_errorMessage__8uTVC",container:"loginPage_container__2xdLK",button:"loginPage_button__1pDsX"}},,function(e,t,n){e.exports={root:"modal_root__QSEqe",content:"modal_content__1tQ-X",title:"modal_title__1efUU",subtitle:"modal_subtitle__4395I"}},function(e,t,n){e.exports={root:"gamesPage_root__oSBqG",noGames:"gamesPage_noGames__1CUVF",games:"gamesPage_games__2Q2dQ",loading:"gamesPage_loading__1Q0HG"}},function(e,t,n){e.exports={root:"shoppingListEditForm_root__rs5qL",input:"shoppingListEditForm_input__2FbCX",submit:"shoppingListEditForm_submit__1FqNJ",fa:"shoppingListEditForm_fa__Bb-dM"}},function(e,t,n){e.exports={root:"notFoundPage_root__131Oh",container:"notFoundPage_container__38cw2",header:"notFoundPage_header__BhS9L",link:"notFoundPage_link__2cDdM"}},,,function(e,t,n){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},,,,,,function(e,t,n){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},function(e,t,n){e.exports={root:"dashboardPage_root__oVxx1",loading:"dashboardPage_loading__2vZsl"}},function(e,t,n){e.exports={root:"loadingError_root__1A6gy",text:"loadingError_text__3auLV"}},,,,,,,function(e,t,n){e.exports={root:"gamesDropdownOption_root__1Itlx"}},,function(e,t,n){e.exports={root:"navigationCard_root__1-FD3"}},,,function(e,t,n){e.exports={overlay:"shoppingListsPage_overlay__3Mlf4",createForm:"shoppingListsPage_createForm__35weW",flash:"shoppingListsPage_flash__vlZ2Z"}},,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(55),s=n.n(a),i=(n(73),n(11)),c=n(34),l=n(7),u=n(4),d=n(3),h=n(84),f="https://sim-api.danascheider.com",m="_sim_google_session";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"401 Unauthorized";this.message=e,this.code=401,this.name="AuthorizationError",this.stack=(new Error).stack}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"404 Not Found";this.message=e,this.code=404,this.name="NotFoundError",this.stack=(new Error).stack}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"405 Method Not Allowed";this.message=e,this.code=405,this.name="MethodNotAllowedError",this.stack=(new Error).stack}b.prototype=new Error,p.prototype=new Error,g.prototype=new Error;var j,O={"Content-Type":"application/json"},_=function(e){return{Authorization:"Bearer ".concat(e)}},v=function(e){return Object(u.a)(Object(u.a)({},_(e)),O)},x=function(e,t,n){var r="".concat(f,"/games/").concat(t,"/shopping_lists"),o=JSON.stringify({shopping_list:n});return fetch(r,{method:"POST",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))},y=function(e,t,n){var r="".concat(f,"/shopping_lists/").concat(t),o=JSON.stringify({id:t,shopping_list:n});return fetch(r,{method:"PATCH",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");return e.json().then((function(t){return{status:e.status,json:t}}))}))},w=function(e,t){var n="".concat(f,"/shopping_lists/").concat(t);return fetch(n,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be deleted manually.");return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))},C=function(e,t,n){var r="".concat(f,"/shopping_lists/").concat(t,"/shopping_list_items");return fetch(r,{method:"POST",headers:v(e),body:JSON.stringify({shopping_list_item:n})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to create an item on a list that doesn't exist. Try refreshing to resolve this issue.");return e.json().then((function(t){return{status:e.status,json:t}}))}))},S=function(e){console.error("Error signing out: ",e.message)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(window.gapi&&window.gapi.auth2){var n=window.gapi.auth2.getAuthInstance();null!==n?n.then((function(){return n.disconnect()})).then(e,t):e()}e()},N=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK||!1,k=!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK,E={home:"/",login:"/login",dashboard:{main:"/dashboard",games:"/dashboard/games",shoppingLists:"/dashboard/shopping_lists"}},D=[E.home,E.login,E.dashboard.main,E.dashboard.games,E.dashboard.shoppingLists],I=[E.dashboard.shoppingLists],T=E,F=n(0),P="done",R=Object(r.createContext)(),U=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=Object(l.h)().pathname,s=Object(h.a)([m]),i=Object(d.a)(s,3),c=i[0],p=i[1],g=i[2],j=Object(r.useState)({type:"info",message:""}),O=Object(d.a)(j,2),v=O[0],x=O[1],y=Object(r.useState)(!1),w=Object(d.a)(y,2),C=w[0],S=w[1],k=Object(r.useState)({}),E=Object(d.a)(k,2),I=E[0],U=E[1],A=Object(r.useState)(!1),V=Object(d.a)(A,2),M=V[0],q=V[1],G=Object(r.useState)(o.profileData),W=Object(d.a)(G,2),Y=W[0],H=W[1],B=Object(r.useState)(o.shouldRedirectTo),z=Object(d.a)(B,2),K=z[0],J=z[1],Q=Object(r.useState)(o.profileLoadState||"loading"),Z=Object(d.a)(Q,2),X=Z[0],$=Z[1],ee=Object(r.useRef)(!0),te=Object(r.useCallback)((function(){return g(m)}),[g]),ne=Object(r.useCallback)((function(e){ee.current&&J(e),ee.current=!1}),[]),re=Object(r.useCallback)((function(){return a!==T.login&&a!==T.home&&-1!==D.indexOf(a)}),[a]),oe=Object(r.useCallback)((function(){return!o.profileData&&c[m]&&re()}),[o.profileData,c,re]),ae=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.login,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;L((function(){te(),t&&t(),re()&&ne(e)}))}),[te,re,ne]),se=Object(u.a)({token:c[m],profileData:Y,removeSessionCookie:te,setSessionCookie:function(e){return p(m,e)},profileLoadState:X,setShouldRedirectTo:ne,logOutAndRedirect:ae,flashVisible:C,flashAttributes:v,setFlashVisible:S,setFlashAttributes:x,setModalVisible:q,setModalAttributes:U,modalVisible:M,modalAttributes:I},o);return Object(r.useEffect)((function(){re()&&!c[m]&&ee.current&&ae()}),[re,c,ae]),Object(r.useEffect)((function(){oe()?function(e){var t="".concat(f,"/users/current");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(c[m]).then((function(e){var t=e.status,n=e.json;if(ee.current){if(200!==t)throw new Error("Internal Server Error: ",n.errors[0]);H(n),o.profileLoadState||$(P)}})).catch((function(e){ae()})):N&&!o.profileLoadState&&$(P)}),[re,ae,o.profileLoadState,oe,c]),Object(r.useEffect)((function(){return function(){return ee.current=!1}}),[]),Object(F.jsx)(R.Provider,{value:se,children:K?Object(F.jsx)(l.a,{to:K}):t})},A=n(13),V="loading",M="done",q="error",G=Object(r.createContext)(),W=function(e){var t=e.colorScheme,n=e.children;return Object(F.jsx)(G.Provider,{value:t,children:n})},Y=function(){return new URLSearchParams(Object(l.h)().search)},H=Object(r.createContext)(),B=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=Y(),s=J(),i=s.token,c=s.logOutAndRedirect,l=s.setFlashAttributes,h=s.setFlashVisible,m=Z().games,j=Object(r.useMemo)((function(){return m&&m.length?parseInt(a.get("game_id")||m[0].id):null}),[m,a]),O=Object(r.useState)(o.shoppingLists||[]),S=Object(d.a)(O,2),L=S[0],N=S[1],k=Object(r.useState)(V),E=Object(d.a)(k,2),D=E[0],I=E[1],P=Object(r.useRef)(!1);o.shoppingLists&&(delete o.shoppingLists,P.current=!0);var R=Object(r.useRef)(!0),U=function(e,t){var n=e.list_items.find((function(e){return e.description.toLowerCase()===t.description.toLowerCase()})),r=Object(A.a)(e.list_items);if(n){var o=e.list_items.indexOf(n);r.splice(o,1,t)}else r.unshift(t);return e.list_items=r,Object(u.a)({},e)},G=function(e,t){var n=Object(u.a)({},e),r=Object(A.a)(e.list_items),o=e.list_items.find((function(e){return e.id===t})),a=e.list_items.indexOf(o);return r.splice(a,1),n.list_items=r,n},W=Object(r.useCallback)((function(){i&&!P.current?function(e,t){var n="".concat(f,"/games/").concat(t,"/shopping_lists");return fetch(n,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(i,j).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," while fetching shopping lists: ").concat(n.errors):"Unknown error ".concat(t," while fetching shopping lists");throw new Error(r)}R.current&&(N(n),!o.shoppingListLoadingState&&I(M))})).catch((function(e){401===e.code?c(T.login,(function(){return R.current=!1})):404===e.code&&R.current?(l({type:"error",message:"We couldn't find the game you're looking for."}),h(!0),!o.shoppingListLoadingState&&I(q)):R.current&&!o.shoppingListLoadingState&&I(q)})):R.current&&!o.shoppingListLoadingState&&I(M)}),[i,o.shoppingListLoadingState,l,h,j,c]),B=Object(u.a)({shoppingLists:L,shoppingListLoadingState:D,performShoppingListUpdate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,a=n.onNotFound,s=n.onUnprocessableEntity,u=n.onUnauthorized,d=n.onInternalServerError;y(i,e,{title:t}).then((function(t){var n=t.status,a=t.json;if(R.current)if(200===n){var i=L.map((function(t){return t.id===e?a:t}));N(i),!o.shoppingListLoadingState&&I(M),r&&r()}else{if(422!==n)throw new Error(a.errors?"Error ".concat(n," when updating shopping list: ").concat(a.errors):"Unknown error ".concat(n," when updating shopping list"));l({type:"error",message:a.errors,header:"".concat(a.errors.length," error(s) prevented your changes from being saved:")}),!o.shoppingListLoadingState&&I(M),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,u&&u()})):404===e.code?(l({type:"error",message:"Oops! The shopping list you wanted to update could not be found. Try refreshing the page to fix this issue."}),!o.shoppingListLoadingState&&I(M),a&&a()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),!o.shoppingListLoadingState&&I(M),d&&d())}))},performShoppingListCreate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess,r=t.onUnauthorized,o=t.onNotFound,a=t.onUnprocessableEntity,s=t.onInternalServerError;x(i,j,{title:e}).then((function(e){var t=e.status,r=e.json;if(201===t){if(Array.isArray(r)&&2===r.length)N(r);else if(r&&"object"===typeof r){var o=Object(A.a)(L);o.splice(1,0,r),N(o)}l({type:"success",message:"Success! Your shopping list was created."}),n&&n()}else{if(422!==t)throw new Error(r.errors?"Error ".concat(t," while creating shopping list: ").concat(r.errors):"Unknown error ".concat(t," while creating shopping list"));l({type:"error",message:r.errors,header:"".concat(r.errors.length," error(s) prevented your shopping list from being created:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,r&&r()})):404===e.code?(l({type:"error",message:"The game you wanted to create a shopping list for could not be found. Try refreshing the page to fix this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),s&&s())}))},performShoppingListDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess,r=t.onUnauthorized,o=t.onNotFound,a=t.onInternalServerError;w(i,e).then((function(t){var r=t.status,o=t.json;if(R.current)if(204===r)N([]),l({type:"success",message:'Since it was the last list for this game, the "All Items" list has been deleted as well.',header:"Your shopping list has been deleted."}),n&&n();else{if(200!==r){var a=o.errors?"Error ".concat(r," when deleting shopping list: ").concat(o.errors):"Unknown error ".concat(r," when deleting shopping list");throw new Error(a)}var s=L.filter((function(t){return t.id!==e})).map((function(e){return!0===e.aggregate?o:e}));N(s),l({type:"success",message:"Your shopping list has been deleted."}),n&&n()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,r&&r()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))},performShoppingListItemCreate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,o=n.onNotFound,a=n.onUnprocessableEntity,s=n.onUnauthorized,u=n.onInternalServerError;C(i,e,t).then((function(t){var n=t.status,o=t.json;if(R.current)if(200===n||201===n){var s=Object(d.a)(o,2),i=s[0],c=s[1],u=Object(A.a)(L),h=L[0],f=L.find((function(t){return t.id===e})),m=L.indexOf(f),b=U(h,i),p=U(f,c);u[0]=b,u[m]=p,N(u),l(201===n?{type:"success",message:"Success! Your shopping list item has been created."}:{type:"success",message:"Success! Your new shopping list item has been combined with another item with the same description."}),r&&r()}else{if(422!==n){var g=o.errors?"Error ".concat(n," when creating shopping list item: ").concat(o.errors):"Unknown error ".concat(n," when creating shopping list item");throw new Error(g)}l({type:"error",message:o.errors,header:"".concat(o.errors.length," error(s) prevented your shopping list item from being created:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to add an item to. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListItemUpdate:function(e,t,n){var r=n.onSuccess,o=n.onNotFound,a=n.onUnprocessableEntity,s=n.onUnauthorized,u=n.onInternalServerError;(function(e,t,n){var r="".concat(f,"/shopping_list_items/").concat(t);return fetch(r,{method:"PATCH",headers:v(e),body:JSON.stringify({shopping_list_item:n})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to update a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g("Items on aggregate shopping lists cannot be updated through the API");return e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e,t).then((function(t){var n=t.status,o=t.json;if(R.current)if(200===n){var s=Object(d.a)(o,2),i=s[0],c=s[1],u=Object(A.a)(L),h=L.find((function(e){return e.id===c.list_id})),f=L.indexOf(h),m=U(L[0],i),b=U(h,c);u[0]=m,u[f]=b,N(u),l({type:"success",message:"Success! Your shopping list item was updated."}),r&&r()}else{if(422!==n){var p=o.errors?"Error ".concat(n," updating item ").concat(e,": ").concat(o.errors):"Unknown error ".concat(n," updating item ").concat(e);throw new Error(p)}l({type:"error",message:o.errors,header:"".concat(o.errors.length," error(s) prevented your shopping list item from being updated:")}),a&&a()}})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to update. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListItemDestroy:function(e,t){var n=t.onSuccess,r=t.onNotFound,o=t.onUnauthorized,a=t.onInternalServerError;(function(e,t){var n="".concat(f,"/shopping_list_items/").concat(t);return fetch(n,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to delete a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e).then((function(t){var r=t.status,o=t.json;if(200!==r&&204!==r){var a=o.errors?"Error ".concat(r," when deleting shopping list item ").concat(e,": ").concat(o.errors):"Unknown error ".concat(r," when deleting shopping list item ").concat(e);throw new Error(a)}var s,i=function(e){return L.find((function(t){return!!t.list_items.find((function(t){return t.id===e}))}))}(e),c=L.indexOf(i),l=Object(A.a)(L);if(200===r)s=U(L[0],o);else{var u=i.list_items.find((function(t){return t.id===e})),d=L[0].list_items.find((function(e){return e.description.toLowerCase()===u.description.toLowerCase()}));s=G(L[0],d.id)}var h=G(i,e);l[0]=s,l.splice(c,1,h),N(l),n&&n()})).catch((function(e){401===e.code?c(T.login,(function(){R.current=!1,o&&o()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),r&&r()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}},o);return Object(r.useEffect)((function(){j&&R.current&&W()}),[W,j]),Object(r.useEffect)((function(){return function(){return R.current=!1}}),[]),Object(F.jsx)(H.Provider,{value:B,children:t})},z=function(e,t){var n=Object(r.useContext)(e);if(!n)throw new Error(t);return n},K=function(){return z(G,"useColorScheme must be used within a ColorProvider")},J=function(){return z(R,"useAppContext must be used within a AppProvider")},Q=function(){return z(H,"useShoppingListsContext must be used within a ShoppingListProvider")},Z=function(){return z(X,"useGamesContext must be used within a GamesProvider")},X=Object(r.createContext)(),$=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,a=J(),s=a.token,i=a.logOutAndRedirect,c=a.setFlashAttributes,l=Object(r.useState)(o.games||[]),h=Object(d.a)(l,2),m=h[0],g=h[1],j=Object(r.useState)(o.gameLoadingState||V),O=Object(d.a)(j,2),x=O[0],y=O[1],w=Object(r.useRef)(!0),C=Object(r.useRef)(!1);o.games&&(delete o.games,C.current=!0);var S=Object(r.useCallback)((function(){s&&!C.current&&function(e){var t="".concat(f,"/games");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(s).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," when fetching games: ").concat(n.errors):"No game data returned from SIM";throw new Error(r)}w.current&&(g(n),!o.gameLoadingState&&y(M))})).catch((function(e){401===e.code?i(T.login,(function(){return w.current=!1})):w.current&&y(q)}))}),[s,o.gameLoadingState,c,i]),L=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onUnprocessableEntity,o=t.onUnauthorized,a=t.onInternalServerError;(function(e,t){var n="".concat(f,"/games"),r=JSON.stringify({game:t});return fetch(n,{method:"POST",headers:v(e),body:r}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(s,e).then((function(e){var t=e.status,o=e.json;if(201===t){if(w.current){var a=Object(A.a)(m);a.unshift(o),g(a)}c({type:"success",message:"Success! Your game has been created."}),n&&n()}else{if(422!==t)throw new Error(o.errors?"Error ".concat(t," when creating game: ").concat(o.errors):"Unknown error ".concat(t," when creating game"));c({type:"error",header:"".concat(o.errors.length," error(s) prevented your game from being created:"),message:o.errors}),r&&r()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,o&&o()})):(w.current&&c({type:"error",message:"Something unexpected happened while creating your game. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}),[s,m,c,i]),N=Object(r.useCallback)((function(e,t,n){var r=n.onSuccess,o=n.onUnprocessableEntity,a=n.onNotFound,l=n.onInternalServerError,u=n.onUnauthorized;(function(e,t,n){var r="".concat(f,"/games/").concat(t),o=JSON.stringify({game:n});return fetch(r,{method:"PATCH",headers:v(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(s,e,t).then((function(t){var n=t.status,a=t.json;if(200===n){if(w.current){var s=m.map((function(t){return parseInt(t.id)===parseInt(e)?a:t}));g(s),c({type:"success",message:"Success! Your game has been updated."})}r&&r()}else{if(422!==n)throw new Error(a.errors?"Error ".concat(n," while updating game: ").concat(a.errors):"Error ".concat(n," while updating game"));w.current&&c({type:"error",message:a.errors,header:"".concat(a.errors.length," error(s) prevented your game from being updated:")}),o&&o()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,u&&u()})):404===e.code?(c({type:"error",message:"Oops! We couldn't find the game you wanted to update. Sorry! Try refreshing the page to solve this problem."}),a&&a()):(c({type:"error",message:"Something unexpected happened while trying to update your game. Unfortunately, we don't know more than that yet. We're working on it!"}),l&&l())}))}),[s,m,c,i]),k=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onUnauthorized,o=t.onInternalServerError;(function(e,t){var n="".concat(f,"/games/").concat(t);return fetch(n,{method:"DELETE",headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))})(s,e).then((function(t){if(204!==t.status&&404!==t.status||!w.current)throw new Error("Error ".concat(t.status," while destroying game ").concat(e));var r=m.find((function(t){return parseInt(t.id)===parseInt(e)})),o=m.indexOf(r),a=Object(A.a)(m);a.splice(o,1),g(a),c({type:"success",message:"Your game has been deleted."}),n&&n()})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,r&&r()})):(w.current&&c({type:"error",message:"Something unexpected happened while trying to delete your game. Unfortunately, we don't know more than that yet. We're working on it!"}),o&&o())}))}),[s,m,i,c]),E=Object(u.a)({games:m,gameLoadingState:x,performGameCreate:L,performGameUpdate:N,performGameDestroy:k},o);return Object(r.useEffect)((function(){w.current&&S()}),[S]),Object(r.useEffect)((function(){return function(){return w.current=!1}}),[]),Object(F.jsx)(X.Provider,{value:E,children:t})},ee=n(36),te=n.n(ee),ne=function(){var e=J(),t=e.token,n=e.setShouldRedirectTo,o=e.removeSessionCookie,a=Object(r.useRef)(!0),s=Object(r.useCallback)((function(){t&&!k&&function(e){var t="".concat(f,"/auth/verify_token");return fetch(t,{headers:_(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(t).then((function(e){return 500===e.status?e.json():null})).then((function(e){if(e)throw new Error("Internal Server Error: ",e.errors[0]);n(T.dashboard.main),a.current=!1})).catch((function(e){L((function(){return o()}))}))}),[t,o,n]);return Object(r.useEffect)((function(){return s(),function(){return a.current=!1}}),[t,s]),Object(F.jsx)("div",{className:te.a.root,children:Object(F.jsxs)("div",{className:te.a.container,children:[Object(F.jsx)("h1",{className:te.a.header,children:"Skyrim Inventory Management"}),Object(F.jsx)(i.b,{className:te.a.login,to:T.login,children:"Log in with Google"})]})})},re=n(59),oe=n.n(re),ae=n(37),se=n.n(ae),ie=function(){var e=J(),t=e.token,n=e.setSessionCookie,o=e.removeSessionCookie,a=e.setShouldRedirectTo,s=Object(r.useState)(null),i=Object(d.a)(s,2),c=i[0],l=i[1],u=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return u.current=!1}})),Object(F.jsxs)("div",{className:se.a.root,children:[c?Object(F.jsx)("p",{className:se.a.errorMessage,children:c}):null,Object(F.jsx)("div",{className:se.a.container,children:Object(F.jsx)(oe.a,{className:se.a.button,clientId:"891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",buttonText:"Log In With Google",onSuccess:function(e){var t=e.tokenId;t&&(n(t),a(T.dashboard.main),u.current=!1)},onFailure:function(e){t&&o(),l("Something went wrong! Please try logging in again.")},redirectUri:"".concat("https://sim.danascheider.com").concat(T.dashboard.main)})})]})},ce={schemeColorDarkest:"#ffbf00",schemeColorDark:"#ffcb32",schemeColorLight:"#ffd866",schemeColorLightest:"#fff2cc",hoverColorDark:"#e5ab00",hoverColorLight:"#ffc519",hoverColorLightest:"#ffebb2",textColorPrimary:"#4c3900",textColorSecondary:"#4c3900",textColorTertiary:"#7f5700",borderColor:"#cc9800"},le={schemeColorDarkest:"#e83f6f",schemeColorDark:"#ec658b",schemeColorLight:"#f18ba8",schemeColorLightest:"#fad8e2",hoverColorDark:"#d03863",hoverColorLight:"#ea527d",hoverColorLightest:"#f5b2c5",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#451221",borderColor:"#b93258"},ue={schemeColorDarkest:"#2274a5",schemeColorDark:"#4e8fb7",schemeColorLight:"#7aabc9",schemeColorLightest:"#d2e3ed",hoverColorDark:"#1e6894",hoverColorLight:"#3881ae",hoverColorLightest:"#bcd5e4",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#0d2e42",borderColor:"#1b5c84"},de={schemeColorDarkest:"#00a323",schemeColorDark:"#32b54e",schemeColorLight:"#66c77b",schemeColorLightest:"#ccecd3",hoverColorDark:"#00921f",hoverColorLight:"#19ac38",hoverColorLightest:"#b2e3bd",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#00410e",borderColor:"#00821c"},he={schemeColorDarkest:"#20e2e9",schemeColorDark:"#62eaef",schemeColorLight:"#8ff0f4",schemeColorLightest:"#d2f9fa",hoverColorDark:"#11cbd1",hoverColorLight:"#4ce7ed",hoverColorLightest:"#bcf6f8",textColorPrimary:"#094345",textColorSecondary:"#094345",textColorTertiary:"#094345",borderColor:"#19b4ba"},fe=[ce,le,ue,de,he],me=n.p+"static/media/googleIcon.9432a66b.svg",be=n(45),pe=n.n(be),ge=function(e){var t=e.className,n=e.logOutFunction,o=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return o.current=!1}})),Object(F.jsx)("div",{className:t,children:Object(F.jsx)("button",{className:pe.a.button,onClick:function(e){e.preventDefault(),n((function(){o.current=!1}))},children:Object(F.jsx)("div",{className:pe.a.body,children:Object(F.jsxs)("div",{className:pe.a.googleLogout,children:[Object(F.jsx)("img",{src:me,alt:"Google logo"}),"Log Out With Google"]})})})})},je=n.p+"static/media/anonymousAvatar.36d1acc1.jpg",Oe=n(15),_e=n.n(Oe),ve=function(){var e=J(),t=e.profileData,n=e.logOutAndRedirect,o=Object(r.useState)(!1),a=Object(d.a)(o,2),s=a[0],c=a[1],l=Object(r.useRef)(!0),u=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!1),n(T.home,(function(){e&&e(),l.current=!1}))}),[n]);return Object(r.useEffect)((function(){return function(){return l.current=!1}}),[]),Object(F.jsx)("div",{className:_e.a.root,children:Object(F.jsxs)("div",{className:_e.a.bar,children:[Object(F.jsx)("span",{className:_e.a.headerContainer,children:Object(F.jsxs)("h1",{className:_e.a.header,children:[Object(F.jsxs)(i.b,{className:_e.a.headerLinkLarge,to:T.dashboard.main,children:["Skyrim Inventory",Object(F.jsx)("br",{className:_e.a.bp})," Management"]}),Object(F.jsx)(i.b,{className:_e.a.headerLinkSmall,to:T.dashboard.main,children:"S. I. M."})]})}),t?Object(F.jsxs)("button",{className:_e.a.profile,onClick:function(){return c(!s)},children:[Object(F.jsxs)("div",{className:_e.a.profileText,children:[Object(F.jsx)("p",{className:_e.a.textTop,children:t.name}),Object(F.jsx)("p",{className:_e.a.textBottom,children:t.email})]}),Object(F.jsx)("img",{className:_e.a.avatar,src:t.image_url||je,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(F.jsx)(ge,{className:s?_e.a.logoutDropdown:_e.a.hidden,logOutFunction:u})]})})},xe=n(6),ye=n(5),we=n.n(ye),Ce=n(12),Se=n(23),Le=n(60),Ne=n.n(Le),ke=function(e){var t=e.name,n=e.className,r=e.onClick,o=e.onKeyDown,a=e.ariaSelected;return Object(F.jsx)("li",{className:we()(Ne.a.root,n),onClick:r,onKeyDown:o,role:"option",tabIndex:0,"aria-selected":a,children:t.length>24?"".concat(t.substring(0,23),"..."):t})},Ee=n(25),De=n.n(Ee),Ie=function(){var e=Object(l.g)(),t=Y(),n=J().setFlashVisible,o=Z(),a=o.games,s=o.gameLoadingState,i=o.performGameCreate,c=Object(r.useState)(null),u=Object(d.a)(c,2),h=u[0],f=u[1],m=Object(r.useState)(!1),b=Object(d.a)(m,2),p=b[0],g=b[1],j=Object(r.useState)(""),O=Object(d.a)(j,2),_=O[0],v=O[1],x=Object(r.useRef)(null),y=function(){return g(!0)},w=Object(r.useCallback)((function(){return g(!1)}),[g]),C={"--button-background-color":ue.schemeColorDarkest,"--button-hover-color":ue.hoverColorDark,"--button-text-color":ue.textColorPrimary,"--button-border-color":ue.borderColor},S=Object(r.useCallback)((function(t){f(t),v(t.name);var n=new URLSearchParams("game_id=".concat(t.id));e.push({search:n.toString()}),w()}),[e,w]),L=function(e){return!(h&&!a.length)&&(h?h.id===e:e===a[0].id)};return Object(r.useEffect)((function(){var e=parseInt(t.get("game_id"));if(a.length&&e){if(h&&h.id===e)return;var n=e?a.find((function(t){return t.id===e})):a[0];S(n||a[0])}else a.length&&!h&&S(a[0])}),[S,h,a,t]),Object(r.useEffect)((function(){var t=function(t){if(x.current!==t.relatedTarget&&!x.current.contains(t.relatedTarget)){w();var n=a.find((function(e){return e.name.toLowerCase()===_.toLowerCase()}));if(n){f(n),v(n.name);var r=new URLSearchParams("game_id=".concat(n.id));e.push({search:r.toString()})}else h&&v(h.name)}};return document.addEventListener("focusout",t),function(){document.removeEventListener("focusout",t)}}),[a,f,h,v,_,e,w]),Object(F.jsxs)("div",{ref:x,className:De.a.root,style:C,"data-testid":"games-dropdown",children:[Object(F.jsxs)("div",{className:De.a.header,role:"combobox","aria-haspopup":"listbox","aria-owns":"gamesListbox","aria-controls":"gamesListbox","aria-expanded":p,children:[Object(F.jsx)("input",{className:we()(De.a.input,"focusable"),type:"text",disabled:"done"!==s,value:_,onChange:function(e){return v(e.currentTarget.value)},placeholder:"No games available","aria-autocomplete":"list","aria-multiline":!1,"aria-controls":"gamesListbox",onFocus:y,onClick:y,onKeyDown:function(t){if("Enter"===t.key){var r=a.find((function(e){return e.name.toLowerCase()===t.target.value.toLowerCase()}));if(r)S(r);else i({name:_},{onSuccess:function(){e.push({search:""}),f(null),t.target.blur()},onUnprocessableEntity:function(){n(!0),t.target.blur()},onInternalServerError:function(){n(!0),t.target.blur()}})}else if("ArrowUp"===t.key){t.preventDefault();var o=document.getElementsByClassName("focusable");o[o.length-1].focus()}else"ArrowDown"===t.key?(t.preventDefault(),document.getElementsByClassName("focusable")[1].focus()):"Escape"===t.key&&w()}}),Object(F.jsx)("button",{className:De.a.trigger,onClick:function(){return g(!p)},onKeyDown:function(e){"ArrowDown"===e.key&&(e.preventDefault(),document.getElementsByClassName("focusable")[1].focus())},disabled:"done"!==s,"data-testid":"games-dropdown-trigger",children:Object(F.jsx)(Ce.a,{className:De.a.fa,icon:Se.a})})]}),Object(F.jsx)("ul",{id:"gamesListbox",className:we()(De.a.dropdown,Object(xe.a)({},De.a.hidden,!p||!a.length)),role:"listbox",children:a.map((function(e,t){var n=e.id,r=e.name;return Object(F.jsx)(ke,{className:"focusable",onClick:function(){return S({id:n,name:r})},onKeyDown:function(e){if("Enter"===e.key||" "===e.key)S({id:n,name:r});else if("ArrowUp"===e.key){e.preventDefault();var t=Object(A.a)(document.getElementsByClassName("focusable")),o=t.indexOf(e.target);t[o-1].focus()}else if("ArrowDown"===e.key){e.preventDefault();var a=Object(A.a)(document.getElementsByClassName("focusable")),s=a.indexOf(e.target);a[s<a.length-1?s+1:0].focus()}},ariaSelected:L(n),name:r},"".concat(r.toLowerCase().replace(" ","_"),"-").concat(n))}))})]})},Te=n(27),Fe=n.n(Te),Pe=function(e){var t=e.title,n=e.includeGameSelect,r=void 0!==n&&n,o=e.children;return Object(F.jsxs)("div",{className:Fe.a.root,children:[Object(F.jsxs)("div",{className:Fe.a.container,children:[t?Object(F.jsxs)("div",{className:Fe.a.headerContainer,children:[Object(F.jsxs)("div",{className:Fe.a.titleContainer,children:[Object(F.jsx)("h2",{className:Fe.a.title,children:t}),r&&Object(F.jsx)(Ie,{})]}),Object(F.jsx)("hr",{className:Fe.a.hr})]}):null,o]}),Object(F.jsx)(ve,{})]})},Re=n(61),Ue=n.n(Re),Ae=function(e){var t=e.className,n=e.type,r=void 0===n?"bubbles":n,o=e.color,a=e.height,s=e.width;return Object(F.jsx)(Ue.a,{className:t,type:r,color:o,height:a,width:s})},Ve=n(62),Me=n.n(Ve),qe=function(e){var t=e.href,n=e.children,r=K(),o={"--background-color":r.schemeColorDarkest,"--hover-color":r.hoverColorDark,"--text-color":r.textColorPrimary};return Object(F.jsx)(i.b,{className:Me.a.root,to:t,style:o,children:n})},Ge=n(51),We=n.n(Ge),Ye=function(e){var t=e.cardArray;return Object(F.jsx)("div",{className:We.a.root,children:t.map((function(e){var t=e.colorScheme,n=e.href,r=e.children,o=e.key;return Object(F.jsx)("div",{className:We.a.card,children:Object(F.jsx)(W,{colorScheme:t,children:Object(F.jsx)(qe,{href:n,children:r})})},o)}))})},He=n(52),Be=n.n(He),ze=[{colorScheme:ce,href:T.dashboard.games,children:"Your Games",key:"your-games"},{colorScheme:le,href:T.dashboard.shoppingLists,children:"Your Shopping Lists",key:"your-shopping-lists"},{colorScheme:ue,href:"#",children:"Nav Link 3",key:"nav-link-3"},{colorScheme:de,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:he,href:"#",children:"Nav Link 5",key:"nav-link-5"}],Ke=function(){var e=J(),t=e.token,n=e.profileLoadState,o=e.setShouldRedirectTo,a=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return t||k||(o(T.login),a.current=!1),function(){return a.current=!1}}),[t,o]),Object(F.jsx)(Pe,{children:"done"===n?Object(F.jsx)("div",{className:Be.a.root,children:Object(F.jsx)(Ye,{cardArray:ze})}):Object(F.jsx)(Ae,{className:Be.a.loading,type:"bubbles",color:ce.schemeColorDarkest,height:"15%",width:"15%"})})},Je=n(30),Qe=n.n(Je),Ze=(j={},Object(xe.a)(j,"success","#329932"),Object(xe.a)(j,"info","#4e6d8e"),Object(xe.a)(j,"error","#cc0000"),Object(xe.a)(j,"warning","#b0a723"),j),Xe=function(){var e=J(),t=e.flashVisible,n=e.setFlashVisible,o=e.flashAttributes,a=o.type,s=o.header,i=o.message,c={"--text-color":Ze[a]};return Object(r.useEffect)((function(){t&&setTimeout((function(){n(!1)}),4e3)}),[t,n]),Object(F.jsxs)("div",{className:we()(Qe.a.root,Object(xe.a)({},Qe.a.hidden,!t)),style:c,children:[s&&Object(F.jsx)("p",{className:Qe.a.header,children:s}),"string"===typeof i?i:Object(F.jsx)("ul",{className:Qe.a.messageList,children:i.map((function(e,t){return Object(F.jsx)("li",{className:Qe.a.msg,children:e},"message-".concat(t))}))})]})},$e=n(22),et=n(24),tt=n(44),nt=n(39),rt=n.n(nt),ot=function(e){var t=e.children,n=e.title,o=e.subtitle,a=J().setModalVisible,s=Object(r.useRef)(null),i=Object(r.useRef)(!0),c=Object(r.useCallback)((function(e){return s.current&&(s.current===e||s.current.contains(e))}),[]),l=Object(r.useCallback)((function(e){("click"===e.type&&!c(e.target)||"keydown"===e.type&&"Escape"===e.key)&&(a(!1),i.current=!1)}),[c,a]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[l]),Object(r.useEffect)((function(){return document.getElementsByTagName("body")[0].classList.add("modal-open"),function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),i.current=!1}}),[]),Object(F.jsx)("div",{role:"dialog",className:rt.a.root,onClick:l,children:Object(F.jsxs)("div",{ref:s,className:rt.a.content,children:[Object(F.jsx)("h3",{className:rt.a.title,children:n}),o&&Object(F.jsx)("p",{className:rt.a.subtitle,children:o}),t]})})},at=["title","subtitle"],st=function(e){return function(t){var n=t.title,r=t.subtitle,o=void 0===r?null:r,a=Object(tt.a)(t,at);return Object(F.jsx)(ot,{title:n,subtitle:o,children:Object(F.jsx)(e,Object(u.a)({},a))})}},it=n(31),ct=n.n(it),lt=["tag","label","name"],ut=function(e){var t=e.modelName,n=e.buttonLabel,o=e.onSubmit,a=e.fields,s=e.buttonColor,i=void 0===s?null:s,c=Object(r.useRef)(!0),l=Object(r.useRef)(null),d=Object(r.useRef)(null),h=Object(r.useRef)(i||fe[Math.floor(Math.random()*fe.length)]),f={"--button-background-color":h.current.schemeColorDarkest,"--button-text-color":h.current.textColorPrimary,"--button-hover-color":h.current.hoverColorDark,"--button-border-color":h.current.borderColor};return Object(r.useEffect)((function(){return d.current&&d.current.focus(),function(){return c.current=!1}}),[]),Object(F.jsxs)("form",{ref:l,className:ct.a.root,style:f,onSubmit:o,"data-testid":"".concat(t,"-form"),children:[a.map((function(e,n){var r=e.tag,o=e.label,a=e.name,s=Object(tt.a)(e,lt);return 0===n&&(s.ref=d),Object(F.jsxs)("fieldset",{className:ct.a.fieldset,children:[Object(F.jsx)("label",{className:ct.a.label,htmlFor:a,children:o}),Object(F.jsx)(r,Object(u.a)({className:ct.a.input,name:a},s))]},"".concat(t,"-").concat(a))})),Object(F.jsx)("button",{className:ct.a.submit,type:"submit",children:n})]})},dt=[{name:"name",tag:"input",label:"Name",type:"text",placeholder:"Name",inputMode:"text",pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Name can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"},{name:"description",tag:"input",label:"Description",type:"text",placeholder:"Description",inputMode:"text"}],ht=function(e){var t=e.type,n=e.currentAttributes,o=void 0===n?{}:n,a=J(),s=a.setFlashVisible,i=a.setModalVisible,c=Z(),d=c.performGameCreate,h=c.performGameUpdate,f=Object(l.g)(),m=Object(r.useRef)(!0),b=dt.map((function(e){return o[e.name]?Object(u.a)({defaultValue:o[e.name]},e):e}));return Object(r.useEffect)((function(){return function(){return m.current=!1}}),[]),Object(F.jsx)(ut,{modelName:"game",buttonLabel:"create"===t?"Create Game":"Update Game",onSubmit:function(e){e.preventDefault(),s(!1);var n=function(){s(!0),i(!1),m.current=!1},r={onUnprocessableEntity:n,onInternalServerError:n,onNotFound:n,onUnauthorized:function(){return m.current=!1}},a={name:e.target.elements.name.value,description:e.target.elements.description.value};for(var c in a)a[c]===o[c]&&delete a[c];if("create"===t){r.onSuccess=function(){I.indexOf(f.location.pathname)>-1?n():(i(!1),m.current=!1)},d(a,r)}else r.onSuccess=n,h(o.id,a,r)},fields:b})},ft=n(21),mt=n.n(ft),bt=function(e){var t=e.gameId,n=e.name,o=e.description,a=Object(r.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=J(),u=l.setFlashAttributes,h=l.setFlashVisible,f=l.setModalVisible,m=l.setModalAttributes,b=Z().performGameDestroy,p=Object(r.useRef)(!0),g=Object(r.useRef)(null),j=Object(r.useRef)(null),O=Object(r.useRef)(null);return Object(r.useEffect)((function(){return function(){return p.current=!1}}),[]),Object(F.jsxs)("div",{className:mt.a.root,children:[Object(F.jsxs)("div",{className:mt.a.header,onClick:function(e){var t,n;e&&(t=g,n=e.target,t.current&&(t.current===n||t.current.contains(n)))||c(Date.now)},children:[Object(F.jsxs)("span",{ref:g,className:mt.a.editIcons,children:[Object(F.jsx)("button",{ref:O,className:mt.a.icon,onClick:function(e){h(!1);window.confirm("Are you sure you want to delete this game? This cannot be undone. You will lose all data associated with the game you delete.")?b(t,{onSuccess:function(){h(!0),p.current=!1},onInternalServerError:function(){return p.current&&h(!0)}}):(u({type:"info",message:"Your game was not deleted."}),h(!0))},"data-testid":"game-destroy-icon",children:Object(F.jsx)(Ce.a,{className:mt.a.fa,icon:Se.c})}),Object(F.jsx)("button",{ref:j,className:mt.a.icon,onClick:function(){h(!1);var e={id:t,name:n,description:o},r=st(ht);m({Tag:r,props:{title:"Edit Game",type:"edit",currentAttributes:e}}),f(!0)},"data-testid":"game-edit-icon",children:Object(F.jsx)(Ce.a,{className:mt.a.fa,icon:et.b})})]}),Object(F.jsx)("h3",{className:mt.a.name,children:n})]}),Object(F.jsx)($e.a,{toggleEvent:i,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:mt.a.collapsible,ref:t,children:Object(F.jsx)("p",{className:mt.a.description,children:o||"This game has no description."})})}})]})},pt=n(20),gt=n.n(pt),jt=function(e){var t=e.disabled,n=J().setFlashVisible,o=Z().performGameCreate,a=Object(r.useState)(0),s=Object(d.a)(a,2),i=s[0],c=s[1],l=Object(r.useRef)(null),u=Object(r.useRef)(null),h=Object(r.useRef)(!0),f={"--button-color":ue.schemeColorDark,"--button-text-color":ue.textColorPrimary,"--button-border-color":ue.borderColor,"--button-hover-color":ue.hoverColorLight},m=function(){return h.current&&c(Date.now)},b=function(e){e.preventDefault(),n(!1);var t={name:e.target.elements.name.value,description:e.target.elements.description.value},r=function(){n(!0),l.current&&l.current.reset(),m()};o(t,{onSuccess:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r,onUnauthorized:function(){return h.current=!1}})};return Object(r.useEffect)((function(){return function(){return h.current=!1}}),[]),Object(F.jsxs)("div",{className:gt.a.root,style:f,children:[Object(F.jsx)("h3",{className:gt.a.slideToggleTrigger,onClick:m,children:"Create Game..."}),Object(F.jsx)($e.a,{toggleEvent:i,onExpanded:function(){return u.current.focus()},collapsed:!0,children:function(e){var n=e.setCollapsibleElement;return Object(F.jsx)("div",{ref:n,children:Object(F.jsxs)("form",{ref:l,className:gt.a.form,"data-testid":"game-create-form",onSubmit:b,children:[Object(F.jsx)("fieldset",{className:we()(gt.a.fieldset,Object(xe.a)({},gt.a.fieldsetDisabled,t)),disabled:t,children:Object(F.jsx)("input",{ref:u,className:gt.a.input,type:"text",name:"name",placeholder:"Name","aria-label":"Name",pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Name can contain only alphanumeric characters, spaces, commas, hyphens, and apostrophes"})}),Object(F.jsx)("fieldset",{className:we()(gt.a.fieldset,Object(xe.a)({},gt.a.fieldsetDisabled,t)),disabled:t,children:Object(F.jsx)("input",{className:gt.a.input,type:"text",name:"description",placeholder:"Description","aria-label":"Description"})}),Object(F.jsx)("button",{className:we()(gt.a.button,Object(xe.a)({},gt.a.buttonDisabled,t)),type:"submit",disabled:t,children:"Create"})]})})}})]})},Ot=n(53),_t=n.n(Ot),vt=function(e){var t=e.modelName;return Object(F.jsx)("div",{className:_t.a.root,children:Object(F.jsxs)("p",{className:_t.a.text,children:["There was an error loading your ",t,". It may have been on our end. We're sorry!"]})})},xt=n(40),yt=n.n(xt),wt=function(){var e=J(),t=(e.setFlashVisible,e.modalVisible),n=e.modalAttributes,r=Z(),o=r.games,a=r.gameLoadingState;return Object(F.jsxs)(Pe,{title:"Your Games",children:[t&&Object(F.jsx)(n.Tag,Object(u.a)({},n.props)),Object(F.jsxs)("div",{className:yt.a.root,children:[Object(F.jsx)(Xe,{}),o&&0===o.length&&a===M&&Object(F.jsx)("p",{className:yt.a.noGames,children:"You have no games."}),a===M&&Object(F.jsx)(jt,{disabled:a===V||a===q}),o&&o.length>0&&a===M&&Object(F.jsx)("div",{className:yt.a.games,children:o.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(F.jsx)(bt,{gameId:t,name:n,description:r},n)}))}),a===V&&Object(F.jsx)(Ae,{type:"bubbles",className:yt.a.loading,color:ce.schemeColorDarkest,height:"15%",width:"15%"}),a===q&&Object(F.jsx)(vt,{modelName:"games"})]})]})},Ct=n(28),St=n.n(Ct),Lt=function(e){var t=e.disabled,n=J().setFlashVisible,o=Q().performShoppingListCreate,a=Object(r.useState)(""),s=Object(d.a)(a,2),i=s[0],c=s[1],l={"--button-color":ue.schemeColorDark,"--button-text-color":ue.textColorPrimary,"--button-border-color":ue.borderColor,"--button-hover-color":ue.hoverColorLight};return Object(F.jsx)("div",{className:St.a.root,style:l,children:Object(F.jsx)("form",{"data-testid":"shopping-list-create-form",onSubmit:function(e){e.preventDefault(),n(!1);var t=e.target.elements.title.value,r=function(){c(""),n(!0)};o(t,{onSuccess:r,onNotFound:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r})},children:Object(F.jsxs)("fieldset",{className:we()(St.a.fieldset,Object(xe.a)({},St.a.fieldsetDisabled,t)),disabled:t,children:[Object(F.jsx)("input",{className:St.a.input,type:"text",name:"title",placeholder:"Title","aria-label":"Title",value:i,onChange:function(e){var t=e.currentTarget.value;c(t)},pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"}),Object(F.jsx)("button",{className:we()(St.a.button,Object(xe.a)({},St.a.buttonDisabled,t)),type:"submit",children:"Create"})]})})})},Nt=["a","an","the","and","but","for","at","by","from","with","to","in","of","into","onto","on","without","within"],kt=function(e){var t=e.toLowerCase().split(" ");return t.map((function(e,n){return Nt.indexOf(e)>-1&&-1===[1,t.length].indexOf(n)?e:function(e){var t=e[0].toUpperCase();return"".concat(t).concat(e.slice(1))}(e)})).join(" ")},Et=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],a=Object(r.useRef)(null),s=Object(r.useRef)(null),i=function(e){return s.current&&s.current.contains(e)},c=function(e){"Escape"===e.key&&o(!1)},l=function(e){var t;t=e.target,a.current&&a.current.contains(t)||i(e.target)?i(e.target)&&o(!n):o(!1)};return Object(r.useEffect)((function(){return document.addEventListener("keydown",c,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",c,!0),document.removeEventListener("click",l,!0)}})),{componentRef:a,triggerRef:s,isComponentVisible:n,setIsComponentVisible:o}},Dt=n(66),It=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),o=n[0],a=n[1];return Object(r.useLayoutEffect)((function(){a(e.current.getBoundingClientRect())}),[e]),Object(Dt.a)(e,(function(e){return a(e.contentRect)})),o},Tt=n(41),Ft=n.n(Tt),Pt=function(e){var t=e.formRef,n=e.maxTotalWidth,o=e.className,a=e.title,s=e.onSubmit,i=function(e){var t=document.createElement("canvas").getContext("2d");t.font="21px Quattrocento Sans";var r=b||n,o=1.1*t.measureText(e).width;return Math.min(o,r)},c=Object(r.useState)(a),l=Object(d.a)(c,2),u=l[0],h=l[1],f=Object(r.useState)(null),m=Object(d.a)(f,2),b=m[0],p=m[1],g=Object(r.useState)("".concat(i(a),"px")),j=Object(d.a)(g,2),O=j[0],_=j[1],v=Object(r.useRef)(null),x=Object(r.useRef)(null),y=K(),w={"--scheme-color":y.schemeColorDarkest,"--text-color":y.textColorPrimary,"--border-color":y.borderColor,"--icon-hover-color":y.schemeColorLightest};return Object(r.useEffect)((function(){v.current.focus()})),Object(r.useEffect)((function(){if(!x.current)return p(n);p(n-x.current.offsetWidth)}),[n]),Object(F.jsxs)("form",{className:we()(o,Ft.a.root),style:w,ref:t,onSubmit:s,children:[Object(F.jsx)("input",{className:Ft.a.input,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;h(t),_("".concat(i(t),"px"))},type:"text",name:"title","aria-label":"Title",ref:v,style:{width:O},value:u,pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, hyphens, commas, and apostrophes"}),Object(F.jsx)("button",{className:Ft.a.submit,ref:x,name:"submit",type:"submit",children:Object(F.jsx)(Ce.a,{className:Ft.a.fa,icon:et.a})})]})},Rt=[{name:"quantity",tag:"input",label:"Quantity",type:"number",placeholder:"Quantity",inputMode:"numeric",min:1,required:!0},{name:"notes",tag:"textarea",label:"Notes",type:"textarea",placeholder:"This item has no notes",inputMode:"text"}],Ut=function(e){var t=e.buttonColor,n=e.currentAttributes,o=J(),a=o.setFlashVisible,s=o.setModalVisible,i=Q().performShoppingListItemUpdate,c=Object(r.useRef)(!0),l=Rt.map((function(e){return Object(u.a)({defaultValue:n[e.name]},e)}));return Object(r.useEffect)((function(){return function(){return c.current=!1}}),[]),Object(F.jsx)(ut,{modelName:"shopping-list-item",buttonLabel:"Update Item",buttonColor:t,onSubmit:function(e){e.preventDefault();var t=function(){a(!0),s(!1),c.current=!1},r={onSuccess:t,onNotFound:t,onUnprocessableEntity:t,onInternalServerError:t,onUnauthorized:function(){return c.current=!1}},o=e.target.elements.quantity.value,l=e.target.elements.notes.value;i(n.id,{quantity:o,notes:l},r)},fields:l})},At=n(8),Vt=n.n(At),Mt=function(e){var t=e.itemId,n=e.listTitle,o=e.canEdit,a=e.description,s=e.quantity,i=e.notes,c=Object(r.useState)(0),l=Object(d.a)(c,2),u=l[0],h=l[1],f=Object(r.useState)(!0),m=Object(d.a)(f,2),b=m[0],p=m[1],g=Object(r.useState)(s),j=Object(d.a)(g,2),O=j[0],_=j[1],v=J(),x=v.setFlashAttributes,y=v.setFlashVisible,w=v.setModalVisible,C=v.setModalAttributes,S=K(),L=S.schemeColorDarkest,N=S.textColorPrimary,k=S.hoverColorDark,E=S.schemeColorDark,D=S.hoverColorLight,I=S.textColorSecondary,T=S.borderColor,P=S.schemeColorLightest,R=S.textColorTertiary,U=Q(),A=U.performShoppingListItemUpdate,V=U.performShoppingListItemDestroy,M=Object(r.useRef)(!0),q=Object(r.useRef)(null),G=Object(r.useRef)(null),W=Object(r.useRef)(null),Y=Object(r.useRef)(null),H=Object(r.useRef)(null),B=function(e,t){return e.current&&(e.current===t||e.current.contains(t))},z=function(e){return function(e){return B(G,e)}(e)||function(e){return B(W,e)}(e)||function(e){return B(Y,e)}(e)||function(e){return B(H,e)}(e)},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;M.current&&(x({type:e,message:t,header:n}),y(!0))},X={"--main-color":E,"--title-text-color":I,"--border-color":T,"--body-background-color":P,"--body-text-color":R,"--hover-color":D};return Object(r.useEffect)((function(){M.current&&_(s)}),[s]),Object(r.useEffect)((function(){return function(){return M.current=!1}}),[]),Object(F.jsxs)("div",{className:we()(Vt.a.root,Object(xe.a)({},Vt.a.collapsed,b)),style:X,children:[Object(F.jsxs)("div",{className:Vt.a.toggle,onClick:function(e){z(e.target)||(h(Date.now),p(!b))},children:[Object(F.jsxs)("span",{className:we()(Vt.a.header,Object(xe.a)({},Vt.a.headerEditable,o)),children:[o&&Object(F.jsxs)("span",{className:Vt.a.editIcons,ref:q,children:[Object(F.jsx)("button",{className:Vt.a.icon,ref:W,onClick:function(){window.confirm("Destroy shopping list item? Your aggregate list will be updated to reflect the change. This action cannot be undone.")?V(t,{onSuccess:function(){return M.current=!1},onUnauthorized:function(){return M.current=!1},onNotFound:function(){return y(!0)},onInternalServerError:function(){return y(!0)}}):Z("info","Your item was not deleted.")},"data-testid":"destroy-item",children:Object(F.jsx)(Ce.a,{className:we()(Vt.a.fa,Vt.a.destroyIcon),icon:Se.c})}),Object(F.jsx)("button",{className:Vt.a.icon,ref:G,onClick:function(){if(M.current){y(!1);var e=st(Ut);C({Tag:e,props:{title:a,subtitle:'On list "'.concat(n,'"'),buttonColor:{schemeColorDarkest:L,hoverColorDark:k,borderColor:T,textColorPrimary:N},currentAttributes:{id:t,quantity:s,notes:i,description:a}}}),w(!0)}},"data-testid":"edit-item",children:Object(F.jsx)(Ce.a,{className:Vt.a.fa,icon:et.b})})]}),Object(F.jsx)("h4",{className:Vt.a.description,children:a})]}),Object(F.jsxs)("span",{className:Vt.a.quantity,children:[o&&Object(F.jsx)("button",{className:Vt.a.icon,ref:Y,onClick:function(){var e=O,n=O+1;M.current&&_(n),A(t,{quantity:n},{onNotFound:function(){_(e),y(!0)},onInternalServerError:function(){_(e),y(!0)}})},"data-testid":"incrementer",children:Object(F.jsx)(Ce.a,{className:Vt.a.fa,icon:Se.b})}),Object(F.jsx)("div",{className:Vt.a.quantityContent,children:O}),o&&Object(F.jsx)("button",{className:Vt.a.icon,ref:H,onClick:function(){var e=O,n=O-1;if(n>0){var r={onNotFound:function(){_(e),y(!0)},onInternalServerError:function(){_(e),y(!0)}};_(n),A(t,{quantity:n},r)}else if(0===n){window.confirm("Item quantity must be greater than zero. Delete the item instead?")?V(t,(function(){M.current=!1})):Z("info","Your item was not deleted.")}},"data-testid":"decrementer",children:Object(F.jsx)(Ce.a,{className:Vt.a.fa,icon:Se.a})})]})]}),Object(F.jsx)($e.a,{toggleEvent:u,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:Vt.a.collapsible,ref:t,children:Object(F.jsx)("p",{className:Vt.a.notes,children:i||"No details available"})})}})]})},qt=n(18),Gt=n.n(qt),Wt=n(10),Yt=n.n(Wt),Ht=function(e){var t=e.listId,n=Object(r.useState)(0),o=Object(d.a)(n,2),a=o[0],s=o[1],i=Object(r.useState)(!0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=J().setFlashVisible,f=Q().performShoppingListItemCreate,m=K(),b=m.schemeColorDark,p=m.hoverColorLight,g=m.schemeColorLightest,j=m.borderColor,O=m.textColorSecondary,_=m.textColorTertiary,v=Object(r.useRef)(null),x={"--base-color":b,"--hover-color":p,"--body-color":g,"--border-color":j,"--text-color-main":O,"--text-color-secondary":_},y=function(){s(Date.now),u(!l)},w=function(e){e.preventDefault(),h(!1);var n=e.target.elements.description.value,r=parseInt(e.target.elements.quantity.value),o=e.target.elements.notes.value,a=function(){v.current.reset(),y(),h(!0)};f(t,{description:n,quantity:r,notes:o},{onSuccess:a,onNotFound:a,onUnprocessableEntity:function(){return h(!0)},onInternalServerError:a})};return Object(F.jsxs)("div",{className:we()(Yt.a.root,Object(xe.a)({},Yt.a.collapsed,l)),style:x,children:[Object(F.jsx)("div",{className:Yt.a.triggerContainer,children:Object(F.jsx)("button",{className:Yt.a.triggerButton,onClick:y,children:"Add item to list..."})}),Object(F.jsx)($e.a,{toggleEvent:a,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsx)("div",{className:Yt.a.collapsible,ref:t,children:Object(F.jsxs)("form",{className:Yt.a.form,ref:v,onSubmit:w,children:[Object(F.jsxs)("fieldset",{className:Yt.a.fieldset,children:[Object(F.jsx)("label",{className:Yt.a.label,children:"Description"}),Object(F.jsx)("input",{className:Yt.a.input,type:"text",name:"description",placeholder:"Description",required:!0})]}),Object(F.jsxs)("fieldset",{className:Yt.a.fieldset,children:[Object(F.jsx)("label",{className:Yt.a.label,children:"Quantity"}),Object(F.jsx)("input",{className:Yt.a.input,type:"number",inputMode:"numeric",min:1,name:"quantity",defaultValue:1,required:!0})]}),Object(F.jsxs)("fieldset",{className:Yt.a.fieldset,children:[Object(F.jsx)("label",{className:Yt.a.label,children:"Notes"}),Object(F.jsx)("input",{className:Yt.a.input,type:"text",name:"notes",placeholder:"Notes"})]}),Object(F.jsx)("button",{className:Yt.a.submit,type:"submit",children:"Add to List"})]})})}})]})},Bt=function(e){var t=e.canEdit,n=void 0===t||t,o=e.listId,a=e.title,s='Are you sure you want to delete the list "'.concat(a,'"? You will also lose any list items on the list. This action cannot be undone.'),i=Object(r.useState)(0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=Object(r.useState)(a),f=Object(d.a)(h,2),m=f[0],b=f[1],p=Object(r.useState)(null),g=Object(d.a)(p,2),j=g[0],O=g[1],_=Object(r.useState)([]),v=Object(d.a)(_,2),x=v[0],y=v[1],w=Object(r.useRef)(!0),C=Object(r.useRef)(null),S=Object(r.useRef)(null),L=Object(r.useRef)(null),N=It(C),k=Et(),E=k.componentRef,D=k.triggerRef,I=k.isComponentVisible,T=k.setIsComponentVisible,P=J(),R=P.setFlashAttributes,U=P.setFlashVisible,V=Q(),M=V.shoppingLists,q=V.performShoppingListUpdate,G=V.performShoppingListDestroy,W=a,Y=function(e){return function(e){return C.current&&(C.current===e||C.current.contains(e))}(e)&&!function(e){return D.current&&(D.current===e||D.current.contains(e))}(e)&&!function(e){return E.current&&(E.current===e||E.current.contains(e))}(e)&&!function(e){return S.current&&(S.current===e||S.current.contains(e))}(e)},H=K(),B={"--scheme-color":H.schemeColorDarkest,"--border-color":H.borderColor,"--text-color-primary":H.textColorPrimary,"--text-color-secondary":H.textColorSecondary,"--hover-color":H.hoverColorDark,"--scheme-color-lighter":H.schemeColorDark,"--scheme-color-lightest":H.schemeColorLightest,"--max-title-width":"".concat(j-32,"px")};return Object(r.useEffect)((function(){if(M&&w.current){var e=M.find((function(e){return e.id===o})).list_items;y(Object(A.a)(e))}}),[M,o]),Object(r.useEffect)((function(){N&&L.current&&w.current&&O(N.width-L.current.offsetWidth-16)}),[N]),Object(r.useEffect)((function(){return function(){return w.current=!1}}),[]),Object(F.jsxs)("div",{className:Gt.a.root,style:B,children:[Object(F.jsx)("div",{className:Gt.a.titleContainer,children:Object(F.jsxs)("div",{className:Gt.a.trigger,ref:C,onClick:function(e){Y(e.target)&&u(Date.now)},children:[n&&Object(F.jsxs)("span",{className:Gt.a.editIcons,ref:L,children:[Object(F.jsx)("div",{className:Gt.a.icon,ref:S,onClick:function(e){var t=window.confirm(s);if(U(!1),t){var n=function(){return U(!0)};G(o,{onSuccess:function(){U(!0),w.current=!1},onNotFound:n,onInternalServerError:n})}else w.current&&(R({type:"info",message:"Your list was not deleted."}),U(!0))},"data-testid":"delete-shopping-list",children:Object(F.jsx)(Ce.a,{className:Gt.a.fa,icon:Se.c})}),Object(F.jsx)("div",{className:Gt.a.icon,ref:D,"data-testid":"edit-shopping-list",children:Object(F.jsx)(Ce.a,{className:Gt.a.fa,icon:et.b})})]}),n&&I?Object(F.jsx)(Pt,{formRef:E,maxTotalWidth:j,className:Gt.a.form,title:a,onSubmit:function(e){e.preventDefault(),U(!1);var t,n=e.nativeEvent.target.children[0].defaultValue;(!n||(t=n)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]===t&&"all items"!==t.toLowerCase())&&b(kt(n));var r=function(){b(W),U(!0)};q(o,n,{onNotFound:r,onUnprocessableEntity:r,onInternalServerError:r}),T(!1)}}):Object(F.jsx)("h3",{className:Gt.a.title,children:m})]})}),Object(F.jsx)($e.a,{toggleEvent:l,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(F.jsxs)("div",{className:Gt.a.collapsible,ref:t,children:[!n&&0===x.length&&Object(F.jsx)("div",{className:Gt.a.emptyList,children:"You have no shopping list items."}),n&&Object(F.jsx)(Ht,{listId:o}),x&&x.length>0&&x.map((function(e){var t=e.id,r=e.description,o=e.quantity,s=e.notes,i="".concat(a.toLowerCase().replace(" ","-"),"-").concat(t);return Object(F.jsx)(Mt,{itemId:t,listTitle:a,canEdit:n,description:r,quantity:o,notes:s},i)}))]})}})]})},zt=n(32),Kt=n.n(zt),Jt=function(){var e=J(),t=e.setModalAttributes,n=e.setModalVisible,r=Z(),o=r.games,a=r.gameLoadingState,s=Q(),i=s.shoppingLists,c=s.shoppingListLoadingState,l=i&&c===M&&i.length>0,u=i&&c===M&&0===i.length;if(a!==M||o.length){if(l)return Object(F.jsx)(F.Fragment,{children:i.map((function(e,t){var n=e.id,r=e.title,o=e.aggregate,a=fe[t<fe.length?t:t%fe.length],s=r.toLowerCase().replace(" ","-");return Object(F.jsx)(W,{colorScheme:a,children:Object(F.jsx)("div",{className:Kt.a.shoppingList,children:Object(F.jsx)(Bt,{canEdit:!o,listId:n,title:r})})},s)}))});if(u)return Object(F.jsx)("p",{className:Kt.a.noLists,children:"This game has no shopping lists."});if(c===V)return Object(F.jsx)(Ae,{className:Kt.a.loading,color:ce.schemeColorDarkest,height:"15%",width:"15%"});if(a===q||c===q){var d=a===q?"games":"shopping lists";return Object(F.jsx)(vt,{modelName:d})}return null}return Object(F.jsxs)("p",{className:Kt.a.noLists,children:["You need a game to use the shopping lists feature. ",Object(F.jsx)("button",{className:Kt.a.link,onClick:function(e){e.preventDefault(),t({Tag:st(ht),props:{title:"Create Game",type:"create"}}),n(!0)},children:"Create a game"})," to get started."]})},Qt=n(65),Zt=n.n(Qt),Xt=function(){var e=J(),t=(e.flashVisible,e.setFlashVisible,e.modalVisible),n=e.modalAttributes,o=Q().shoppingListLoadingState,a=o===V||o===q,s=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return s.current=!1}}),[]),Object(F.jsxs)(Pe,{title:"Your Shopping Lists",includeGameSelect:!0,children:[t&&Object(F.jsx)(n.Tag,Object(u.a)({},n.props)),Object(F.jsx)(Xe,{}),Object(F.jsx)("div",{className:Zt.a.createForm,children:Object(F.jsx)(Lt,{disabled:a})}),Object(F.jsx)(Jt,{})," "]})},$t=n(42),en=n.n($t),tn=function(){var e=J().token;return Object(F.jsx)("div",{className:en.a.root,children:Object(F.jsxs)("div",{className:en.a.container,children:[Object(F.jsx)("h1",{className:en.a.header,children:"SIM: Page Not Found"}),Object(F.jsx)(i.b,{className:en.a.link,to:e?T.dashboard.main:T.home,children:"Go Back"})]})})},nn="Skyrim Inventory Management |",rn=[{pageId:"home",title:"".concat(nn," Home"),description:"Manage your inventory across multiple properties in Skyrim",jsx:Object(F.jsx)(ne,{}),path:T.home},{pageId:"login",title:"".concat(nn," Login"),description:"Log into Skyrim Inventory Management using your Google account",jsx:Object(F.jsx)(ie,{}),path:T.login},{pageId:"dashboard",title:"".concat(nn," Dashboard"),description:"Skyrim Inventory Management User Dashboard",jsx:Object(F.jsx)(Ke,{}),path:T.dashboard.main},{pageId:"games",title:"".concat(nn," Your Games"),description:"Manage Skyrim Games",jsx:Object(F.jsx)($,{children:Object(F.jsx)(wt,{})}),path:T.dashboard.games},{pageId:"shoppingLists",title:"".concat(nn," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",jsx:Object(F.jsx)($,{children:Object(F.jsx)(B,{children:Object(F.jsx)(Xt,{})})}),path:T.dashboard.shoppingLists}],on=function(){return Object(F.jsxs)(l.d,{children:[rn.map((function(e){var t=e.pageId,n=e.title,r=e.description,o=e.jsx,a=e.path;return Object(F.jsxs)(l.b,{exact:!0,path:a,children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:n}),Object(F.jsx)("meta",{name:"description",content:r})]}),Object(F.jsx)(U,{children:o})]},t)})),Object(F.jsxs)(l.b,{children:[Object(F.jsxs)(c.a,{children:[Object(F.jsx)("html",{lang:"en"}),Object(F.jsx)("title",{children:"Skyrim Inventory Management | Page Not Found"}),Object(F.jsx)("meta",{name:"description",content:"Skyrim Inventory Management could not find the page you were looking for"})]}),Object(F.jsx)(U,{children:Object(F.jsx)(tn,{})})]},"notFound")]})},an=function(){return Object(F.jsx)(i.a,{basename:"",children:Object(F.jsx)(c.b,{children:Object(F.jsx)(on,{})})})};s.a.render(Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(an,{})}),document.getElementById("root"))}],[[82,1,2]]]);
//# sourceMappingURL=main.a11c21d9.chunk.js.map