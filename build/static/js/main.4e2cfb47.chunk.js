(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={root:"shoppingListItem_root__3NPoi",collapsed:"shoppingListItem_collapsed__3iHS2",toggle:"shoppingListItem_toggle__26aMd",fa:"shoppingListItem_fa__2P4jA",destroyIcon:"shoppingListItem_destroyIcon__2IBmH",header:"shoppingListItem_header__1qqqT",headerEditable:"shoppingListItem_headerEditable__2K0Ir",editIcons:"shoppingListItem_editIcons__2RoL7",quantity:"shoppingListItem_quantity__1ebyP",quantityContent:"shoppingListItem_quantityContent__24Ts-",icon:"shoppingListItem_icon__1pEqd",description:"shoppingListItem_description__mnU6z",collapsible:"shoppingListItem_collapsible__xa2wr",label:"shoppingListItem_label__2Bc9T",value:"shoppingListItem_value__9dWAL",button:"shoppingListItem_button__2k4QA"}},,,function(e,t,n){e.exports={root:"inventoryListItemCreateForm_root__bALut",collapsed:"inventoryListItemCreateForm_collapsed__1YF1j",triggerContainer:"inventoryListItemCreateForm_triggerContainer__3UFy6",triggerButton:"inventoryListItemCreateForm_triggerButton__3wmNI",form:"inventoryListItemCreateForm_form__cLaWB",fieldset:"inventoryListItemCreateForm_fieldset__2LDeb",input:"inventoryListItemCreateForm_input__1dmHW",label:"inventoryListItemCreateForm_label__30J22",submit:"inventoryListItemCreateForm_submit__3_S5j"}},function(e,t,n){e.exports={root:"shoppingListItemCreateForm_root__3B7YP",collapsed:"shoppingListItemCreateForm_collapsed__3j8GF",triggerContainer:"shoppingListItemCreateForm_triggerContainer__3IkQf",triggerButton:"shoppingListItemCreateForm_triggerButton__2HK_d",form:"shoppingListItemCreateForm_form__OXRXv",fieldset:"shoppingListItemCreateForm_fieldset__1ovw9",input:"shoppingListItemCreateForm_input__2Jire",label:"shoppingListItemCreateForm_label__qlamy",submit:"shoppingListItemCreateForm_submit__22fVU"}},,,,,,function(e,t,n){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",headerLinkLarge:"dashboardHeader_headerLinkLarge__ED8Xx",headerLinkSmall:"dashboardHeader_headerLinkSmall__3TlC1",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq",bp:"dashboardHeader_bp__2hS3f"}},,,function(e,t,n){e.exports={root:"inventoryListItem_root__1ZVQ4",collapsed:"inventoryListItem_collapsed__2SGFA",toggle:"inventoryListItem_toggle__3ny5q",fa:"inventoryListItem_fa__ruljD",destroyIcon:"inventoryListItem_destroyIcon__1dms9",header:"inventoryListItem_header__1vxa5",quantity:"inventoryListItem_quantity__3cq4c",quantityContent:"inventoryListItem_quantityContent__kNYhb",description:"inventoryListItem_description__3wFIr",collapsible:"inventoryListItem_collapsible__13hlu",label:"inventoryListItem_label__qDoRr",value:"inventoryListItem_value__c-oua",button:"inventoryListItem_button__1weBz"}},function(e,t,n){e.exports={root:"inventoryList_root__Vi_Ik",trigger:"inventoryList_trigger__3UD-J",form:"inventoryList_form__28w0J",icon:"inventoryList_icon__2TyFK",title:"inventoryList_title__31UtA",editIcons:"inventoryList_editIcons__1FgOO",fa:"inventoryList_fa__Ubi17",collapsible:"inventoryList_collapsible__2w_LK",emptyList:"inventoryList_emptyList__H9eyu"}},function(e,t,n){e.exports={root:"shoppingList_root__2O9FT",trigger:"shoppingList_trigger__WV4fR",form:"shoppingList_form__1GdfA",icon:"shoppingList_icon__3FP5H",editIcons:"shoppingList_editIcons__gL8DA",title:"shoppingList_title__3Gulc",fa:"shoppingList_fa__hRtKq",collapsible:"shoppingList_collapsible__2Zuq5",emptyList:"shoppingList_emptyList__289Te"}},,,function(e,t,n){e.exports={root:"gameCreateForm_root__1CiVs",slideToggleTrigger:"gameCreateForm_slideToggleTrigger__47o12",form:"gameCreateForm_form__2naYf",fieldset:"gameCreateForm_fieldset__iwI0Y",fieldsetDisabled:"gameCreateForm_fieldsetDisabled__255jN",input:"gameCreateForm_input__3HuYv",button:"gameCreateForm_button__1ePIs",buttonDisabled:"gameCreateForm_buttonDisabled__1bleU"}},function(e,t,n){e.exports={root:"game_root__Wpup7",header:"game_header__2XbBS",name:"game_name__GOPSp",editIcons:"game_editIcons__1kxuu",icon:"game_icon__WCvOa",description:"game_description__KgWbf"}},,function(e,t,n){e.exports={root:"gamesDropdown_root__1EUlO",header:"gamesDropdown_header__1Qiyc",input:"gamesDropdown_input__z9Zui",trigger:"gamesDropdown_trigger__3A35t",hidden:"gamesDropdown_hidden__7-IH5",dropdown:"gamesDropdown_dropdown__1kXtE"}},,function(e,t,n){e.exports={root:"dashboardLayout_root__2dfR_",title:"dashboardLayout_title__1yGVn",hr:"dashboardLayout_hr__29GgW",container:"dashboardLayout_container__3AwFx",headerContainer:"dashboardLayout_headerContainer__15_gZ",titleContainer:"dashboardLayout_titleContainer__3J8Iz"}},function(e,t,n){e.exports={root:"inventoryListCreateForm_root__YS9ZM",button:"inventoryListCreateForm_button__1Gumt",fieldset:"inventoryListCreateForm_fieldset__3fWUO",fieldsetDisabled:"inventoryListCreateForm_fieldsetDisabled__2bNHj",input:"inventoryListCreateForm_input__QLJRI",buttonDisabled:"inventoryListCreateForm_buttonDisabled__2Obwi"}},function(e,t,n){e.exports={root:"shoppingListCreateForm_root__iSFdV",button:"shoppingListCreateForm_button__2so-6",fieldset:"shoppingListCreateForm_fieldset__1BLSp",fieldsetDisabled:"shoppingListCreateForm_fieldsetDisabled__2V4n7",input:"shoppingListCreateForm_input__3hAzq",buttonDisabled:"shoppingListCreateForm_buttonDisabled__1USkv"}},,function(e,t,n){e.exports={root:"flashMessage_root__2sPxp",hidden:"flashMessage_hidden__cxPrx",content:"flashMessage_content__3iY0s",header:"flashMessage_header__Vx_Jr",messageList:"flashMessage_messageList__3V9SA",msg:"flashMessage_msg__3Wquk"}},function(e,t,n){e.exports={root:"modalForm_root__1vkew",fieldset:"modalForm_fieldset__3Y2iw",input:"modalForm_input__2W8sl",submit:"modalForm_submit__2K3FT",label:"modalForm_label__1q219"}},function(e,t,n){e.exports={noLists:"inventoryPageContent_noLists__1QGJ6",link:"inventoryPageContent_link__1PCIJ",inventoryList:"inventoryPageContent_inventoryList__uCqhc",loading:"inventoryPageContent_loading__10Uba",error:"inventoryPageContent_error__1saJh"}},function(e,t,n){e.exports={noLists:"shoppingListsPageContent_noLists__1yLrC",link:"shoppingListsPageContent_link__1seef",shoppingList:"shoppingListsPageContent_shoppingList__3X_TT",loading:"shoppingListsPageContent_loading__1Rj5P",error:"shoppingListsPageContent_error__3KtOr"}},,,,function(e,t,n){e.exports={root:"homePage_root__15tty",container:"homePage_container__3kQJo",header:"homePage_header__3EV45",login:"homePage_login__3ala0"}},function(e,t,n){e.exports={root:"loginPage_root__2Vf7z",errorMessage:"loginPage_errorMessage__8uTVC",container:"loginPage_container__2xdLK",button:"loginPage_button__1pDsX"}},,function(e,t,n){e.exports={root:"modal_root__QSEqe",content:"modal_content__1tQ-X",title:"modal_title__1efUU",subtitle:"modal_subtitle__4395I"}},function(e,t,n){e.exports={root:"gamesPage_root__oSBqG",noGames:"gamesPage_noGames__1CUVF",games:"gamesPage_games__2Q2dQ",loading:"gamesPage_loading__1Q0HG"}},function(e,t,n){e.exports={root:"listEditForm_root__-eP94",input:"listEditForm_input__1fVQ3",submit:"listEditForm_submit__167Mr",fa:"listEditForm_fa__4K6Td"}},function(e,t,n){e.exports={root:"notFoundPage_root__131Oh",container:"notFoundPage_container__38cw2",header:"notFoundPage_header__BhS9L",link:"notFoundPage_link__2cDdM"}},,,function(e,t,n){e.exports={button:"logoutDropdown_button__3hRUK",body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},,,,,,function(e,t,n){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},function(e,t,n){e.exports={root:"dashboardPage_root__oVxx1",loading:"dashboardPage_loading__2vZsl"}},function(e,t,n){e.exports={root:"loadingError_root__1A6gy",text:"loadingError_text__3auLV"}},,,,,,,function(e,t,n){e.exports={root:"gamesDropdownOption_root__1Itlx"}},,function(e,t,n){e.exports={root:"navigationCard_root__1-FD3"}},,,function(e,t,n){e.exports={createForm:"inventoryPage_createForm__1YVpo"}},function(e,t,n){e.exports={createForm:"shoppingListsPage_createForm__35weW"}},,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),s=n(60),a=n.n(s),i=(n(79),n(14)),c=n(39),l=n(8),u=n(6),d=n(3),h=n(90),m="https://sim-api.danascheider.com",f="_sim_google_session";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"401 Unauthorized";this.message=e,this.code=401,this.name="AuthorizationError",this.stack=(new Error).stack}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"404 Not Found";this.message=e,this.code=404,this.name="NotFoundError",this.stack=(new Error).stack}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"405 Method Not Allowed";this.message=e,this.code=405,this.name="MethodNotAllowedError",this.stack=(new Error).stack}b.prototype=new Error,p.prototype=new Error,g.prototype=new Error;var j,v={"Content-Type":"application/json"},O=function(e){return{Authorization:"Bearer ".concat(e)}},_=function(e){return Object(u.a)(Object(u.a)({},O(e)),v)},y=function(e,t,n){var r="".concat(m,"/games/").concat(t,"/shopping_lists"),o=JSON.stringify({shopping_list:n});return fetch(r,{method:"POST",headers:_(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))},x=function(e,t,n){var r="".concat(m,"/shopping_lists/").concat(t),o=JSON.stringify({id:t,shopping_list:n});return fetch(r,{method:"PATCH",headers:_(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");return e.json().then((function(t){return{status:e.status,json:t}}))}))},w=function(e,t){var n="".concat(m,"/shopping_lists/").concat(t);return fetch(n,{method:"DELETE",headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("Shopping list not found. Try refreshing the page to resolve this issue.");if(405===e.status)throw new g("Aggregate lists are managed automatically and cannot be deleted manually.");return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))},C=function(e,t,n){var r="".concat(m,"/shopping_lists/").concat(t,"/shopping_list_items");return fetch(r,{method:"POST",headers:_(e),body:JSON.stringify({shopping_list_item:n})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to create an item on a list that doesn't exist. Try refreshing to resolve this issue.");return e.json().then((function(t){return{status:e.status,json:t}}))}))},L=function(e,t,n){var r="".concat(m,"/inventory_lists/").concat(t),o=JSON.stringify({inventory_list:n});return fetch(r,{method:"PATCH",headers:_(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))},S=function(e){console.error("Error signing out: ",e.message)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(window.gapi&&window.gapi.auth2){var n=window.gapi.auth2.getAuthInstance();null!==n?n.then((function(){return n.disconnect()})).then(e,t):e()}e()},k=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK||!1,E=!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORYBOOK,I={home:"/",login:"/login",dashboard:{main:"/dashboard",games:"/dashboard/games",shoppingLists:"/dashboard/shopping_lists",inventory:"/dashboard/inventory"}},D=[I.dashboard.main,I.dashboard.games,I.dashboard.shoppingLists,I.dashboard.inventory],F=[I.dashboard.shoppingLists,I.dashboard.inventory],T=I,U=n(0),P="done",R=Object(r.createContext)(),A=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,s=Object(l.h)().pathname,a=Object(h.a)([f]),i=Object(d.a)(a,3),c=i[0],p=i[1],g=i[2],j=Object(r.useState)({type:"info",message:""}),v=Object(d.a)(j,2),_=v[0],y=v[1],x=Object(r.useState)(!1),w=Object(d.a)(x,2),C=w[0],L=w[1],S=Object(r.useState)({}),E=Object(d.a)(S,2),I=E[0],F=E[1],A=Object(r.useState)(!1),V=Object(d.a)(A,2),W=V[0],M=V[1],q=Object(r.useState)(o.profileData),Y=Object(d.a)(q,2),G=Y[0],z=Y[1],H=Object(r.useState)(o.shouldRedirectTo),B=Object(d.a)(H,2),K=B[0],J=B[1],Q=Object(r.useState)(o.profileLoadState||"loading"),Z=Object(d.a)(Q,2),X=Z[0],$=Z[1],ee=Object(r.useRef)(!0),te=Object(r.useCallback)((function(){return g(f)}),[g]),ne=Object(r.useCallback)((function(e){ee.current&&J(e),ee.current=!1}),[]),re=Object(r.useCallback)((function(){return D.indexOf(s)>-1}),[s]),oe=Object(r.useCallback)((function(){return!o.profileData&&c[f]&&re()}),[o.profileData,c,re]),se=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.login,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;N((function(){te(),t&&t(),re()&&ne(e)}))}),[te,re,ne]),ae=Object(u.a)({token:c[f],profileData:G,removeSessionCookie:te,setSessionCookie:function(e){return p(f,e)},profileLoadState:X,setShouldRedirectTo:ne,logOutAndRedirect:se,flashVisible:C,flashAttributes:_,setFlashVisible:L,setFlashAttributes:y,setModalVisible:M,setModalAttributes:F,modalVisible:W,modalAttributes:I},o);return Object(r.useEffect)((function(){re()&&!c[f]&&ee.current&&se()}),[re,c,se]),Object(r.useEffect)((function(){oe()?function(e){var t="".concat(m,"/users/current");return fetch(t,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(c[f]).then((function(e){var t=e.status,n=e.json;if(ee.current){if(200!==t)throw new Error("Internal Server Error: ",n.errors[0]);z(n),o.profileLoadState||$(P)}})).catch((function(e){se()})):k&&!o.profileLoadState&&$(P)}),[re,se,o.profileLoadState,oe,c]),Object(r.useEffect)((function(){return function(){return ee.current=!1}}),[]),Object(U.jsx)(R.Provider,{value:ae,children:K?Object(U.jsx)(l.a,{to:K}):t})},V=n(9),W="loading",M="done",q="error",Y=Object(r.createContext)(),G=function(e){var t=e.colorScheme,n=e.children;return Object(U.jsx)(Y.Provider,{value:t,children:n})},z=function(){return new URLSearchParams(Object(l.h)().search)},H=Object(r.createContext)(),B=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,s=z(),a=X(),i=a.token,c=a.logOutAndRedirect,l=a.setFlashAttributes,h=a.setFlashVisible,f=ee().games,j=Object(r.useMemo)((function(){return f&&f.length?parseInt(s.get("game_id")||f[0].id):null}),[f,s]),v=Object(r.useState)(o.shoppingLists||[]),L=Object(d.a)(v,2),S=L[0],N=L[1],k=Object(r.useState)(W),E=Object(d.a)(k,2),I=E[0],D=E[1],F=Object(r.useRef)(!1);o.shoppingLists&&(delete o.shoppingLists,F.current=!0);var P=Object(r.useRef)(!0),R=function(e,t){var n=e.list_items.find((function(e){return e.description.toLowerCase()===t.description.toLowerCase()})),r=Object(V.a)(e.list_items);if(n){var o=e.list_items.indexOf(n);r.splice(o,1,t)}else r.unshift(t);return e.list_items=r,Object(u.a)({},e)},A=function(e,t){var n=Object(u.a)({},e),r=Object(V.a)(e.list_items),o=e.list_items.find((function(e){return e.id===t})),s=e.list_items.indexOf(o);return r.splice(s,1),n.list_items=r,n},Y=Object(r.useCallback)((function(){i&&!F.current?function(e,t){var n="".concat(m,"/games/").concat(t,"/shopping_lists");return fetch(n,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(i,j).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," while fetching shopping lists: ").concat(n.errors):"Unknown error ".concat(t," while fetching shopping lists");throw new Error(r)}P.current&&(N(n),!o.shoppingListLoadingState&&D(M))})).catch((function(e){401===e.code?c(T.login,(function(){return P.current=!1})):404===e.code&&P.current?(l({type:"error",message:"We couldn't find the game you're looking for."}),h(!0),!o.shoppingListLoadingState&&D(q)):P.current&&!o.shoppingListLoadingState&&D(q)})):P.current&&!o.shoppingListLoadingState&&D(M)}),[i,o.shoppingListLoadingState,l,h,j,c]),G=Object(u.a)({shoppingLists:S,shoppingListLoadingState:I,performShoppingListUpdate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,o=n.onNotFound,s=n.onUnprocessableEntity,a=n.onUnauthorized,u=n.onInternalServerError;x(i,e,{title:t}).then((function(t){var n=t.status,o=t.json;if(P.current)if(200===n){var a=S.map((function(t){return t.id===e?o:t}));N(a),r&&r()}else{if(422!==n)throw new Error(o.errors?"Error ".concat(n," when updating shopping list: ").concat(o.errors):"Unknown error ".concat(n," when updating shopping list"));l({type:"error",message:o.errors,header:"".concat(o.errors.length," error(s) prevented your changes from being saved:")}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){P.current=!1,a&&a()})):404===e.code?(l({type:"error",message:"Oops! The shopping list you wanted to update could not be found. Try refreshing the page to fix this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListCreate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess,r=t.onUnauthorized,o=t.onNotFound,s=t.onUnprocessableEntity,a=t.onInternalServerError;y(i,j,{title:e}).then((function(e){var t=e.status,r=e.json;if(201===t){if(Array.isArray(r)&&2===r.length)N(r);else if(r&&"object"===typeof r){var o=Object(V.a)(S);o.splice(1,0,r),N(o)}l({type:"success",message:"Success! Your shopping list was created."}),n&&n()}else{if(422!==t)throw new Error(r.errors?"Error ".concat(t," while creating shopping list: ").concat(r.errors):"Unknown error ".concat(t," while creating shopping list"));l({type:"error",message:r.errors,header:"".concat(r.errors.length," error(s) prevented your shopping list from being created:")}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){P.current=!1,r&&r()})):404===e.code?(l({type:"error",message:"The game you wanted to create a shopping list for could not be found. Try refreshing the page to fix this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))},performShoppingListDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onSuccess,r=t.onUnauthorized,o=t.onNotFound,s=t.onInternalServerError;w(i,e).then((function(t){var r=t.status,o=t.json;if(P.current)if(204===r)N([]),l({type:"success",message:'Since it was the last list for this game, the "All Items" list has been deleted as well.',header:"Your shopping list has been deleted."}),n&&n();else{if(200!==r){var s=o.errors?"Error ".concat(r," when deleting shopping list: ").concat(o.errors):"Unknown error ".concat(r," when deleting shopping list ").concat(e);throw new Error(s)}var a=S.filter((function(t){return t.id!==e})).map((function(e){return!0===e.aggregate?o:e}));N(a),l({type:"success",message:"Your shopping list has been deleted."}),n&&n()}})).catch((function(e){401===e.code?c(T.login,(function(){P.current=!1,r&&r()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),s&&s())}))},performShoppingListItemCreate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,o=n.onNotFound,s=n.onUnprocessableEntity,a=n.onUnauthorized,u=n.onInternalServerError;C(i,e,t).then((function(e){var t=e.status,n=e.json;if(P.current)if(200===t||201===t){for(var o=Object(V.a)(S),a=function(e){var t=S.find((function(t){return t.id===n[e].list_id})),r=S.indexOf(t),s=R(t,n[e]);o[r]=s},i=0;i<n.length;i++)a(i);N(o),l(201===t?{type:"success",message:"Success! Your shopping list item has been created."}:{type:"success",message:"Success! Your new shopping list item has been combined with another item with the same description."}),r&&r()}else{if(422!==t){var c=n.errors?"Error ".concat(t," when creating shopping list item: ").concat(n.errors):"Unknown error ".concat(t," when creating shopping list item");throw new Error(c)}l({type:"error",message:n.errors,header:"".concat(n.errors.length," error(s) prevented your shopping list item from being created:")}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){P.current=!1,a&&a()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list you wanted to add an item to. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListItemUpdate:function(e,t,n){var r=n.onSuccess,o=n.onNotFound,s=n.onUnprocessableEntity,a=n.onUnauthorized,u=n.onInternalServerError;(function(e,t,n){var r="".concat(m,"/shopping_list_items/").concat(t);return fetch(r,{method:"PATCH",headers:_(e),body:JSON.stringify({shopping_list_item:n})}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to update a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g("Items on aggregate shopping lists cannot be updated through the API");return e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e,t).then((function(t){var n=t.status,o=t.json;if(P.current)if(200===n){for(var a=Object(V.a)(S),i=function(e){var t=S.find((function(t){return t.id===o[e].list_id})),n=R(t,o[e]),r=S.indexOf(t);a[r]=n},c=0;c<o.length;c++)i(c);N(a),l({type:"success",message:"Success! Your shopping list item was updated."}),r&&r()}else{if(422!==n){var u=o.errors?"Error ".concat(n," updating item ").concat(e,": ").concat(o.errors):"Unknown error ".concat(n," updating item ").concat(e);throw new Error(u)}l({type:"error",message:o.errors,header:"".concat(o.errors.length," error(s) prevented your shopping list item from being updated:")}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){P.current=!1,a&&a()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to update. Sorry! Try refreshing the page to solve this problem."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to update your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))},performShoppingListItemDestroy:function(e,t){var n=t.onSuccess,r=t.onNotFound,o=t.onUnauthorized,s=t.onInternalServerError;(function(e,t){var n="".concat(m,"/shopping_list_items/").concat(t);return fetch(n,{method:"DELETE",headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p("You tried to delete a list item that doesn't exist. Try refreshing to fix this issue.");if(405===e.status)throw new g;return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e).then((function(t){var r=t.status,o=t.json;if(200!==r&&204!==r){var s=o.errors?"Error ".concat(r," when deleting shopping list item ").concat(e,": ").concat(o.errors):"Unknown error ".concat(r," when deleting shopping list item ").concat(e);throw new Error(s)}var a,i=function(e){return S.find((function(t){return!!t.list_items.find((function(t){return t.id===e}))}))}(e),c=S.indexOf(i),l=Object(V.a)(S);if(200===r)a=R(S[0],o);else{var u=i.list_items.find((function(t){return t.id===e})),d=S[0].list_items.find((function(e){return e.description.toLowerCase()===u.description.toLowerCase()}));a=A(S[0],d.id)}var h=A(i,e);l[0]=a,l.splice(c,1,h),N(l),n&&n()})).catch((function(e){401===e.code?c(T.login,(function(){P.current=!1,o&&o()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the shopping list item you wanted to delete. Sorry! Try refreshing the page to solve this problem."}),r&&r()):(l({type:"error",message:"Something unexpected happened while trying to delete your shopping list item. Unfortunately, we don't know more than that yet. We're working on it!"}),s&&s())}))}},o);return Object(r.useEffect)((function(){j&&P.current&&Y()}),[Y,j]),Object(r.useEffect)((function(){return function(){return P.current=!1}}),[]),Object(U.jsx)(H.Provider,{value:G,children:t})},K=Object(r.createContext)(),J=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,s=z(),a=X(),i=a.token,c=a.logOutAndRedirect,l=a.setFlashAttributes,h=a.setFlashVisible,f=ee().games,g=Object(r.useMemo)((function(){return f&&f.length?parseInt(s.get("game_id")||f[0].id):null}),[f,s]),j=Object(r.useState)(o.inventoryLists||[]),v=Object(d.a)(j,2),y=v[0],x=v[1],w=Object(r.useState)(W),C=Object(d.a)(w,2),S=C[0],N=C[1],k=Object(r.useRef)(!1);o.inventoryLists&&(delete o.inventoryLists,k.current=!0);var E=Object(r.useRef)(!0),I=Object(r.useCallback)((function(){i&&!k.current&&function(e,t){var n="".concat(m,"/games/").concat(t,"/inventory_lists");return fetch(n,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(i,g).then((function(e){var t=e.status,n=e.json;if(E.current){if(200!==t){var r=n.errors?"Error ".concat(t," while fetching inventory lists: ").concat(n.errors):"Unknown error ".concat(t," while fetching inventory lists");throw new Error(r)}x(n),!o.inventoryListLoadingState&&N(M)}})).catch((function(e){401===e.code?c(T.login,(function(){return E.current=!1})):404===e.code&&E.current?(l({type:"error",message:"We couldn't find the game you're looking for."}),h(!0),!o.inventoryListLoadingState&&N(q)):E.current&&!o.inventoryListLoadingState&&N(q)}))}),[i,c,l,h,o.inventoryListLoadingState,g]),D=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onNotFound,o=t.onUnprocessableEntity,s=t.onUnauthorized,a=t.onInternalServerError;(function(e,t,n){var r="".concat(m,"/games/").concat(t,"/inventory_lists"),o=JSON.stringify({inventory_list:n});return fetch(r,{method:"POST",headers:_(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,g,{title:e}).then((function(e){var t=e.status,r=e.json;if(201===t){if(Array.isArray(r)&&2===r.length)x(r);else if(r&&"object"===typeof r){var s=Object(V.a)(y);s.splice(1,0,r),x(s)}l({type:"success",message:"Success! Your inventory list was created."}),n&&n()}else{if(422!==t)throw new Error(r.errors?"Error ".concat(t," while creating inventory list: ").concat(r.errors):"Unknown error ".concat(t," while creating inventory list"));l({type:"error",message:r.errors,header:"".concat(r.errors.length," error(s) prevented your inventory list from being created:")}),o&&o()}})).catch((function(e){401===e.code?c(T.login,(function(){E.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"The game you wanted to create an inventory list for could not be found. Try refreshing the page to fix this issue."}),r&&r()):(l({type:"error",message:"Something unexpected happened while trying to create your shopping list. Unfortunately, we don't know more than that yet. We're working on it!"}),a&&a())}))}),[i,g,l,y,c]),F=Object(r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,o=n.onNotFound,s=n.onUnprocessableEntity,a=n.onUnauthorized,u=n.onInternalServerError;L(i,e,{title:t}).then((function(t){var n=t.status,o=t.json;if(E.current)if(200===n){var a=y.map((function(t){return t.id===e?o:t}));x(a),r&&r()}else{if(422!==n)throw new Error(o.errors?"Error ".concat(n," when updating inventory list: ").concat(o.errors):"Unknown error ".concat(n," when updating inventory list"));l({type:"error",message:o.errors,header:"".concat(o.errors.length," error(s) prevented your changes from beings saved:")}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){E.current=!1,a&&a()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the inventory list you wanted to update. Try refreshing the page to fix this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to update your inventory list. Unfortunately, we don't know more than that yet. We're working on it!"}),u&&u())}))}),[i,y,c,l]),P=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onNotFound,o=t.onInternalServerError,s=t.onUnauthorized;(function(e,t){var n="".concat(m,"/inventory_lists/").concat(t);return fetch(n,{method:"DELETE",headers:O(e)}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return 204===e.status?{status:e.status,json:null}:e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e).then((function(t){var r=t.status,o=t.json;if(E.current)if(204===r)x([]),l({type:"success",header:"Success! Your inventory list has been deleted.",message:'Since it was your last list for this game, the "All Items" list has been deleted as well.'}),n&&n();else{if(200!==r){o.errors?"Error ".concat(r," when deleting inventory list ").concat(e,": ").concat(o.errors):"Unknown error ".concat(r," when deleting inventory list ").concat(e);throw new Error}var s=y.filter((function(t){return t.id!==e})).map((function(e){return!0===e.aggregate?o:e}));x(s),l({type:"success",message:"Your inventory list has been deleted."}),n&&n()}})).catch((function(e){401===e.code?c(T.login,(function(){E.current=!1,s&&s()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the inventory list you wanted to delete. Sorry! Try refreshing the page to solve this issue."}),r&&r()):(l({type:"error",message:"Something unexpected happened while trying to delete your inventory list. Unfortunately, we don't know more than that yet. We're working on it!"}),o&&o())}))}),[i,y,c,l]),R=Object(r.useCallback)((function(e,t,n){var r=n.onSuccess,o=n.onNotFound,s=n.onUnprocessableEntity,a=n.onUnauthorized,d=n.onInternalServerError;(function(e,t,n){var r="".concat(m,"/inventory_lists/").concat(t,"/inventory_list_items"),o=JSON.stringify({inventory_list_item:n});return fetch(r,{method:"POST",headers:_(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(i,e,t).then((function(t){var n=t.status,o=t.json;if(E.current)if(200===n||201===n){for(var a=Object(V.a)(y),i=function(e){var t=y.find((function(t){return t.id===o[e].list_id})),n=y.indexOf(t),r=function(e,t){var n=e.list_items.find((function(e){return e.description.toLowerCase()===t.description.toLowerCase()})),r=Object(V.a)(e.list_items);if(n){var o=e.list_items.indexOf(n);r.splice(o,1,t)}else r.unshift(t);return e.list_items=r,Object(u.a)({},e)}(t,o[e]);a[n]=r},c=0;c<o.length;c++)i(c);x(a),l(201===n?{type:"success",message:"Success! Your inventory list item has been created."}:{type:"success",message:"Success! Your new inventory list item has been combined with another item with the same description."}),r&&r()}else{if(422!==n){var d=o.errors&&o.errors.length?"Error ".concat(n," creating list item for inventory list ").concat(e,": ").concat(o.errors):"Unknown error ".concat(n," creating list item for inventory list ").concat(e);throw new Error(d)}l({type:"error",header:"".concat(o.errors.length," error(s) prevented your list item from being created:"),message:o.errors}),s&&s()}})).catch((function(e){401===e.code?c(T.login,(function(){E.current=!1,a&&a()})):404===e.code?(l({type:"error",message:"Oops! We couldn't find the inventory list you wanted to add an item to. Sorry! Try refreshing the page to solve this issue."}),o&&o()):(l({type:"error",message:"Something unexpected happened while trying to create your inventory list item. Unfortunately, we don't know more than that yet. We're working on it!"}),d&&d())}))}),[i,y,c,l]),A=Object(u.a)({inventoryLists:y,inventoryListLoadingState:S,performInventoryListCreate:D,performInventoryListUpdate:F,performInventoryListDestroy:P,performInventoryListItemCreate:R},o);return Object(r.useEffect)((function(){g&&E.current&&I()}),[I,g]),Object(r.useEffect)((function(){return function(){return E.current=!1}}),[]),Object(U.jsx)(K.Provider,{value:A,children:t})},Q=function(e,t){var n=Object(r.useContext)(e);if(!n)throw new Error(t);return n},Z=function(){return Q(Y,"useColorScheme must be used within a ColorProvider")},X=function(){return Q(R,"useAppContext must be used within a AppProvider")},$=function(){return Q(H,"useShoppingListsContext must be used within a ShoppingListsProvider")},ee=function(){return Q(ne,"useGamesContext must be used within a GamesProvider")},te=function(){return Q(K,"useInventoryListsContext must be used within an InventoryListsProvider")},ne=Object(r.createContext)(),re=function(e){var t=e.children,n=e.overrideValue,o=void 0===n?{}:n,s=X(),a=s.token,i=s.logOutAndRedirect,c=s.setFlashAttributes,l=Object(r.useState)(o.games||[]),h=Object(d.a)(l,2),f=h[0],g=h[1],j=Object(r.useState)(o.gameLoadingState||W),v=Object(d.a)(j,2),y=v[0],x=v[1],w=Object(r.useRef)(!0),C=Object(r.useRef)(!1);o.games&&(delete o.games,C.current=!0);var L=Object(r.useCallback)((function(){a&&!C.current&&function(e){var t="".concat(m,"/games");return fetch(t,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))}(a).then((function(e){var t=e.status,n=e.json;if(200!==t){var r=n.errors?"Error ".concat(t," when fetching games: ").concat(n.errors):"No game data returned from SIM";throw new Error(r)}w.current&&(g(n),!o.gameLoadingState&&x(M))})).catch((function(e){401===e.code?i(T.login,(function(){return w.current=!1})):w.current&&x(q)}))}),[a,o.gameLoadingState,i]),S=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onUnprocessableEntity,o=t.onUnauthorized,s=t.onInternalServerError;(function(e,t){var n="".concat(m,"/games"),r=JSON.stringify({game:t});return fetch(n,{method:"POST",headers:_(e),body:r}).then((function(e){if(401===e.status)throw new b;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(a,e).then((function(e){var t=e.status,o=e.json;if(201===t){if(w.current){var s=Object(V.a)(f);s.unshift(o),g(s)}c({type:"success",message:"Success! Your game has been created."}),n&&n()}else{if(422!==t)throw new Error(o.errors?"Error ".concat(t," when creating game: ").concat(o.errors):"Unknown error ".concat(t," when creating game"));c({type:"error",header:"".concat(o.errors.length," error(s) prevented your game from being created:"),message:o.errors}),r&&r()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,o&&o()})):(w.current&&c({type:"error",message:"Something unexpected happened while creating your game. Unfortunately, we don't know more than that yet. We're working on it!"}),s&&s())}))}),[a,f,c,i]),N=Object(r.useCallback)((function(e,t,n){var r=n.onSuccess,o=n.onUnprocessableEntity,s=n.onNotFound,l=n.onInternalServerError,u=n.onUnauthorized;(function(e,t,n){var r="".concat(m,"/games/").concat(t),o=JSON.stringify({game:n});return fetch(r,{method:"PATCH",headers:_(e),body:o}).then((function(e){if(401===e.status)throw new b;if(404===e.status)throw new p;return e.json().then((function(t){return{status:e.status,json:t}}))}))})(a,e,t).then((function(t){var n=t.status,s=t.json;if(200===n){if(w.current){var a=f.map((function(t){return parseInt(t.id)===parseInt(e)?s:t}));g(a),c({type:"success",message:"Success! Your game has been updated."})}r&&r()}else{if(422!==n)throw new Error(s.errors?"Error ".concat(n," while updating game: ").concat(s.errors):"Error ".concat(n," while updating game"));w.current&&c({type:"error",message:s.errors,header:"".concat(s.errors.length," error(s) prevented your game from being updated:")}),o&&o()}})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,u&&u()})):404===e.code?(c({type:"error",message:"Oops! We couldn't find the game you wanted to update. Sorry! Try refreshing the page to solve this problem."}),s&&s()):(c({type:"error",message:"Something unexpected happened while trying to update your game. Unfortunately, we don't know more than that yet. We're working on it!"}),l&&l())}))}),[a,f,c,i]),k=Object(r.useCallback)((function(e,t){var n=t.onSuccess,r=t.onUnauthorized,o=t.onInternalServerError;(function(e,t){var n="".concat(m,"/games/").concat(t);return fetch(n,{method:"DELETE",headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e}))})(a,e).then((function(t){if(204!==t.status&&404!==t.status||!w.current)throw new Error("Error ".concat(t.status," while destroying game ").concat(e));var r=f.find((function(t){return parseInt(t.id)===parseInt(e)})),o=f.indexOf(r),s=Object(V.a)(f);s.splice(o,1),g(s),c({type:"success",message:"Your game has been deleted."}),n&&n()})).catch((function(e){401===e.code?i(T.login,(function(){w.current=!1,r&&r()})):(w.current&&c({type:"error",message:"Something unexpected happened while trying to delete your game. Unfortunately, we don't know more than that yet. We're working on it!"}),o&&o())}))}),[a,f,i,c]),E=Object(u.a)({games:f,gameLoadingState:y,performGameCreate:S,performGameUpdate:N,performGameDestroy:k},o);return Object(r.useEffect)((function(){w.current&&L()}),[L]),Object(r.useEffect)((function(){return function(){return w.current=!1}}),[]),Object(U.jsx)(ne.Provider,{value:E,children:t})},oe=n(41),se=n.n(oe),ae=function(){var e=X(),t=e.token,n=e.setShouldRedirectTo,o=e.removeSessionCookie,s=Object(r.useRef)(!0),a=Object(r.useCallback)((function(){t&&!E&&function(e){var t="".concat(m,"/auth/verify_token");return fetch(t,{headers:O(e)}).then((function(e){if(401===e.status)throw new b;return e}))}(t).then((function(e){return 500===e.status?e.json():null})).then((function(e){if(e)throw new Error("Internal Server Error: ",e.errors[0]);n(T.dashboard.main),s.current=!1})).catch((function(e){N((function(){return o()}))}))}),[t,o,n]);return Object(r.useEffect)((function(){return a(),function(){return s.current=!1}}),[t,a]),Object(U.jsx)("div",{className:se.a.root,children:Object(U.jsxs)("div",{className:se.a.container,children:[Object(U.jsx)("h1",{className:se.a.header,children:"Skyrim Inventory Management"}),Object(U.jsx)(i.b,{className:se.a.login,to:T.login,children:"Log in with Google"})]})})},ie=n(64),ce=n.n(ie),le=n(42),ue=n.n(le),de=function(){var e=X(),t=e.token,n=e.setSessionCookie,o=e.removeSessionCookie,s=e.setShouldRedirectTo,a=Object(r.useState)(null),i=Object(d.a)(a,2),c=i[0],l=i[1],u=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return u.current=!1}})),Object(U.jsxs)("div",{className:ue.a.root,children:[c?Object(U.jsx)("p",{className:ue.a.errorMessage,children:c}):null,Object(U.jsx)("div",{className:ue.a.container,children:Object(U.jsx)(ce.a,{className:ue.a.button,clientId:"891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",buttonText:"Log In With Google",onSuccess:function(e){var t=e.tokenId;t&&(n(t),s(T.dashboard.main),u.current=!1)},onFailure:function(e){t&&o(),l("Something went wrong! Please try logging in again.")},redirectUri:"".concat("https://sim.danascheider.com").concat(T.dashboard.main)})})]})},he={schemeColorDarkest:"#ffbf00",schemeColorDark:"#ffcb32",schemeColorLight:"#ffd866",schemeColorLightest:"#fff2cc",hoverColorDark:"#e5ab00",hoverColorLight:"#ffc519",hoverColorLightest:"#ffebb2",textColorPrimary:"#4c3900",textColorSecondary:"#4c3900",textColorTertiary:"#7f5700",borderColor:"#cc9800"},me={schemeColorDarkest:"#e83f6f",schemeColorDark:"#ec658b",schemeColorLight:"#f18ba8",schemeColorLightest:"#fad8e2",hoverColorDark:"#d03863",hoverColorLight:"#ea527d",hoverColorLightest:"#f5b2c5",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#451221",borderColor:"#b93258"},fe={schemeColorDarkest:"#2274a5",schemeColorDark:"#4e8fb7",schemeColorLight:"#7aabc9",schemeColorLightest:"#d2e3ed",hoverColorDark:"#1e6894",hoverColorLight:"#3881ae",hoverColorLightest:"#bcd5e4",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#0d2e42",borderColor:"#1b5c84"},be={schemeColorDarkest:"#00a323",schemeColorDark:"#32b54e",schemeColorLight:"#66c77b",schemeColorLightest:"#ccecd3",hoverColorDark:"#00921f",hoverColorLight:"#19ac38",hoverColorLightest:"#b2e3bd",textColorPrimary:"#fff",textColorSecondary:"#fff",textColorTertiary:"#00410e",borderColor:"#00821c"},pe={schemeColorDarkest:"#20e2e9",schemeColorDark:"#62eaef",schemeColorLight:"#8ff0f4",schemeColorLightest:"#d2f9fa",hoverColorDark:"#11cbd1",hoverColorLight:"#4ce7ed",hoverColorLightest:"#bcf6f8",textColorPrimary:"#094345",textColorSecondary:"#094345",textColorTertiary:"#094345",borderColor:"#19b4ba"},ge=[he,me,fe,be,pe],je=n.p+"static/media/googleIcon.9432a66b.svg",ve=n(50),Oe=n.n(ve),_e=function(e){var t=e.className,n=e.logOutFunction,o=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return o.current=!1}})),Object(U.jsx)("div",{className:t,children:Object(U.jsx)("button",{className:Oe.a.button,onClick:function(e){e.preventDefault(),n((function(){o.current=!1}))},children:Object(U.jsx)("div",{className:Oe.a.body,children:Object(U.jsxs)("div",{className:Oe.a.googleLogout,children:[Object(U.jsx)("img",{src:je,alt:"Google logo"}),"Log Out With Google"]})})})})},ye=n.p+"static/media/anonymousAvatar.36d1acc1.jpg",xe=n(17),we=n.n(xe),Ce=function(){var e=X(),t=e.profileData,n=e.logOutAndRedirect,o=Object(r.useState)(!1),s=Object(d.a)(o,2),a=s[0],c=s[1],l=Object(r.useRef)(!0),u=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!1),n(T.home,(function(){e&&e(),l.current=!1}))}),[n]);return Object(r.useEffect)((function(){return function(){return l.current=!1}}),[]),Object(U.jsx)("div",{className:we.a.root,children:Object(U.jsxs)("div",{className:we.a.bar,children:[Object(U.jsx)("span",{className:we.a.headerContainer,children:Object(U.jsxs)("h1",{className:we.a.header,children:[Object(U.jsxs)(i.b,{className:we.a.headerLinkLarge,to:T.dashboard.main,children:["Skyrim Inventory",Object(U.jsx)("br",{className:we.a.bp})," Management"]}),Object(U.jsx)(i.b,{className:we.a.headerLinkSmall,to:T.dashboard.main,children:"S. I. M."})]})}),t?Object(U.jsxs)("button",{className:we.a.profile,onClick:function(){return c(!a)},children:[Object(U.jsxs)("div",{className:we.a.profileText,children:[Object(U.jsx)("p",{className:we.a.textTop,children:t.name}),Object(U.jsx)("p",{className:we.a.textBottom,children:t.email})]}),Object(U.jsx)("img",{className:we.a.avatar,src:t.image_url||ye,alt:"User avatar",referrerPolicy:"no-referrer"})]}):null,Object(U.jsx)(_e,{className:a?we.a.logoutDropdown:we.a.hidden,logOutFunction:u})]})})},Le=n(5),Se=n(4),Ne=n.n(Se),ke=n(13),Ee=n(23),Ie=n(65),De=n.n(Ie),Fe=function(e){var t=e.name,n=e.className,r=e.onClick,o=e.onKeyDown,s=e.ariaSelected;return Object(U.jsx)("li",{className:Ne()(De.a.root,n),onClick:r,onKeyDown:o,role:"option",tabIndex:0,"aria-selected":s,children:t.length>24?"".concat(t.substring(0,23),"..."):t})},Te=n(28),Ue=n.n(Te),Pe=function(){var e=Object(l.g)(),t=z(),n=X().setFlashVisible,o=ee(),s=o.games,a=o.gameLoadingState,i=o.performGameCreate,c=Object(r.useState)(null),u=Object(d.a)(c,2),h=u[0],m=u[1],f=Object(r.useState)(!1),b=Object(d.a)(f,2),p=b[0],g=b[1],j=Object(r.useState)(""),v=Object(d.a)(j,2),O=v[0],_=v[1],y=Object(r.useRef)(null),x=function(){return g(!0)},w=Object(r.useCallback)((function(){return g(!1)}),[g]),C={"--button-background-color":fe.schemeColorDarkest,"--button-hover-color":fe.hoverColorDark,"--button-text-color":fe.textColorPrimary,"--button-border-color":fe.borderColor},L=Object(r.useCallback)((function(t){m(t),_(t.name);var n=new URLSearchParams("game_id=".concat(t.id));e.push({search:n.toString()}),w()}),[e,w]),S=function(e){return!(h&&!s.length)&&(h?h.id===e:e===s[0].id)};return Object(r.useEffect)((function(){var e=parseInt(t.get("game_id"));if(s.length&&e){if(h&&h.id===e)return;var n=e?s.find((function(t){return t.id===e})):s[0];L(n||s[0])}else s.length&&!h&&L(s[0])}),[L,h,s,t]),Object(r.useEffect)((function(){var t=function(t){if(y.current!==t.relatedTarget&&!y.current.contains(t.relatedTarget)){w();var n=s.find((function(e){return e.name.toLowerCase()===O.toLowerCase()}));if(n){m(n),_(n.name);var r=new URLSearchParams("game_id=".concat(n.id));e.push({search:r.toString()})}else h&&_(h.name)}};return document.addEventListener("focusout",t),function(){document.removeEventListener("focusout",t)}}),[s,m,h,_,O,e,w]),Object(U.jsxs)("div",{ref:y,className:Ue.a.root,style:C,"data-testid":"games-dropdown",children:[Object(U.jsxs)("div",{className:Ue.a.header,role:"combobox","aria-haspopup":"listbox","aria-owns":"gamesListbox","aria-controls":"gamesListbox","aria-expanded":p,children:[Object(U.jsx)("input",{className:Ne()(Ue.a.input,"focusable"),type:"text",disabled:"done"!==a,value:O,onChange:function(e){return _(e.currentTarget.value)},placeholder:"No games available","aria-autocomplete":"list","aria-multiline":!1,"aria-controls":"gamesListbox",onFocus:x,onClick:x,onKeyDown:function(t){if("Enter"===t.key){var r=s.find((function(e){return e.name.toLowerCase()===t.target.value.toLowerCase()}));if(r)L(r);else i({name:O},{onSuccess:function(){e.push({search:""}),m(null),t.target.blur()},onUnprocessableEntity:function(){n(!0),t.target.blur()},onInternalServerError:function(){n(!0),t.target.blur()}})}else if("ArrowUp"===t.key){t.preventDefault();var o=document.getElementsByClassName("focusable");o[o.length-1].focus()}else"ArrowDown"===t.key?(t.preventDefault(),document.getElementsByClassName("focusable")[1].focus()):"Escape"===t.key&&w()}}),Object(U.jsx)("button",{className:Ue.a.trigger,onClick:function(){return g(!p)},onKeyDown:function(e){"ArrowDown"===e.key&&(e.preventDefault(),document.getElementsByClassName("focusable")[1].focus())},disabled:"done"!==a,"data-testid":"games-dropdown-trigger",children:Object(U.jsx)(ke.a,{className:Ue.a.fa,icon:Ee.a})})]}),Object(U.jsx)("ul",{id:"gamesListbox",className:Ne()(Ue.a.dropdown,Object(Le.a)({},Ue.a.hidden,!p||!s.length)),role:"listbox",children:s.map((function(e,t){var n=e.id,r=e.name;return Object(U.jsx)(Fe,{className:"focusable",onClick:function(){return L({id:n,name:r})},onKeyDown:function(e){if("Enter"===e.key||" "===e.key)L({id:n,name:r});else if("ArrowUp"===e.key){e.preventDefault();var t=Object(V.a)(document.getElementsByClassName("focusable")),o=t.indexOf(e.target);t[o-1].focus()}else if("ArrowDown"===e.key){e.preventDefault();var s=Object(V.a)(document.getElementsByClassName("focusable")),a=s.indexOf(e.target);s[a<s.length-1?a+1:0].focus()}},ariaSelected:S(n),name:r},"".concat(r.toLowerCase().replace(" ","_"),"-").concat(n))}))})]})},Re=n(30),Ae=n.n(Re),Ve=function(e){var t=e.title,n=e.includeGameSelect,r=void 0!==n&&n,o=e.children;return Object(U.jsxs)("div",{className:Ae.a.root,children:[Object(U.jsxs)("div",{className:Ae.a.container,children:[t?Object(U.jsxs)("div",{className:Ae.a.headerContainer,children:[Object(U.jsxs)("div",{className:Ae.a.titleContainer,children:[Object(U.jsx)("h2",{className:Ae.a.title,children:t}),r&&Object(U.jsx)(Pe,{})]}),Object(U.jsx)("hr",{className:Ae.a.hr})]}):null,o]}),Object(U.jsx)(Ce,{})]})},We=n(66),Me=n.n(We),qe=function(e){var t=e.className,n=e.type,r=void 0===n?"bubbles":n,o=e.color,s=e.height,a=e.width;return Object(U.jsx)(Me.a,{className:t,type:r,color:o,height:s,width:a})},Ye=n(67),Ge=n.n(Ye),ze=function(e){var t=e.href,n=e.children,r=Z(),o={"--background-color":r.schemeColorDarkest,"--hover-color":r.hoverColorDark,"--text-color":r.textColorPrimary};return Object(U.jsx)(i.b,{className:Ge.a.root,to:t,style:o,children:n})},He=n(56),Be=n.n(He),Ke=function(e){var t=e.cardArray;return Object(U.jsx)("div",{className:Be.a.root,children:t.map((function(e){var t=e.colorScheme,n=e.href,r=e.children,o=e.key;return Object(U.jsx)("div",{className:Be.a.card,children:Object(U.jsx)(G,{colorScheme:t,children:Object(U.jsx)(ze,{href:n,children:r})})},o)}))})},Je=n(57),Qe=n.n(Je),Ze=[{colorScheme:he,href:T.dashboard.games,children:"Your Games",key:"your-games"},{colorScheme:me,href:T.dashboard.shoppingLists,children:"Your Shopping Lists",key:"your-shopping-lists"},{colorScheme:fe,href:T.dashboard.inventory,children:"Your Inventory",key:"your-inventory"},{colorScheme:be,href:"#",children:"Nav Link 4",key:"nav-link-4"},{colorScheme:pe,href:"#",children:"Nav Link 5",key:"nav-link-5"}],Xe=function(){var e=X(),t=e.token,n=e.profileLoadState,o=e.setShouldRedirectTo,s=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return t||E||(o(T.login),s.current=!1),function(){return s.current=!1}}),[t,o]),Object(U.jsx)(Ve,{children:"done"===n?Object(U.jsx)("div",{className:Qe.a.root,children:Object(U.jsx)(Ke,{cardArray:Ze})}):Object(U.jsx)(qe,{className:Qe.a.loading,type:"bubbles",color:he.schemeColorDarkest,height:"15%",width:"15%"})})},$e=n(34),et=n.n($e),tt=(j={},Object(Le.a)(j,"success","#329932"),Object(Le.a)(j,"info","#4e6d8e"),Object(Le.a)(j,"error","#cc0000"),Object(Le.a)(j,"warning","#b0a723"),j),nt=function(){var e=X(),t=e.flashVisible,n=e.setFlashVisible,o=e.flashAttributes,s=o.type,a=o.header,i=o.message,c={"--text-color":tt[s]};return Object(r.useEffect)((function(){t&&setTimeout((function(){n(!1)}),4e3)}),[t,n]),Object(U.jsxs)("div",{className:Ne()(et.a.root,Object(Le.a)({},et.a.hidden,!t)),style:c,children:[a&&Object(U.jsx)("p",{className:et.a.header,children:a}),"string"===typeof i?i:Object(U.jsx)("ul",{className:et.a.messageList,children:i.map((function(e,t){return Object(U.jsx)("li",{className:et.a.msg,children:e},"message-".concat(t))}))})]})},rt=n(15),ot=n(27),st=n(49),at=n(44),it=n.n(at),ct=function(e){var t=e.children,n=e.title,o=e.subtitle,s=X().setModalVisible,a=Object(r.useRef)(null),i=Object(r.useRef)(!0),c=Object(r.useCallback)((function(e){return a.current&&(a.current===e||a.current.contains(e))}),[]),l=Object(r.useCallback)((function(e){("click"===e.type&&!c(e.target)||"keydown"===e.type&&"Escape"===e.key)&&(s(!1),i.current=!1)}),[c,s]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[l]),Object(r.useEffect)((function(){return document.getElementsByTagName("body")[0].classList.add("modal-open"),function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),i.current=!1}}),[]),Object(U.jsx)("div",{role:"dialog",className:it.a.root,onClick:l,children:Object(U.jsxs)("div",{ref:a,className:it.a.content,children:[Object(U.jsx)("h3",{className:it.a.title,children:n}),o&&Object(U.jsx)("p",{className:it.a.subtitle,children:o}),t]})})},lt=["title","subtitle"],ut=function(e){return function(t){var n=t.title,r=t.subtitle,o=void 0===r?null:r,s=Object(st.a)(t,lt);return Object(U.jsx)(ct,{title:n,subtitle:o,children:Object(U.jsx)(e,Object(u.a)({},s))})}},dt=n(35),ht=n.n(dt),mt=["tag","label","name"],ft=function(e){var t=e.modelName,n=e.buttonLabel,o=e.onSubmit,s=e.fields,a=e.buttonColor,i=void 0===a?null:a,c=Object(r.useRef)(!0),l=Object(r.useRef)(null),d=Object(r.useRef)(null),h=Object(r.useRef)(i||ge[Math.floor(Math.random()*ge.length)]),m={"--button-background-color":h.current.schemeColorDarkest,"--button-text-color":h.current.textColorPrimary,"--button-hover-color":h.current.hoverColorDark,"--button-border-color":h.current.borderColor};return Object(r.useEffect)((function(){return d.current&&d.current.focus(),function(){return c.current=!1}}),[]),Object(U.jsxs)("form",{ref:l,className:ht.a.root,style:m,onSubmit:o,"data-testid":"".concat(t,"-form"),children:[s.map((function(e,n){var r=e.tag,o=e.label,s=e.name,a=Object(st.a)(e,mt);return 0===n&&(a.ref=d),Object(U.jsxs)("fieldset",{className:ht.a.fieldset,children:[Object(U.jsx)("label",{className:ht.a.label,htmlFor:s,children:o}),Object(U.jsx)(r,Object(u.a)({className:ht.a.input,name:s},a))]},"".concat(t,"-").concat(s))})),Object(U.jsx)("button",{className:ht.a.submit,type:"submit",children:n})]})},bt=[{name:"name",tag:"input",label:"Name",type:"text",placeholder:"Name",inputMode:"text",pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Name can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"},{name:"description",tag:"input",label:"Description",type:"text",placeholder:"Description",inputMode:"text"}],pt=function(e){var t=e.type,n=e.currentAttributes,o=void 0===n?{}:n,s=X(),a=s.setFlashVisible,i=s.setModalVisible,c=ee(),d=c.performGameCreate,h=c.performGameUpdate,m=Object(l.g)(),f=Object(r.useRef)(!0),b=bt.map((function(e){return o[e.name]?Object(u.a)({defaultValue:o[e.name]},e):e}));return Object(r.useEffect)((function(){return function(){return f.current=!1}}),[]),Object(U.jsx)(ft,{modelName:"game",buttonLabel:"create"===t?"Create Game":"Update Game",onSubmit:function(e){e.preventDefault(),a(!1);var n=function(){a(!0),i(!1),f.current=!1},r={onUnprocessableEntity:n,onInternalServerError:n,onNotFound:n,onUnauthorized:function(){return f.current=!1}},s={name:e.target.elements.name.value,description:e.target.elements.description.value};for(var c in s)s[c]===o[c]&&delete s[c];if("create"===t){r.onSuccess=function(){F.indexOf(m.location.pathname)>-1?n():(i(!1),f.current=!1)},d(s,r)}else r.onSuccess=n,h(o.id,s,r)},fields:b})},gt=n(26),jt=n.n(gt),vt=function(e){var t=e.gameId,n=e.name,o=e.description,s=Object(r.useState)(0),a=Object(d.a)(s,2),i=a[0],c=a[1],l=X(),u=l.setFlashAttributes,h=l.setFlashVisible,m=l.setModalVisible,f=l.setModalAttributes,b=ee().performGameDestroy,p=Object(r.useRef)(!0),g=Object(r.useRef)(null),j=Object(r.useRef)(null),v=Object(r.useRef)(null);return Object(r.useEffect)((function(){return function(){return p.current=!1}}),[]),Object(U.jsxs)("div",{className:jt.a.root,children:[Object(U.jsxs)("div",{className:jt.a.header,onClick:function(e){var t,n;e&&(t=g,n=e.target,t.current&&(t.current===n||t.current.contains(n)))||c(Date.now)},children:[Object(U.jsxs)("span",{ref:g,className:jt.a.editIcons,children:[Object(U.jsx)("button",{ref:v,className:jt.a.icon,onClick:function(e){h(!1);window.confirm("Are you sure you want to delete this game? This cannot be undone. You will lose all data associated with the game you delete.")?b(t,{onSuccess:function(){h(!0),p.current=!1},onInternalServerError:function(){return p.current&&h(!0)}}):(u({type:"info",message:"Your game was not deleted."}),h(!0))},"data-testid":"game-destroy-icon",children:Object(U.jsx)(ke.a,{className:jt.a.fa,icon:Ee.c})}),Object(U.jsx)("button",{ref:j,className:jt.a.icon,onClick:function(){h(!1);var e={id:t,name:n,description:o},r=ut(pt);f({Tag:r,props:{title:"Edit Game",type:"edit",currentAttributes:e}}),m(!0)},"data-testid":"game-edit-icon",children:Object(U.jsx)(ke.a,{className:jt.a.fa,icon:ot.b})})]}),Object(U.jsx)("h3",{className:jt.a.name,children:n})]}),Object(U.jsx)(rt.a,{toggleEvent:i,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsx)("div",{className:jt.a.collapsible,ref:t,children:Object(U.jsx)("p",{className:jt.a.description,children:o||"This game has no description."})})}})]})},Ot=n(25),_t=n.n(Ot),yt=function(e){var t=e.disabled,n=X().setFlashVisible,o=ee().performGameCreate,s=Object(r.useState)(0),a=Object(d.a)(s,2),i=a[0],c=a[1],l=Object(r.useRef)(null),u=Object(r.useRef)(null),h=Object(r.useRef)(!0),m={"--button-color":fe.schemeColorDark,"--button-text-color":fe.textColorPrimary,"--button-border-color":fe.borderColor,"--button-hover-color":fe.hoverColorLight},f=function(){return h.current&&c(Date.now)},b=function(e){e.preventDefault(),n(!1);var t={name:e.target.elements.name.value,description:e.target.elements.description.value},r=function(){n(!0),l.current&&l.current.reset(),f()};o(t,{onSuccess:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r,onUnauthorized:function(){return h.current=!1}})};return Object(r.useEffect)((function(){return function(){return h.current=!1}}),[]),Object(U.jsxs)("div",{className:_t.a.root,style:m,children:[Object(U.jsx)("h3",{className:_t.a.slideToggleTrigger,onClick:f,children:"Create Game..."}),Object(U.jsx)(rt.a,{toggleEvent:i,onExpanded:function(){return u.current.focus()},collapsed:!0,children:function(e){var n=e.setCollapsibleElement;return Object(U.jsx)("div",{ref:n,children:Object(U.jsxs)("form",{ref:l,className:_t.a.form,"data-testid":"game-create-form",onSubmit:b,children:[Object(U.jsx)("fieldset",{className:Ne()(_t.a.fieldset,Object(Le.a)({},_t.a.fieldsetDisabled,t)),disabled:t,children:Object(U.jsx)("input",{ref:u,className:_t.a.input,type:"text",name:"name",placeholder:"Name","aria-label":"Name",pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Name can contain only alphanumeric characters, spaces, commas, hyphens, and apostrophes"})}),Object(U.jsx)("fieldset",{className:Ne()(_t.a.fieldset,Object(Le.a)({},_t.a.fieldsetDisabled,t)),disabled:t,children:Object(U.jsx)("input",{className:_t.a.input,type:"text",name:"description",placeholder:"Description","aria-label":"Description"})}),Object(U.jsx)("button",{className:Ne()(_t.a.button,Object(Le.a)({},_t.a.buttonDisabled,t)),type:"submit",disabled:t,children:"Create"})]})})}})]})},xt=n(58),wt=n.n(xt),Ct=function(e){var t=e.modelName;return Object(U.jsx)("div",{className:wt.a.root,children:Object(U.jsxs)("p",{className:wt.a.text,children:["There was an error loading your ",t,". It may have been on our end. We're sorry!"]})})},Lt=n(45),St=n.n(Lt),Nt=function(){var e=X(),t=e.modalVisible,n=e.modalAttributes,r=ee(),o=r.games,s=r.gameLoadingState;return Object(U.jsxs)(Ve,{title:"Your Games",children:[t&&Object(U.jsx)(n.Tag,Object(u.a)({},n.props)),Object(U.jsxs)("div",{className:St.a.root,children:[Object(U.jsx)(nt,{}),o&&0===o.length&&s===M&&Object(U.jsx)("p",{className:St.a.noGames,children:"You have no games."}),s===M&&Object(U.jsx)(yt,{disabled:s===W||s===q}),o&&o.length>0&&s===M&&Object(U.jsx)("div",{className:St.a.games,children:o.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(U.jsx)(vt,{gameId:t,name:n,description:r},n)}))}),s===W&&Object(U.jsx)(qe,{type:"bubbles",className:St.a.loading,color:he.schemeColorDarkest,height:"15%",width:"15%"}),s===q&&Object(U.jsx)(Ct,{modelName:"games"})]})]})},kt=n(31),Et=n.n(kt),It=function(e){var t=e.disabled,n=X().setFlashVisible,o=te().performInventoryListCreate,s=Object(r.useState)(""),a=Object(d.a)(s,2),i=a[0],c=a[1],l={"--button-color":fe.schemeColorDark,"--button-text-color":fe.textColorPrimary,"--button-border-color":fe.borderColor,"--button-hover-color":fe.hoverColorLight};return Object(U.jsx)("div",{className:Et.a.root,style:l,children:Object(U.jsx)("form",{"data-testid":"inventory-list-create-form",onSubmit:function(e){e.preventDefault(),n(!1);var t=e.target.elements.title.value,r=function(){c(""),n(!0)};o(t,{onSuccess:r,onNotFound:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r})},children:Object(U.jsxs)("fieldset",{className:Ne()(Et.a.fieldset,Object(Le.a)({},Et.a.fieldsetDisabled,t)),disabled:t,children:[Object(U.jsx)("input",{className:Et.a.input,type:"text",name:"title",placeholder:"Title","aria-label":"Title",value:i,onChange:function(e){var t=e.currentTarget.value;c(t)},pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"}),Object(U.jsx)("button",{className:Ne()(Et.a.button,Object(Le.a)({},Et.a.buttonDisabled,t)),type:"submit",children:"Create"})]})})})},Dt=["a","an","the","and","but","for","at","by","from","with","to","in","of","into","onto","on","without","within"],Ft=function(e){if(!e)return"";var t=e.toLowerCase().split(" ");return t.map((function(e,n){return Dt.indexOf(e)>-1&&-1===[1,t.length].indexOf(n)?e:function(e){var t=e[0].toUpperCase();return"".concat(t).concat(e.slice(1))}(e)})).join(" ")},Tt=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],s=Object(r.useRef)(null),a=Object(r.useRef)(null),i=function(e){return a.current&&a.current.contains(e)},c=function(e){"Escape"===e.key&&o(!1)},l=function(e){var t;t=e.target,s.current&&s.current.contains(t)||i(e.target)?i(e.target)&&o(!n):o(!1)};return Object(r.useEffect)((function(){return document.addEventListener("keydown",c,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",c,!0),document.removeEventListener("click",l,!0)}})),{componentRef:s,triggerRef:a,isComponentVisible:n,setIsComponentVisible:o}},Ut=n(72),Pt=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(r.useLayoutEffect)((function(){s(e.current.getBoundingClientRect())}),[e]),Object(Ut.a)(e,(function(e){return s(e.contentRect)})),o},Rt=n(46),At=n.n(Rt),Vt=function(e){var t=e.formRef,n=e.maxTotalWidth,o=e.className,s=e.title,a=e.onSubmit,i=function(e){var t=document.createElement("canvas").getContext("2d");t.font="21px Quattrocento Sans";var r=b||n,o=1.1*t.measureText(e).width;return Math.min(o,r)},c=Object(r.useState)(s),l=Object(d.a)(c,2),u=l[0],h=l[1],m=Object(r.useState)(null),f=Object(d.a)(m,2),b=f[0],p=f[1],g=Object(r.useState)("".concat(i(s),"px")),j=Object(d.a)(g,2),v=j[0],O=j[1],_=Object(r.useRef)(!0),y=Object(r.useRef)(null),x=Object(r.useRef)(null),w=Z(),C={"--scheme-color":w.schemeColorDarkest,"--text-color":w.textColorPrimary,"--border-color":w.borderColor,"--icon-hover-color":w.schemeColorLightest};return Object(r.useEffect)((function(){return y.current.focus(),function(){return _.current=!1}}),[]),Object(r.useEffect)((function(){if(_.current)return x.current?void p(n-x.current.offsetWidth):p(n)}),[n]),Object(U.jsxs)("form",{className:Ne()(o,At.a.root),style:C,ref:t,onSubmit:a,children:[Object(U.jsx)("input",{className:At.a.input,onClick:function(e){return e.stopPropagation()},onChange:function(e){if(_.current){var t=e.currentTarget.value;h(t),O("".concat(i(t),"px"))}},type:"text",name:"title","aria-label":"Title",ref:y,style:{width:v},value:u,pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, hyphens, commas, and apostrophes"}),Object(U.jsx)("button",{className:At.a.submit,ref:x,name:"submit",type:"submit",children:Object(U.jsx)(ke.a,{className:At.a.fa,icon:ot.a})})]})},Wt=n(20),Mt=n.n(Wt),qt=function(e){if(void 0===e||null===e||""===e)return"-";var t=Number(e);return t%1===0?t.toFixed(0):t.toFixed(1)},Yt=function(e){e.canEdit,e.itemId;var t=e.description,n=e.quantity,o=e.notes,s=e.unitWeight,a=Object(r.useState)(0),i=Object(d.a)(a,2),c=i[0],l=i[1],u=Object(r.useState)(!0),h=Object(d.a)(u,2),m=h[0],f=h[1],b=Z(),p=b.schemeColorDark,g=b.hoverColorLight,j={"--scheme-color":p,"--title-text-color":b.textColorSecondary,"--border-color":b.borderColor,"--body-background-color":b.schemeColorLightest,"--body-text-color":b.textColorTertiary,"--hover-color":g};return Object(U.jsxs)("div",{className:Ne()(Mt.a.root,Object(Le.a)({},Mt.a.collapsed,m)),style:j,children:[Object(U.jsxs)("div",{className:Mt.a.toggle,onClick:function(e){l(Date.now),f(!m)},children:[Object(U.jsx)("span",{className:Mt.a.header,children:Object(U.jsx)("h3",{className:Mt.a.description,children:t})}),Object(U.jsx)("span",{className:Mt.a.quantity,children:Object(U.jsx)("div",{className:Mt.a.quantityContent,children:n})})]}),Object(U.jsx)(rt.a,{toggleEvent:c,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsxs)("div",{className:Mt.a.collapsible,ref:t,children:[Object(U.jsx)("h4",{className:Mt.a.label,children:"Unit Weight:"}),Object(U.jsx)("p",{className:Mt.a.value,children:qt(s)}),Object(U.jsx)("h4",{className:Mt.a.label,children:"Notes:"}),Object(U.jsx)("p",{className:Mt.a.value,children:o||"No details available"})]})}})]})},Gt=n(10),zt=n.n(Gt),Ht=function(e){var t=e.listId,n=Object(r.useState)(0),o=Object(d.a)(n,2),s=o[0],a=o[1],i=Object(r.useState)(!0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=X().setFlashVisible,m=te().performInventoryListItemCreate,f=Z(),b=f.schemeColorDark,p=f.hoverColorLight,g=f.schemeColorLightest,j=f.borderColor,v=f.textColorSecondary,O=f.textColorTertiary,_=Object(r.useRef)(null),y={"--base-color":b,"--hover-color":p,"--body-color":g,"--border-color":j,"--text-color-main":v,"--text-color-secondary":O},x=function(){a(Date.now),u(!l)},w=function(e){e.preventDefault(),h(!1);var n=e.target.elements.unitWeight.value;void 0!==n&&null!==n&&""!==n&&(n=Number(n));var r=e.target.elements.description.value,o=parseInt(e.target.elements.quantity.value),s=e.target.elements.notes.value,a=function(){_.current.reset(),x(),h(!0)};m(t,{description:r,quantity:o,unit_weight:n,notes:s},{onSuccess:a,onNotFound:a,onUnprocessableEntity:function(){return h(!0)},onInternalServerError:a})};return Object(U.jsxs)("div",{className:Ne()(zt.a.root,Object(Le.a)({},zt.a.collapsed,l)),style:y,children:[Object(U.jsx)("div",{className:zt.a.triggerContainer,children:Object(U.jsx)("button",{className:zt.a.triggerButton,onClick:x,children:"Add item to list..."})}),Object(U.jsx)(rt.a,{toggleEvent:s,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsx)("div",{className:zt.a.collapsible,ref:t,children:Object(U.jsxs)("form",{className:zt.a.form,ref:_,onSubmit:w,children:[Object(U.jsxs)("fieldset",{className:zt.a.fieldset,children:[Object(U.jsx)("label",{className:zt.a.label,children:"Description"}),Object(U.jsx)("input",{className:zt.a.input,type:"text",name:"description",placeholder:"Description",required:!0})]}),Object(U.jsxs)("fieldset",{className:zt.a.fieldset,children:[Object(U.jsx)("label",{className:zt.a.label,children:"Quantity"}),Object(U.jsx)("input",{className:zt.a.input,type:"number",inputMode:"numeric",min:1,name:"quantity",defaultValue:1,required:!0})]}),Object(U.jsxs)("fieldset",{className:zt.a.fieldset,children:[Object(U.jsx)("label",{className:zt.a.label,children:"Unit Weight"}),Object(U.jsx)("input",{className:zt.a.input,type:"number",inputMode:"numeric",min:0,step:.1,name:"unitWeight",placeholder:"Unit Weight"})]}),Object(U.jsxs)("fieldset",{className:zt.a.fieldset,children:[Object(U.jsx)("label",{className:zt.a.label,children:"Notes"}),Object(U.jsx)("input",{className:zt.a.input,type:"text",name:"notes",placeholder:"Notes"})]}),Object(U.jsx)("button",{className:zt.a.submit,type:"submit",children:"Add to List"})]})})}})]})},Bt=n(21),Kt=n.n(Bt),Jt=function(e){var t=e.canEdit,n=void 0===t||t,o=e.listId,s=e.title,a='Are you sure you want to delete the list "'.concat(s,'"? You will also lose any list items on the list. This action cannot be undone.'),i=X(),c=i.setFlashAttributes,l=i.setFlashVisible,u=te(),h=u.inventoryLists,m=u.performInventoryListUpdate,f=u.performInventoryListDestroy,b=Object(r.useState)(0),p=Object(d.a)(b,2),g=p[0],j=p[1],v=Object(r.useState)(s),O=Object(d.a)(v,2),_=O[0],y=O[1],x=Object(r.useState)(null),w=Object(d.a)(x,2),C=w[0],L=w[1],S=Object(r.useState)([]),N=Object(d.a)(S,2),k=N[0],E=N[1],I=Object(r.useRef)(!0),D=Object(r.useRef)(null),F=Object(r.useRef)(null),T=Object(r.useRef)(null),P=Pt(D),R=Tt(),A=R.componentRef,W=R.triggerRef,M=R.isComponentVisible,q=R.setIsComponentVisible,Y=function(e){return function(e){return D.current&&(D.current===e||D.current.contains(e))}(e)&&!function(e){return W.current&&(W.current===e||W.current.contains(e))}(e)&&!function(e){return A.current&&(A.current===e||A.current.contains(e))}(e)&&!function(e){return F.current&&(F.current===e||F.current.contains(e))}(e)},G=Z(),z={"--scheme-color":G.schemeColorDarkest,"--border-color":G.borderColor,"--text-color-primary":G.textColorPrimary,"--text-color-secondary":G.textColorSecondary,"--hover-color":G.hoverColorDark,"--scheme-color-lighter":G.schemeColorDark,"--scheme-color-lightest":G.schemeColorLightest};return Object(r.useEffect)((function(){if(h&&I.current){var e=h.find((function(e){return e.id===o})).list_items;E(Object(V.a)(e))}}),[h,o]),Object(r.useEffect)((function(){P&&T.current&&I.current&&L(P.width-T.current.offsetWidth-16)}),[P]),Object(r.useEffect)((function(){return function(){return I.current=!1}}),[]),Object(U.jsxs)("div",{className:Kt.a.root,style:z,children:[Object(U.jsx)("div",{className:Kt.a.titleContainer,children:Object(U.jsxs)("div",{className:Kt.a.trigger,ref:D,onClick:function(e){Y(e.target)&&j(Date.now)},children:[n&&Object(U.jsxs)("span",{className:Kt.a.editIcons,ref:T,children:[Object(U.jsx)("button",{className:Kt.a.icon,ref:F,onClick:function(e){var t=window.confirm(a);if(l(!1),t){var n=l(!0);f(o,{onSuccess:function(){l(!0),I.current=!1},onNotFound:n,onInternalServerError:n})}else c({type:"info",message:"Your list was not deleted."}),l(!0)},"data-testid":"delete-inventory-list",children:Object(U.jsx)(ke.a,{className:Kt.a.fa,icon:Ee.c})}),Object(U.jsx)("button",{className:Kt.a.icon,ref:W,"data-testid":"edit-inventory-list",children:Object(U.jsx)(ke.a,{className:Kt.a.fa,icon:ot.b})})]}),n&&M?Object(U.jsx)(Vt,{formRef:A,maxTotalWidth:C,className:Kt.a.form,title:s,onSubmit:function(e){e.preventDefault(),l(!1);var t,n=e.target.elements.title.value;(!n||(t=n)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]===t&&"all items"!==t.toLowerCase())&&y(Ft(n));var r=function(){I.current&&(y(s),l(!0),q(!1))};m(o,n,{onSuccess:function(){return I.current&&q(!1)},onNotFound:r,onUnprocessableEntity:r,onInternalServerError:r})}}):Object(U.jsx)("h3",{className:Kt.a.title,children:_})]})}),Object(U.jsx)(rt.a,{toggleEvent:g,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsxs)("div",{className:Kt.a.collapsible,ref:t,children:[!n&&0===k.length&&Object(U.jsx)("div",{className:Kt.a.emptyList,children:"This game has no inventory list items."}),n&&Object(U.jsx)(Ht,{listId:o}),k&&k.length>0&&k.map((function(e){var t=e.id,r=e.description,o=e.quantity,a=e.notes,i=e.unit_weight,c="".concat(s.toLowerCase().replace(" ","-"),"-").concat(t);return Object(U.jsx)(Yt,{itemId:t,listTitle:s,description:r,quantity:o,notes:a,unitWeight:i,canEdit:n},c)}))]})}})]})},Qt=n(36),Zt=n.n(Qt),Xt=function(){var e=X(),t=e.setModalAttributes,n=e.setModalVisible,r=ee(),o=r.games,s=r.gameLoadingState,a=te(),i=a.inventoryLists,c=a.inventoryListLoadingState,l=i&&c===M&&i.length>0,u=i&&c===M&&0===i.length;if(s!==M||o.length){if(l)return Object(U.jsx)(U.Fragment,{children:i.map((function(e,t){var n=e.id,r=e.title,o=e.aggregate,s=ge[t<ge.length?t:t%ge.length],a=r.toLowerCase().replace(" ","-");return Object(U.jsx)(G,{colorScheme:s,children:Object(U.jsx)("div",{className:Zt.a.inventoryList,children:Object(U.jsx)(Jt,{canEdit:!o,listId:n,title:r})})},a)}))});if(u)return Object(U.jsx)("p",{className:Zt.a.noLists,children:"This game has no inventory lists."});if(c===W)return Object(U.jsx)(qe,{className:Zt.a.loading,color:he.schemeColorDarkest,height:"15%",width:"15%"});if(s===q||c===q){var d=s===q?"games":"inventory lists";return Object(U.jsx)(Ct,{modelName:d})}return null}return Object(U.jsxs)("p",{className:Zt.a.noLists,children:["You need a game to use the inventory lists feature. ",Object(U.jsx)("button",{className:Zt.a.link,onClick:function(e){e.preventDefault(),t({Tag:ut(pt),props:{title:"Create Game",type:"create"}}),n(!0)},children:"Create a game"})," to get started."]})},$t=n(70),en=n.n($t),tn=function(){var e=X(),t=e.modalVisible,n=e.modalAttributes,r=te().inventoryListLoadingState,o=r===W||r===q;return Object(U.jsxs)(Ve,{title:"Your Inventory",includeGameSelect:!0,children:[t&&Object(U.jsx)(n.Tag,Object(u.a)({},n.props)),Object(U.jsx)(nt,{}),Object(U.jsx)("div",{className:en.a.createForm,children:Object(U.jsx)(It,{disabled:o})}),Object(U.jsx)(Xt,{})]})},nn=n(32),rn=n.n(nn),on=function(e){var t=e.disabled,n=X().setFlashVisible,o=$().performShoppingListCreate,s=Object(r.useState)(""),a=Object(d.a)(s,2),i=a[0],c=a[1],l={"--button-color":fe.schemeColorDark,"--button-text-color":fe.textColorPrimary,"--button-border-color":fe.borderColor,"--button-hover-color":fe.hoverColorLight};return Object(U.jsx)("div",{className:rn.a.root,style:l,children:Object(U.jsx)("form",{"data-testid":"shopping-list-create-form",onSubmit:function(e){e.preventDefault(),n(!1);var t=e.target.elements.title.value,r=function(){c(""),n(!0)};o(t,{onSuccess:r,onNotFound:r,onUnprocessableEntity:function(){return n(!0)},onInternalServerError:r})},children:Object(U.jsxs)("fieldset",{className:Ne()(rn.a.fieldset,Object(Le.a)({},rn.a.fieldsetDisabled,t)),disabled:t,children:[Object(U.jsx)("input",{className:rn.a.input,type:"text",name:"title",placeholder:"Title","aria-label":"Title",value:i,onChange:function(e){var t=e.currentTarget.value;c(t)},pattern:"^\\s*[A-Za-z0-9 \\-',]*\\s*$",title:"Title can only contain alphanumeric characters, spaces, commas, hyphens, and apostrophes"}),Object(U.jsx)("button",{className:Ne()(rn.a.button,Object(Le.a)({},rn.a.buttonDisabled,t)),type:"submit",children:"Create"})]})})})},sn=[{name:"quantity",tag:"input",label:"Quantity",type:"number",placeholder:"Quantity",inputMode:"numeric",min:1,required:!0},{name:"notes",tag:"textarea",label:"Notes",type:"textarea",placeholder:"This item has no notes",inputMode:"text"}],an=function(e){var t=e.buttonColor,n=e.currentAttributes,o=X(),s=o.setFlashVisible,a=o.setModalVisible,i=$().performShoppingListItemUpdate,c=Object(r.useRef)(!0),l=sn.map((function(e){return Object(u.a)({defaultValue:n[e.name]},e)}));return Object(r.useEffect)((function(){return function(){return c.current=!1}}),[]),Object(U.jsx)(ft,{modelName:"shopping-list-item",buttonLabel:"Update Item",buttonColor:t,onSubmit:function(e){e.preventDefault();var t=function(){s(!0),a(!1),c.current=!1},r={onSuccess:t,onNotFound:t,onUnprocessableEntity:t,onInternalServerError:t,onUnauthorized:function(){return c.current=!1}},o=e.target.elements.quantity.value,l=e.target.elements.notes.value;i(n.id,{quantity:o,notes:l},r)},fields:l})},cn=n(7),ln=n.n(cn),un=function(e){if(void 0===e||null===e||""===e)return"-";var t=Number(e);return t%1===0?t.toFixed(0):t.toFixed(1)},dn=function(e){var t=e.itemId,n=e.listTitle,o=e.canEdit,s=e.description,a=e.quantity,i=e.unitWeight,c=e.notes,l=Object(r.useState)(0),u=Object(d.a)(l,2),h=u[0],m=u[1],f=Object(r.useState)(!0),b=Object(d.a)(f,2),p=b[0],g=b[1],j=Object(r.useState)(a),v=Object(d.a)(j,2),O=v[0],_=v[1],y=X(),x=y.setFlashAttributes,w=y.setFlashVisible,C=y.setModalVisible,L=y.setModalAttributes,S=Z(),N=S.schemeColorDarkest,k=S.textColorPrimary,E=S.hoverColorDark,I=S.schemeColorDark,D=S.hoverColorLight,F=S.textColorSecondary,T=S.borderColor,P=S.schemeColorLightest,R=S.textColorTertiary,A=$(),V=A.performShoppingListItemUpdate,W=A.performShoppingListItemDestroy,M=Object(r.useRef)(!0),q=Object(r.useRef)(null),Y=Object(r.useRef)(null),G=Object(r.useRef)(null),z=Object(r.useRef)(null),H=Object(r.useRef)(null),B=function(e,t){return e.current&&(e.current===t||e.current.contains(t))},K=function(e){return function(e){return B(Y,e)}(e)||function(e){return B(G,e)}(e)||function(e){return B(z,e)}(e)||function(e){return B(H,e)}(e)},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;M.current&&(x({type:e,message:t,header:n}),w(!0))},Q={"--main-color":I,"--title-text-color":F,"--border-color":T,"--body-background-color":P,"--body-text-color":R,"--hover-color":D};return Object(r.useEffect)((function(){M.current&&_(a)}),[a]),Object(r.useEffect)((function(){return function(){return M.current=!1}}),[]),Object(U.jsxs)("div",{className:Ne()(ln.a.root,Object(Le.a)({},ln.a.collapsed,p)),style:Q,children:[Object(U.jsxs)("div",{className:ln.a.toggle,onClick:function(e){K(e.target)||(m(Date.now),g(!p))},children:[Object(U.jsxs)("span",{className:Ne()(ln.a.header,Object(Le.a)({},ln.a.headerEditable,o)),children:[o&&Object(U.jsxs)("span",{className:ln.a.editIcons,ref:q,children:[Object(U.jsx)("button",{className:ln.a.icon,ref:G,onClick:function(){window.confirm("Destroy shopping list item? Your aggregate list will be updated to reflect the change. This action cannot be undone.")?W(t,{onSuccess:function(){return M.current=!1},onUnauthorized:function(){return M.current=!1},onNotFound:function(){return w(!0)},onInternalServerError:function(){return w(!0)}}):J("info","Your item was not deleted.")},"data-testid":"destroy-item",children:Object(U.jsx)(ke.a,{className:Ne()(ln.a.fa,ln.a.destroyIcon),icon:Ee.c})}),Object(U.jsx)("button",{className:ln.a.icon,ref:Y,onClick:function(){if(M.current){w(!1);var e=ut(an);L({Tag:e,props:{title:s,subtitle:'On list "'.concat(n,'"'),buttonColor:{schemeColorDarkest:N,hoverColorDark:E,borderColor:T,textColorPrimary:k},currentAttributes:{id:t,quantity:a,notes:c,description:s}}}),C(!0)}},"data-testid":"edit-item",children:Object(U.jsx)(ke.a,{className:ln.a.fa,icon:ot.b})})]}),Object(U.jsx)("h3",{className:ln.a.description,children:s})]}),Object(U.jsxs)("span",{className:ln.a.quantity,children:[o&&Object(U.jsx)("button",{className:ln.a.icon,ref:z,onClick:function(){var e=O,n=O+1;M.current&&_(n),V(t,{quantity:n},{onNotFound:function(){_(e),w(!0)},onInternalServerError:function(){_(e),w(!0)}})},"data-testid":"incrementer",children:Object(U.jsx)(ke.a,{className:ln.a.fa,icon:Ee.b})}),Object(U.jsx)("div",{className:ln.a.quantityContent,children:O}),o&&Object(U.jsx)("button",{className:ln.a.icon,ref:H,onClick:function(){var e=O,n=O-1;if(n>0){var r={onNotFound:function(){_(e),w(!0)},onInternalServerError:function(){_(e),w(!0)}};_(n),V(t,{quantity:n},r)}else if(0===n){window.confirm("Item quantity must be greater than zero. Delete the item instead?")?W(t,(function(){M.current=!1})):J("info","Your item was not deleted.")}},"data-testid":"decrementer",children:Object(U.jsx)(ke.a,{className:ln.a.fa,icon:Ee.a})})]})]}),Object(U.jsx)(rt.a,{toggleEvent:h,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsxs)("div",{className:ln.a.collapsible,ref:t,children:[Object(U.jsx)("h4",{className:ln.a.label,children:"Unit Weight:"}),Object(U.jsx)("p",{className:ln.a.value,children:un(i)}),Object(U.jsx)("h4",{className:ln.a.label,children:"Notes:"}),Object(U.jsx)("p",{className:ln.a.value,children:c||"No details available"})]})}})]})},hn=n(11),mn=n.n(hn),fn=function(e){var t=e.listId,n=Object(r.useState)(0),o=Object(d.a)(n,2),s=o[0],a=o[1],i=Object(r.useState)(!0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=X().setFlashVisible,m=$().performShoppingListItemCreate,f=Z(),b=f.schemeColorDark,p=f.hoverColorLight,g=f.schemeColorLightest,j=f.borderColor,v=f.textColorSecondary,O=f.textColorTertiary,_=Object(r.useRef)(null),y={"--base-color":b,"--hover-color":p,"--body-color":g,"--border-color":j,"--text-color-main":v,"--text-color-secondary":O},x=function(){a(Date.now),u(!l)},w=function(e){e.preventDefault(),h(!1);var n=e.target.elements.unitWeight.value;void 0!==n&&null!==n&&""!==n&&(n=Number(n));var r=e.target.elements.description.value,o=parseInt(e.target.elements.quantity.value),s=e.target.elements.notes.value,a=function(){_.current.reset(),x(),h(!0)};m(t,{description:r,quantity:o,unit_weight:n,notes:s},{onSuccess:a,onNotFound:a,onUnprocessableEntity:function(){return h(!0)},onInternalServerError:a})};return Object(U.jsxs)("div",{className:Ne()(mn.a.root,Object(Le.a)({},mn.a.collapsed,l)),style:y,children:[Object(U.jsx)("div",{className:mn.a.triggerContainer,children:Object(U.jsx)("button",{className:mn.a.triggerButton,onClick:x,children:"Add item to list..."})}),Object(U.jsx)(rt.a,{toggleEvent:s,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsx)("div",{className:mn.a.collapsible,ref:t,children:Object(U.jsxs)("form",{className:mn.a.form,ref:_,onSubmit:w,children:[Object(U.jsxs)("fieldset",{className:mn.a.fieldset,children:[Object(U.jsx)("label",{className:mn.a.label,children:"Description"}),Object(U.jsx)("input",{className:mn.a.input,type:"text",name:"description",placeholder:"Description",required:!0})]}),Object(U.jsxs)("fieldset",{className:mn.a.fieldset,children:[Object(U.jsx)("label",{className:mn.a.label,children:"Quantity"}),Object(U.jsx)("input",{className:mn.a.input,type:"number",inputMode:"numeric",min:1,name:"quantity",defaultValue:1,required:!0})]}),Object(U.jsxs)("fieldset",{className:mn.a.fieldset,children:[Object(U.jsx)("label",{className:mn.a.label,children:"Unit Weight"}),Object(U.jsx)("input",{className:mn.a.input,type:"number",inputMode:"numeric",name:"unitWeight",min:0,step:.1,placeholder:"Unit Weight"})]}),Object(U.jsxs)("fieldset",{className:mn.a.fieldset,children:[Object(U.jsx)("label",{className:mn.a.label,children:"Notes"}),Object(U.jsx)("input",{className:mn.a.input,type:"text",name:"notes",placeholder:"Notes"})]}),Object(U.jsx)("button",{className:mn.a.submit,type:"submit",children:"Add to List"})]})})}})]})},bn=n(22),pn=n.n(bn),gn=function(e){var t=e.canEdit,n=void 0===t||t,o=e.listId,s=e.title,a='Are you sure you want to delete the list "'.concat(s,'"? You will also lose any list items on the list. This action cannot be undone.'),i=Object(r.useState)(0),c=Object(d.a)(i,2),l=c[0],u=c[1],h=Object(r.useState)(s),m=Object(d.a)(h,2),f=m[0],b=m[1],p=Object(r.useState)(null),g=Object(d.a)(p,2),j=g[0],v=g[1],O=Object(r.useState)([]),_=Object(d.a)(O,2),y=_[0],x=_[1],w=Object(r.useRef)(!0),C=Object(r.useRef)(null),L=Object(r.useRef)(null),S=Object(r.useRef)(null),N=Pt(C),k=Tt(),E=k.componentRef,I=k.triggerRef,D=k.isComponentVisible,F=k.setIsComponentVisible,T=X(),P=T.setFlashAttributes,R=T.setFlashVisible,A=$(),W=A.shoppingLists,M=A.performShoppingListUpdate,q=A.performShoppingListDestroy,Y=function(e){return function(e){return C.current&&(C.current===e||C.current.contains(e))}(e)&&!function(e){return I.current&&(I.current===e||I.current.contains(e))}(e)&&!function(e){return E.current&&(E.current===e||E.current.contains(e))}(e)&&!function(e){return L.current&&(L.current===e||L.current.contains(e))}(e)},G=Z(),z={"--scheme-color":G.schemeColorDarkest,"--border-color":G.borderColor,"--text-color-primary":G.textColorPrimary,"--text-color-secondary":G.textColorSecondary,"--hover-color":G.hoverColorDark,"--scheme-color-lighter":G.schemeColorDark,"--scheme-color-lightest":G.schemeColorLightest,"--max-title-width":"".concat(j-32,"px")};return Object(r.useEffect)((function(){if(W&&w.current){var e=W.find((function(e){return e.id===o})).list_items;x(Object(V.a)(e))}}),[W,o]),Object(r.useEffect)((function(){N&&S.current&&w.current&&v(N.width-S.current.offsetWidth-16)}),[N]),Object(r.useEffect)((function(){return function(){return w.current=!1}}),[]),Object(U.jsxs)("div",{className:pn.a.root,style:z,children:[Object(U.jsx)("div",{className:pn.a.titleContainer,children:Object(U.jsxs)("div",{className:pn.a.trigger,ref:C,onClick:function(e){Y(e.target)&&u(Date.now)},children:[n&&Object(U.jsxs)("span",{className:pn.a.editIcons,ref:S,children:[Object(U.jsx)("button",{className:pn.a.icon,ref:L,onClick:function(e){var t=window.confirm(a);if(R(!1),t){var n=function(){return R(!0)};q(o,{onSuccess:function(){R(!0),w.current=!1},onNotFound:n,onInternalServerError:n})}else w.current&&(P({type:"info",message:"Your list was not deleted."}),R(!0))},"data-testid":"delete-shopping-list",children:Object(U.jsx)(ke.a,{className:pn.a.fa,icon:Ee.c})}),Object(U.jsx)("button",{className:pn.a.icon,ref:I,"data-testid":"edit-shopping-list",children:Object(U.jsx)(ke.a,{className:pn.a.fa,icon:ot.b})})]}),n&&D?Object(U.jsx)(Vt,{formRef:E,maxTotalWidth:j,className:pn.a.form,title:s,onSubmit:function(e){e.preventDefault(),R(!1);var t,n=e.nativeEvent.target.children[0].defaultValue;(!n||(t=n)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)&&t.match(/^\s*[a-z0-9 ]*\s*$/i)[0]===t&&"all items"!==t.toLowerCase())&&b(Ft(n));var r=function(){b(s),R(!0)};M(o,n,{onNotFound:r,onUnprocessableEntity:r,onInternalServerError:r}),F(!1)}}):Object(U.jsx)("h3",{className:pn.a.title,children:f})]})}),Object(U.jsx)(rt.a,{toggleEvent:l,collapsed:!0,children:function(e){var t=e.setCollapsibleElement;return Object(U.jsxs)("div",{className:pn.a.collapsible,ref:t,children:[!n&&0===y.length&&Object(U.jsx)("div",{className:pn.a.emptyList,children:"This game has no shopping list items."}),n&&Object(U.jsx)(fn,{listId:o}),y&&y.length>0&&y.map((function(e){var t=e.id,r=e.description,o=e.quantity,a=e.notes,i=e.unit_weight,c="".concat(s.toLowerCase().replace(" ","-"),"-").concat(t);return Object(U.jsx)(dn,{itemId:t,listTitle:s,canEdit:n,description:r,quantity:o,notes:a,unitWeight:i},c)}))]})}})]})},jn=n(37),vn=n.n(jn),On=function(){var e=X(),t=e.setModalAttributes,n=e.setModalVisible,r=ee(),o=r.games,s=r.gameLoadingState,a=$(),i=a.shoppingLists,c=a.shoppingListLoadingState,l=i&&c===M&&i.length>0,u=i&&c===M&&0===i.length;if(s!==M||o.length){if(l)return Object(U.jsx)(U.Fragment,{children:i.map((function(e,t){var n=e.id,r=e.title,o=e.aggregate,s=ge[t<ge.length?t:t%ge.length],a=r.toLowerCase().replace(" ","-");return Object(U.jsx)(G,{colorScheme:s,children:Object(U.jsx)("div",{className:vn.a.shoppingList,children:Object(U.jsx)(gn,{canEdit:!o,listId:n,title:r})})},a)}))});if(u)return Object(U.jsx)("p",{className:vn.a.noLists,children:"This game has no shopping lists."});if(c===W)return Object(U.jsx)(qe,{className:vn.a.loading,color:he.schemeColorDarkest,height:"15%",width:"15%"});if(s===q||c===q){var d=s===q?"games":"shopping lists";return Object(U.jsx)(Ct,{modelName:d})}return null}return Object(U.jsxs)("p",{className:vn.a.noLists,children:["You need a game to use the shopping lists feature. ",Object(U.jsx)("button",{className:vn.a.link,onClick:function(e){e.preventDefault(),t({Tag:ut(pt),props:{title:"Create Game",type:"create"}}),n(!0)},children:"Create a game"})," to get started."]})},_n=n(71),yn=n.n(_n),xn=function(){var e=X(),t=e.modalVisible,n=e.modalAttributes,o=$().shoppingListLoadingState,s=o===W||o===q,a=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){return a.current=!1}}),[]),Object(U.jsxs)(Ve,{title:"Your Shopping Lists",includeGameSelect:!0,children:[t&&Object(U.jsx)(n.Tag,Object(u.a)({},n.props)),Object(U.jsx)(nt,{}),Object(U.jsx)("div",{className:yn.a.createForm,children:Object(U.jsx)(on,{disabled:s})}),Object(U.jsx)(On,{})," "]})},wn=n(47),Cn=n.n(wn),Ln=function(){var e=X().token;return Object(U.jsx)("div",{className:Cn.a.root,children:Object(U.jsxs)("div",{className:Cn.a.container,children:[Object(U.jsx)("h1",{className:Cn.a.header,children:"SIM: Page Not Found"}),Object(U.jsx)(i.b,{className:Cn.a.link,to:e?T.dashboard.main:T.home,children:"Go Back"})]})})},Sn="Skyrim Inventory Management |",Nn=[{pageId:"home",title:"".concat(Sn," Home"),description:"Manage your inventory across multiple properties in Skyrim",jsx:Object(U.jsx)(ae,{}),path:T.home},{pageId:"login",title:"".concat(Sn," Login"),description:"Log into Skyrim Inventory Management using your Google account",jsx:Object(U.jsx)(de,{}),path:T.login},{pageId:"dashboard",title:"".concat(Sn," Dashboard"),description:"Skyrim Inventory Management User Dashboard",jsx:Object(U.jsx)(Xe,{}),path:T.dashboard.main},{pageId:"games",title:"".concat(Sn," Your Games"),description:"Manage Skyrim Games",jsx:Object(U.jsx)(re,{children:Object(U.jsx)(Nt,{})}),path:T.dashboard.games},{pageId:"shoppingLists",title:"".concat(Sn," Manage Shopping Lists"),description:"Manage Skyrim Shopping Lists",jsx:Object(U.jsx)(re,{children:Object(U.jsx)(B,{children:Object(U.jsx)(xn,{})})}),path:T.dashboard.shoppingLists},{pageId:"inventory",title:"".concat(Sn," Manage Inventory"),description:"Manage Skyrim Inventory",jsx:Object(U.jsx)(re,{children:Object(U.jsx)(J,{children:Object(U.jsx)(tn,{})})})}],kn=function(){return Object(U.jsxs)(l.d,{children:[Nn.map((function(e){var t=e.pageId,n=e.title,r=e.description,o=e.jsx,s=e.path;return Object(U.jsxs)(l.b,{exact:!0,path:s,children:[Object(U.jsxs)(c.a,{children:[Object(U.jsx)("html",{lang:"en"}),Object(U.jsx)("title",{children:n}),Object(U.jsx)("meta",{name:"description",content:r})]}),Object(U.jsx)(A,{children:o})]},t)})),Object(U.jsxs)(l.b,{children:[Object(U.jsxs)(c.a,{children:[Object(U.jsx)("html",{lang:"en"}),Object(U.jsx)("title",{children:"Skyrim Inventory Management | Page Not Found"}),Object(U.jsx)("meta",{name:"description",content:"Skyrim Inventory Management could not find the page you were looking for"})]}),Object(U.jsx)(A,{children:Object(U.jsx)(Ln,{})})]},"notFound")]})},En=function(){return Object(U.jsx)(i.a,{basename:"",children:Object(U.jsx)(c.b,{children:Object(U.jsx)(kn,{})})})};a.a.render(Object(U.jsx)(o.a.StrictMode,{children:Object(U.jsx)(En,{})}),document.getElementById("root"))}],[[88,1,2]]]);
//# sourceMappingURL=main.4e2cfb47.chunk.js.map