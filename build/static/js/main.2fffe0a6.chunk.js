(this.webpackJsonpskyrim_inventory_management_frontend=this.webpackJsonpskyrim_inventory_management_frontend||[]).push([[0],{13:function(e,o,t){e.exports={root:"home_root__FVET7",container:"home_container__21QWL",header:"home_header__2rWYK",login:"home_login__PpxdQ"}},15:function(e,o,t){e.exports={root:"login_root__3wNY7",container:"login_container__3BdxE",button:"login_button__CN8ce"}},20:function(e,o,t){e.exports={body:"logoutDropdown_body__NiLPw",googleLogout:"logoutDropdown_googleLogout__J9YSG"}},23:function(e,o,t){e.exports={root:"navigationMosaic_root__2CDUx",card:"navigationMosaic_card__3hEln"}},24:function(e,o,t){e.exports={root:"dashboard_root__2oWrU",body:"dashboard_body__28Wid"}},31:function(e,o,t){e.exports={root:"navigationCard_root__1-FD3"}},37:function(e,o,t){},44:function(e,o,t){"use strict";t.r(o);var a=t(0),n=t.n(a),r=t(26),c=t.n(r),i=(t(37),t(10)),s=t(14),d=t(3),l=t(7),h=t(45),b={home:"/",login:"/login",dashboard:{main:"/dashboard",shoppingLists:"/dashboard/shoppingLists"}},j="891031345873-gf3loovttd7bfvrq4ilqdduvvibb0tub.apps.googleusercontent.com",u="https://sim-api.danascheider.com",m="https://sim.danascheider.com",g="_sim_google_session",_=t(29),p=t.n(_),x=t.p+"static/media/googleIcon.9432a66b.svg",O=t(20),f=t.n(O),v=t(1),y=function(e){var o=e.className,t=Object(h.a)([g]),a=Object(l.a)(t,3),n=a[0],r=a[2];return Object(v.jsx)("button",{className:o,onClick:function(){var e="https://accounts.google.com/o/oauth2/revoke?token="+n[g];fetch(e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return r(g),Object(v.jsx)(d.a,{to:b.home})}))},children:Object(v.jsx)("div",{className:f.a.body,children:Object(v.jsxs)("div",{className:f.a.googleLogout,children:[Object(v.jsx)("img",{src:x,alt:"Google logo"}),"Log Out With Google"]})})})},k=t.p+"static/media/anonymousAvatar.36d1acc1.jpg",N=t(9),C=t.n(N),F=function(e){var o=e.data,t=o.email,n=o.name,r=o.image_url,c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],d=i[1];return Object(v.jsx)("div",{className:C.a.root,children:Object(v.jsxs)("div",{className:C.a.bar,children:[Object(v.jsx)("span",{className:C.a.headerContainer,children:Object(v.jsx)("h1",{className:C.a.header,children:"Skyrim Inventory Management"})}),Object(v.jsxs)("button",{className:C.a.profile,onClick:function(){return d(!s)},children:[Object(v.jsxs)("div",{className:C.a.profileText,children:[Object(v.jsx)("p",{className:C.a.textTop,children:n}),Object(v.jsx)("p",{className:C.a.textBottom,children:t})]}),Object(v.jsx)("img",{className:C.a.avatar,src:r||k,alt:"User avatar",referrerPolicy:"no-referrer"})]}),Object(v.jsx)(y,{className:s?C.a.logoutDropdown:C.a.hidden})]})})},L=t(31),S=t.n(L),H=function(e){var o=e.backgroundColor,t=e.textColor,a=e.href,n=(e.key,e.children);return Object(v.jsx)("a",{className:S.a.root,href:a,style:{"--background-color":o,"--text-color":t},children:n})},I=t(23),w=t.n(I),B=function(e){var o=e.cardArray;return Object(v.jsx)("div",{className:w.a.root,children:o.map((function(e){var o=e.backgroundColor,t=e.textColor,a=e.href,n=e.children,r=e.key;return Object(v.jsx)("div",{className:w.a.card,children:Object(v.jsx)(H,{backgroundColor:o,textColor:t,href:a,children:n})},r)}))})},T=t(24),D=t.n(T),E=[{backgroundColor:"#FFBF00",textColor:"#000000",href:b.shoppingLists,children:"Your Shopping Lists",key:"shopping-lists"},{backgroundColor:"#E83F6F",textColor:"#FFFFFF",href:"#",children:"Nav Link 2",key:"nav-link-2"},{backgroundColor:"#2274A5",textColor:"#FFFFFF",href:"#",children:"Nav Link 3",key:"nav-link-3"},{backgroundColor:"#00A323",textColor:"#FFFFFF",href:"#",children:"Nav Link 4",key:"nav-link-4"},{backgroundColor:"#20E2E9",textColor:"#000000",href:"#",children:"Nav Link 5",key:"nav-link-5"}],M=function(){var e=Object(h.a)([g]),o=Object(l.a)(e,3),t=o[0],n=o[2],r=Object(a.useState)(null),c=Object(l.a)(r,2),i=c[0],s=c[1],j=Object(a.useState)(!t[g]),m=Object(l.a)(j,2),_=m[0],x=m[1];return Object(a.useEffect)((function(){var e="".concat(u,"/users/current");fetch(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t[g])}}).then((function(e){return 401===e.status?(n(g),x(!0),{}):e.json()})).then((function(e){return s(e)})).catch((function(e){return console.log(e)}))}),[t,n]),_?Object(v.jsx)(d.a,{to:b.login}):Object(v.jsxs)("div",{className:D.a.root,children:[Object(v.jsx)("div",{className:D.a.body,children:Object(v.jsx)(B,{cardArray:E})}),i?Object(v.jsx)(F,{data:i}):Object(v.jsx)(p.a,{type:"spinningBubbles",color:"#ccc"})]})},A=t(13),W=t.n(A),U=function(){var e=Object(h.a)([g]);return Object(l.a)(e,3)[0][g]?Object(v.jsx)(d.a,{to:b.dashboard.main}):Object(v.jsx)("div",{className:W.a.root,children:Object(v.jsxs)("div",{className:W.a.container,children:[Object(v.jsx)("h1",{className:W.a.header,children:"Skyrim Inventory Management"}),Object(v.jsx)(i.b,{className:W.a.login,to:b.login,children:"Log in with Google"})]})})},G=t(32),q=t.n(G),P=t(15),Y=t.n(P),z=function(){var e=Object(h.a)([g]),o=Object(l.a)(e,3),t=o[0],a=o[1],n=o[2];return t[g]?Object(v.jsx)(d.a,{to:b.dashboard.main}):Object(v.jsx)("div",{className:Y.a.root,children:Object(v.jsx)("div",{className:Y.a.container,children:Object(v.jsx)(q.a,{className:Y.a.button,clientId:j,buttonText:"Log In With Google",onSuccess:function(e){var o=e.tokenId,r="".concat(u,"/auth/verify_token");t[g]!==o&&fetch(r,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}}).then((function(e){!0===e.ok?a(g,o):t[g]&&n(g)})).catch((function(e){return console.log(e)}))},onFailure:function(e){console.log("Login failure: ",e),t[g]&&n(g)},redirectUri:"".concat(m).concat(b.dashboard.main)})})})},J="Skyrim Inventory Management |",K=[{pageId:"home",title:"".concat(J," Home"),description:"Manage your inventory across multiple properties in Skyrim",Component:U,path:b.home},{pageId:"login",title:"".concat(J," Login"),description:"Log into Skyrim Inventory Management using your Google account",Component:z,path:b.login},{pageId:"dashboard",title:"".concat(J," Dashboard"),description:"Skyrim Inventory Management User Dashboard",Component:M,path:b.dashboard.main}],Q=function(){return Object(v.jsx)(d.d,{children:K.map((function(e){var o=e.pageId,t=e.title,a=e.description,n=(e.baseStyles,e.Component),r=e.path;return Object(v.jsxs)(d.b,{exact:!0,path:r,children:[Object(v.jsxs)(s.a,{children:[Object(v.jsx)("html",{lang:"en"}),Object(v.jsx)("title",{children:t}),Object(v.jsx)("meta",{name:"description",content:a})]}),Object(v.jsx)(n,{})]},o)}))})},V=function(){return Object(v.jsx)(i.a,{basename:"",children:Object(v.jsx)(s.b,{children:Object(v.jsx)(Q,{})})})};c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(V,{})}),document.getElementById("root"))},9:function(e,o,t){e.exports={root:"dashboardHeader_root__3lzne",bar:"dashboardHeader_bar__1XEWl",headerContainer:"dashboardHeader_headerContainer__1ZVqS",header:"dashboardHeader_header__cB1mg",profile:"dashboardHeader_profile__A3WxH",profileText:"dashboardHeader_profileText__1HPKf",textTop:"dashboardHeader_textTop__2UNgU",textBottom:"dashboardHeader_textBottom__1vLtl",avatar:"dashboardHeader_avatar__2BhRu",logoutDropdown:"dashboardHeader_logoutDropdown__37Dm5",hidden:"dashboardHeader_hidden__Fkjhq"}}},[[44,1,2]]]);
//# sourceMappingURL=main.2fffe0a6.chunk.js.map